[{"content":"ABDM Sandbox The Ayushman Bharat Digital Mission has developed building blocks and APIs to offer a seamless digital healthcare experience for all stakeholders – health facilities, patients and healthcare workers. The digital infrastructure developed is now accessible to health facilities and health tech players for integration.\nHere’s a picture to help you understand different interaction touchpoints of a patient with the system:\nABDM Sandbox Journey ABDM aims at bringing out inoperability and sharing of health information among all the participants in India. For this to happen, we expect the software developers to implement certain functionalities by integrating with ABDM building blocks. Integration with ABDM sandbox is designed for them to test the integration. Once integrated, the software developers (companies) can get independent functional validation and apply for ABDM certification (called as Sandbox Exit) via Sandbox. The certified version of the software can then be deployed for the various health service providers.\nHere’s how your journey through the sandbox looks like:\nSubmit your Sandbox application Receive a Sandbox client ID \u0026 secret (key) from National Health Authority (NHA) Understand the various functionalities (test cases) to be implemented for each milestone Ensure you are comfortable with the APIs to implement each functionality (using Postman) Implement the functionality in your application Get functional validation report from one of the 3 empanelled companies Get security test report from one of the 3 empanelled companies Apply for Sandbox Exit Demo your app to NHA team Obtain a Production client ID \u0026 secret (key) from NHA Deploy your certified application with NHA Building Blocks The Sandbox hosts of the following digital building blocks that are useful for anyone wanting to comply to the HIP, HRP and HIU guidelines:\nABHA Number Service - Create a ABHA Number, integrate your software with the ABHA Number APIs Consent Manager and Gateway - Register your software as a HIP or HIU and ensure you are able to correctly link records, process consent requests Sandbox ABHA Mobile Application for Android - Use the application to manage your ABHA Number, view health records and manage consents Sandbox HIU application to create consent requests for a ABHA Number Sandbox DigiDoctor and APIs to register and verify doctors Sandbox Health Facility Registry and APIs to register and verify facilities ABHA Sandbox Setup Milestones It is recommended developing this experience in three milestones, each building over the previous:\nMilestone 1: ABHA Number creation and capture \u0026 verification for seamless patient registration. Milestone 2: Building Health Information Provider (HIP) services to share digital records via Personal Health Records (ABHA) app. Milestone 3: Developing Health Information User (HIU) services to provide view of patient’s medical history to authorized healthcare workers with complete consent ABHA Address Hospitals \u0026 Labs are expected to link records with their patients ABHA Address (also called PHR address) Creating an PHR (Public Health Record) Address is super simple – all it needs is your Name, Year of birth, Gender along with a Mobile number.\nKey benefits of creating an PHR Address are:\nEasy access to health information in a paperless manner Voluntary opt-in and opt-out at anytime Enables authentication for consent driven access to health data along with capabilities to manage and revoke consent Inclusive access to people with smartphones, feature phones, and even no phones using assisted methods This section offers step-by-step guidance on the following for interested stakeholders: Guidelines to integrate ABDM-powered services (ABHA Number capture \u0026 verification, HIP services, HIU application) in the testing environment called Sandbox More details are provided in the given document Process to exit sandbox and deploy application in facilities located across all States and UTs.\n","description":"","tags":null,"title":"About ABDM Sandbox","uri":"/abdm-docs/1-basics/about_abdm_sandbox/index.html"},{"content":"Obligations of HIP ","description":"","tags":null,"title":"Obligations of HIP","uri":"/abdm-docs/9-more/obligations_of_hip/index.html"},{"content":"Creation of Consent Request Overview of the functionality From an HIU perspective, the flow begins when the HIU (e.g., a Doctor at a Hospital) requests consent to view the patient’s data. Upon receipt of such a request from Gateway, CM acknowledges and sends back a consent request ID to the HIU via the gateway. The CM then notifies the patient that an HIU has made a consent request. The patient can view the request details and choose to either grant consent or deny it. Subsequently, the CM notifies the HIU requester of the patient’s consent or denial status via the gateway. If the request is granted, the CM sends across the Ids of the consent artefacts that were created against the request, to the HIU. If the request is denied, the CM simply notifies the HIU of the denial of the request. API Sequence The following diagram explains the consent request creation flow of forwarding the request to the gateway so that gateway can forward it to respective CM\nAPI Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Identify a patient This API is meant for identify to patient given her consent-manager-user-id\nURL: https://dev.abdm.gov.in/gateway/v0.5/patients/find\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-21T10:53:44.967Z\", \"query\": { \"patient\": { \"id\": \"hinapatel79@sbx\" }, \"requester\": { \"type\": \"HIU\", \"id\": \"HIU_ID\" } } } Response:\n202 Accepted\n3. Callback API for patient/find If a patient is found then patient.name contains the patients name. Otherwise, patient is not provided, and possibly error is raised for invalid requests Note in addition to the “Authorization” header, one of the following headers must be specified\nspecify X-HIU-ID if the requester is HIU (identified from /find requester.id) specify X-HIP-ID if the requester is HIP (identified from /find requester.id)\nURL: {HIU CALLBACK URL}/v0.5/patients/on-find\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nX-HIP-ID string (header) : your-HIP-ID Identifier of the health information provider to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-21T10:59:01.680Z\", \"patient\": { \"id\": \"hinapatel79@sbx\", \"name\": \"Hina Patel\" }, \"error\": null, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\n4. Create consent request Creates a consent request to get data about a patient by HIU user.\nURL: https://dev.abdm.gov.in/cm/v0.5/consent-requests/init\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"{{$guid}}\", \"timestamp\": \"{{timestamp}}\", \"consent\": { \"purpose\": { \"text\": \"Self requested\", \"code\": \"CAREMGT\", \"refUri\": \"string\" }, \"patient\": { \"id\": \"hinapatel79@sbx\" }, \"hiu\": { \"id\": \"HIU_ID\" }, \"requester\": { \"name\": \"Dr. Manju\", \"identifier\": { \"type\": \"REGNO\", \"value\": \"MH1001\", \"system\": \"https://www.mciindia.org\" } }, \"hiTypes\": [ \"OPConsultation\", \"Prescription\", \"DischargeSummary\", \"DiagnosticReport\", \"ImmunizationRecord\", \"HealthDocumentRecord\", \"WellnessRecord\" ], \"permission\": { \"accessMode\": \"VIEW\", \"dateRange\": { \"from\": \"2022-06-21T11:05:00.442Z\", \"to\": \"2022-06-21T11:05:00.442Z\" }, \"dataEraseAt\": \"2022-06-21T11:05:00.442Z\", \"frequency\": { \"unit\": \"HOUR\", \"value\": 1, \"repeats\": 1 } } } } Response:\n202 Accepted\n5. Response to consent request Result of consent request creation for a patient. consentRequest.id represents the consentrequest id created by CM. The result must contain either consentRequest or the error caused. Reasons for error may be Invalid references (e.g patient id, hiu id), purpose, hiTypes, ranges, persmission.\nURL: {HIU CALLBACK URL}/v0.5/consent-requests/on-init\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-21T11:13:31.921Z\", \"consentRequest\": { \"id\": \"f29f0e59-8388-4698-9fe6-05db67aeac46\" }, \"error\": null, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\n6. Get consent request status Get status of consent request done previously\nURL: https://dev.abdm.gov.in/cm/v0.5/consent-requests/status\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-21T11:15:53.730Z\", \"consentRequestId\": \"string\" } Response:\n202 Accepted\n7. Result of consent request status Result of consent request done previously. Status of request can be GRANTED, DENIED, EXPIRED. If the request was GRANTED, then\nURL: {HIU CALLBACK URL}/v0.5/consent-requests/on-status\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-21T11:16:58.583Z\", \"consentRequest\": { \"id\": \"\u003cconsent-request-id\u003e\", \"status\": \"GRANTED\", \"consentArtefacts\": [ { \"id\": \"\u003cconsent-artefact-id\u003e\" } ] }, \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Consent Request","uri":"/abdm-docs/3-get-health-records/consent-flow/consent-request/index.html"},{"content":"Subscription Flow This section covers the methods that must be supported to Subscription Flow\n","description":"","tags":null,"title":"Subscription Flow","uri":"/abdm-docs/3-get-health-records/subscription-flow/index.html"},{"content":"Creation of Subscription Request Flow Overview of the functionality Subscription request against PHR address Subscription Request appoval Notification to HIU Whenever new data is available the HIU will be notified if there is an active subscription. API Sequence API Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Create Request for Subscription Creates a request for subscription. The subscription categories can be for care-contexts linkages or availability of data against existing care-contexts. Note that the requester must have HIU role.\nURL: https://dev.abdm.gov.in/gateway/v0.5/subscription-requests/cm/init\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"da98c401-a188-48c0-b97d-bba04c7c2c12\", \"timestamp\": \"2022-07-08T11:16:43.665Z\", \"subscription\": { \"purpose\": { \"text\": \"Care Management\", \"code\": \"CAREMGT\", \"refUri\": \"string\" }, \"patient\": { \"id\": \"hinapatel79@sbx\" }, \"hiu\": { \"id\": \"HIU-ID\" }, \"hips\": [ { \"id\": \"HIP-ID\" } ], \"categories\": [ \"LINK\" ], \"period\": { \"from\": \"2022-06-16T08:54:51.397Z\", \"to\": \"2022-07-25T08:54:51.397Z\" } } } Response:\n202 Accepted\n3. Callback on Subscription Request This callback API acknowledges the request for subscription from a HIU, and sends back a “id” that will be used when the patient/user approves or denies the subscription.\nURL: {HIU CALLBACK URL}/v0.5/subscription-requests/hiu/on-init\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"e7cb5bcf-b1f1-477d-bf04-637217009708\", \"timestamp\": \"2022-07-08T11:14:19.12645\", \"subscriptionRequest\": { \"id\": \"a38aa587-70c6-4b3e-9d76-93fc7e9fd410\" }, \"error\": null, \"resp\": { \"requestId\": \"983c4a30-271c-4add-b50f-85c88b6ded8f\" } } Response:\n202 Accepted\n4. Notification for Subscription Request Grant/Deny/Revoke This API is used by CM to notify a HIU to grant or deny a request for subscription, and also to notify that in case an existing subscription is revoked or expired. For notifying that a particular subscription request was GRANTED or DENIED, the subscriptionRequestId is passed.\nURL: {HIU CALLBACK URL}/v0.5/subscription-requests/hiu/notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f680014-cd8e-4cf8-8a3a-79f1ce3e7c23\", \"timestamp\": \"2022-07-08T11:18:21.418348\", \"notification\": { \"subscriptionRequestId\": \"a38aa587-70c6-4b3e-9d76-93fc7e9fd410\", \"status\": \"GRANTED\", \"subscription\": { \"id\": \"42d4f25f-b8f4-4c52-80a5-11b02de1ad2f\", \"patient\": { \"id\": \"hinapatel79@sbx\" }, \"hiu\": { \"id\": \"HIU-ID\", \"name\": \"HIU NAME\" }, \"sources\": [ { \"hip\": { \"id\": \"HIP-ID\", \"name\": \"HIP NAME\" }, \"categories\": [ \"LINK\" ], \"period\": { \"from\": \"2022-06-16T08:54:51.397\", \"to\": \"2022-07-25T08:54:51.397\" } } ] } } } Response:\n202 Accepted\n5. Callback API for /subscription-requests/hiu/notify to acknowledge receipt of notification. This API is called by HIU as acknowledgement to subscription request relevant notifications.\nURL: https://dev.abdm.gov.in/gateway/v0.5/subscription-requests/hiu/on-notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"e2b422c4-8026-4931-bfa3-111c2accd1c7\", \"timestamp\": \"2022-07-08T11:32:28.779000\", \"acknowledgement\": { \"status\": \"OK\", \"subscriptionRequestId\": \"a38aa587-70c6-4b3e-9d76-93fc7e9fd410\" }, \"error\": null, \"resp\": { \"requestId\": \"5f680014-cd8e-4cf8-8a3a-79f1ce3e7c23\" } } Response:\n202 Accepted\n6. Notification to HIU on basis of a granted subscription This API is used by CM to notify a HIU for notification relevant to subscription. Notifications are sent to subscribed HIUs whenever a new care-context is linked or new data is available on an existing linked care-context.\nif event.category = LINK, then only care-contexts are passed when new care-contexts are linked for patient. If event.category = DATA, then hiTypes are passed. Care-context is passed only if the subscribed HIU has any valid consent for that care-context\nURL: {HIU CALLBACK URL}/v0.5/subscriptions/hiu/notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"07cc2f96-ff63-4f49-b11a-354599a7f299\", \"timestamp\": \"2022-07-08T11:27:43.230328\", \"event\": { \"id\": \"add38a15-1bf3-4132-bca9-24ddc1830238\", \"published\": \"2022-07-08T11:27:43.190529\", \"subscriptionId\": \"42d4f25f-b8f4-4c52-80a5-11b02de1ad2f\", \"category\": \"LINK\", \"content\": { \"patient\": { \"id\": \"hinapatel79@sbx\" }, \"hip\": { \"id\": \"HIP-ID\", \"name\": \"HIP NAME\" }, \"context\": [ { \"careContext\": { \"patientReference\": \"hinapatel79@sbx\", \"careContextReference\": \"01012021123\" }, \"hiTypes\": [ \"OPConsultation\" ] } ] } } } Response:\n202 Accepted\n7. Callback API for /subscriptions/hiu/notify to acknowledge receipt of notification. This API is called by HIU as acknowledgement to consent notifications, specifically for cases when consent is REVOKED or EXPIRED.\nURL: https://dev.abdm.gov.in/gateway/v0.5/subscriptions/hiu/on-notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"b185f11e-3277-4d47-8a2c-16b86daccc73\", \"timestamp\": \"2022-07-08T11:32:28.779000\", \"acknowledgement\": { \"status\": \"OK\", \"eventId\": \"add38a15-1bf3-4132-bca9-24ddc1830238\" }, \"error\": null, \"resp\": { \"requestId\": \"07cc2f96-ff63-4f49-b11a-354599a7f299\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Subscription Request Flow","uri":"/abdm-docs/3-get-health-records/subscription-flow/subscription-flow/index.html"},{"content":"Whenever a new Health record (Prescription, Lab Report, etc) is created by the HRP and is ready to be shared with the patient, the HRP must check if there is a saved PHR address available for the patient.\nIf there is no PHR address saved, the HRP must notify ABDM that there is now a new health record for the patient. The API only expects a mobile number. No information on the name of the patient or any details of the health record are part of the notification requirement.\nABDM uses this to help educate users that they can now access their health records from the health facility in a interoperable manner.\nThe expected User flow is given below :\nPatient visits a health facility and registers by providing Name, DoB, Gender and Mobile. Patient does not share any ABHA address with the facility. A new health record is ready to be shared with the patient The HRP calls the SMS notify API. Only the mobile number and the HIPCODE of the facility is part of the API. HIP Code is usually the same as the Health Facility Registry code of the health facility. ABDM will send an SMS to the user with a deep link. The content of the message will be: Dear Madam/Sir,\nfacility name is now participating in Ayushman Bharat Digital Mission (ABDM). Your report at this facility is now ready. See your record by clicking on on https://phr.abdm.gov.in/uhi/HIPCODE\nABDM,NHA\nClicking on the link will show the list of all PHR Mobile Applications that are ABDM production approved The list of apps are presented in a random order each time the link is opened. The list of apps displayed is specific to the OS – Android or IOS Selecting an app will launch the app if already installed on the device or take the user to the play store (android) / app store (ios) to download the app. The deep link passed to the app in both scenarios contains the HIPCODE. The PHR Mobile Application will help new users to register and create a ABHA Address using their name, date of birth, gender and mobile. The PHR Application must recognize the invocation was via a Deep Link. It will initiate a Discovery request to the HIPCODE that was part of the deep link. It is important for the PHR Mobile Application to guide the user to provide the same Name, DoB, Gender and Mobile number that was provided to the Health Facility. If there is any difference in this information, the health record cannot be retrieved correctly. ABDM will forward the Discovery request from the PHR Application to the participating Health Facility. The Discovery request consists of the ABHA Address (chosen by the user), Name, DoB, Gender and Mobile Number. The Health facility will search for any health records for this combination. If it finds a record it will respond with the available records listed in the form of care contexts. The PHR Application should be able to display this to the user, link the care context to the ABHA Address, collect the appropriate consent from the user, fetch the health record(s) from the facility and display it to the user. Following API must be be used by HRPs for the same -\n1. Call the notification API URL: https://dev.abdm.gov.in/gateway/v0.5/patients/sms/notify2\nMETHOD: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain shared in the HEALTH_ID Request Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-02-08T10:48:02.530Z\", \"notification\": { \"phoneNo\": \"+91-9999999999\", \"hip\": { \"name\": \"Max Healthcare\", \"id\": \"DEMO_TEST_008\" } } } Response 202 Accepted\n2. Check the call back to ensure it was successful URL: {HRP CALLBACK URL}/v0.5/patients/sms/on-notify\nMETHOD: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain shared in the HEALTH_ID If the SMS notification is successfully sent to the patient then “status” will be “ACKNOWLEDGED” with no error. If the SMS notification is failed then “status” will be “ERRORED” with error.\nRequest Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-02-08T10:56:37.221Z\", \"status\": \"ACKNOWLEDGED\", \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Ensure the flow works correctly Download the ABHA Mobile Application from the sandbox site at phrsbx.adbm.gov.in.\nCreate a new health record in your HRP for a user without a PHR address The SMS Notify API should be called by your HRP Verify that you get the deep link on your mobile phone Click on the link and launch the ABHA Mobile application. Create or login with a PHR address that matches the patient that was registered in your HRP Verify that the ABHA application is now able to discover the record Note that you must have already implemented the discovery flow in yoru HRP. ","description":"","tags":null,"title":"Notify via SMS","uri":"/abdm-docs/2-sharing-health-records/notify-on-new-records/notify-via-sms/index.html"},{"content":"Overview of the functionality: HIU create a request to obtain a patient’s consent to access health information Consent request as HIU comes with a consent expiry time, after which you will not be able to access the patient’s data. Patient grant or deny the consent request via PHR App The HIP/HRP receives the consent artefact after patients grants a request. Consent artefect saved in HIP/HRP end for future use. Approved/reject consent aretefect communicated to HIU Obtaining the patient’s consent for information sharing begins when the HIU system issues a consent request to the consent manager (HIE-CM) for the patient’s data. The patient can view the request details on his/her PHR App, and choose to either grant consent or deny it. The Consent Manager, notifies the HIU, and also sends a notification to the HIP/HRP of the patient’s consent if granted . HIP/HRP save that consent artefect for further use . Patient can also revoke the consent if desired.\nFollowing are the steps to notify the consent to HIP/HRP :\n1: HIU create a request to obtain a patient’s consent to access her health information, as follows:\nConsent request may have follwoing details:\nUser’s consent manager ID Purpose of your consent request Details of who is requesting the health information The time period for which you require the patient’s health documents. This information will enable your HIP to share the patient’s health documents relevant to the required time period. Provide a list of the health information types for which you’re requesting, such as clinical notes, examination data and so forth. Consent request as HIU comes with a consent expiry time, after which you will not be able to access the patient’s data.\n2: Patient Approved or reject the consent request via PHR App\n3: CM notify to HIP/HRP after patient grant approval . HIP/HRP save the consent artefact after patients grants a request. The consent artefact lets the HIP know what data needs to be shared, as detailed below:\nPatient’s consent manager ID Purpose of data access consent Details of who is requesting the health information and of whom Health information types; the HIP needs to maintain details of what has been requested and what has been sent. 4: Consent manager share the approved consent artifect with HIU.\nBelow is the diagram to explain the “notify the consent artefect” :\nAPI Used : Swagger link for above APIs - https://sandbox.abdm.gov.in/swagger/ndhm-hip.yaml\nNotify Consent End Point URL: /v0.5/consents/hip/notify\nMETHOD: POST\nHEADERS:\nAuthorization: Access token which was issued after successful login with gateway auth server, which will be sent by gateway to authenticate itself with API bridge. X-HIP-ID: Identifier of the health information provider to which the request was intended. Request Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-09T06:32:59.560Z\", \"notification\": { \"status\": \"GRANTED\", \"consentId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"consentDetail\": { \"schemaVersion\": \"string\", \"consentId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"createdAt\": \"2022-06-09T06:32:59.560Z\", \"patient\": { \"id\": \"hinapatel79@ndhm\" }, \"careContexts\": [ { \"patientReference\": \"hinapatel79@hospital\", \"careContextReference\": \"Episode1\" } ], \"purpose\": { \"text\": \"string\", \"code\": \"string\", \"refUri\": \"string\" }, \"hip\": { \"id\": \"string\", \"name\": \"TESI-HIP\" }, \"consentManager\": { \"id\": \"string\" }, \"hiTypes\": [ \"OPConsultation\" ], \"permission\": { \"accessMode\": \"VIEW\", \"dateRange\": { \"from\": \"2022-06-09T06:32:59.560Z\", \"to\": \"2022-06-09T06:32:59.560Z\" }, \"dataEraseAt\": \"2022-06-09T06:32:59.560Z\", \"frequency\": { \"unit\": \"HOUR\", \"value\": 0, \"repeats\": 0 } } }, \"signature\": \"Signature of CM as defined in W3C standards; Base64 encoded\", \"grantAcknowledgement\": false } } Response:\n202\tRequest Accepted\nNotes\nNotification of consents to health information providers consent request granted, consent revoked, consent expired. Only the GRANTED and REVOKED status notifications will be sent to HIP.\nIf consent is granted, status=GRANTED, then consentDetail contains the consent artefact details and signature is available. If consent is revoked, then status=REVOKED, and consentId specifes which consent artefact is revoked.\nOn- Notify This API is called by HIP as acknowledgement to notification of consents, in cases of consent revocation and expiration.\nEnd Point URL: /v0.5/consents/hip/on-notify\nMETHOD: POST\nHEADERS:\nAuthorization: Access token which was issued after successful login with gateway auth server, which will be sent by gateway to authenticate itself with API bridge. X-CM-ID: Suffix of the consent manager to which the request was intended. Request Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-09T06:42:34.297Z\", \"acknowledgement\": { \"status\": \"OK\", \"consentId\": \"\u003cconsent-artefact-id\u003e\" }, \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202\tRequest Accepted\n","description":"","tags":null,"title":"Save Consent Notifications","uri":"/abdm-docs/2-sharing-health-records/push-records/consent-notification/index.html"},{"content":"Registration via Aadhaar Number Overview of the functionality User can register ABHA ID with their Aadhaar Number. To enable beneficiary registration using Aadhaar OTP, an integrator needs to generate an Aadhaar OTP, followed by OTP verification. Once the OTP is verified, the client is returned complete profile data along with ABHA (Health ID) Number. Note: Mobile Number can be linked/verify with ABHA via using API\nAPI Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiZDg5YTFlYmUtZWRlNS00Y2U4LWEwZTAtMTUzNGNjNzkyYjk0IiwiaXNzIjoiaHR0cHM6Ly9kZXYubmRobS5nb3YuaW4vYXV0aC9yZWFsbXMvY2VudHJhbC1yZWdpc3RyeSIsImF1ZCI6WyJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIwNmJkNGZlNy04NjEyLTRiZmEtYTI1NS1iMDdiZmFjZmU1M2QiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJoZWFsdGhpZC1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiNjU2NGY2N2UtZjM4My00NGRiLWIyOTYtNDA2ZmE2MmVj\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiNGY1ZjZjMWYtYTk0Yy00ZjJmLThmZjctYTY2MDRiN2M2ZjJhIiwiaXNz\", \"tokenType\": \"bearer\" } 2. Generate Aadhaar OTP on registrered mobile number\nApi Accepts Adhar Card Number and then Generates OTP for Regestered Mobile Number\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/generateOtp\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\ngenerateOtpRequest (body)\n{ \"aadhaar\": \"31541756999\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 3. Verify Aadhaar OTP received on registrered mobile number\nApi Accepts OTP and then Checks OTP is Verified or Not\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/verifyOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nverifyAadhaarOtp (body)\n{ \"otp\": \"812306\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Generate Mobile OTP for verification.\nApi Accepts Mobile Number and then Creates OTP for it.\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/generateMobileOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nrequest (body)\n{ \"mobile\": \"9545812125\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 5. Verify Mobile OTP in an existing transaction.\nApi Accepts Mobile OTP and then Checks it is Verified or Not.\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/verifyMobileOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nrequest (body)\n{ \"otp\": \"812306\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 6. Create ABHA Number using pre-verified Aadhaar \u0026 Mobile.\nAPI creates ABHA Number using Aadhaar \u0026 Mobile Which are already Registered.\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/createHealthIdWithPreVerified\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\naccountRequest (body)\n{ \"email\": \"ram@Demo.com\", \"firstName\": \"abhi\", \"healthId\": \"test\", \"lastName\": \"A\", \"middleName\": \"ram\", \"password\": \"India@143\", \"profilePhoto\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShj\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\": \"string\", \"refreshToken\": \"string\", \"healthIdNumber\": \"12-3456-7899-1111\", \"name\": \"Ram\", \"gender\": \"M\", \"yearOfBirth\": \"1977\", \"monthOfBirth\": \"1\", \"dayOfBirth\": \"1\", \"firstName\": \"abhi\", \"healthId\": \"test@sbx\", \"lastName\": \"A\", \"middleName\": \"ram\", \"stateCode\": \"27\", \"districtCode\": \"\", \"stateName\": \"MAHARASHTRA\", \"districtName\": \"Pune\", \"email\": \"ram@Demo.com\", \"kycPhoto\": null, \"profilePhoto\": \"\", \"mobile\": \"1234567890\", \"authMethods\": [ \"AADHAAR_BIO\", \"AADHAAR_OTP\", \"DEMOGRAPHICS\", \"PASSWORD\", \"MOBILE_OTP\" ], \"pincode\": null, \"tags\": {}, \"new\": true } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\nRegistration via Aadhaar Biometric To enable beneficiary registration using Aadhaar Biometric, a client needs to have a Aadhaar Registered Device (RD Device) that allows capture and processing of Biometrics of the beneficiary. This RD Service returns an encrypted PID block containing signed biometrics (using device private key within the registered devices secure zone) back to the calling application. To enable beneficiary registration using biometrics, this PID is passed in the request along with Aadhaar and other required details. Post verification, the client is returned complete profile data along with ABHA (Health ID). API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Verify Aadhaar using biometrics\nApi Checks Aadhaar Using Registered Biometrics.\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/verifyBio\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nverifyAadharOtpRequest (body)\n{ \"aadhaar\": \"31541756999\", \"bioType\": \"FMR\", \"pid\": \"PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8UGlkRGF0YT4NCiAgPFJlc3AgZXJyQ29kZT0iMCIgZXJySW5mbz0iU3VjY2VzcyIgZkNvdW50PSIxIiBmVHlwZT0iMCIgbm1Qb2ludHM9IjM5IiBxU2NvcmU9IjY4IiAvPg0KICA8RGV2aWNlSW5mbyBkcElkPSJNQU5UUkEuTVNJUEwiIHJkc0lkPSJNQU5UUkEuV0lOLjAwMSIgcmRzVmVyPSIxLjAuMyIgbWk9Ik1GUzEwMCIgbWM9Ik1JSUVHRENDQXdDZ0F3SUJBZ0lFQWdiTWdEQU5CZ2txaGtpRzl3MEJBUXNGQURDQjZqRXFNQ2dHQTFVRUF4TWhSRk1nVFdGdWRISmhJRk52Wm5SbFkyZ2dTVzVrYVdFZ1VIWjBJRXgwWkNBM01VTZXMG1SZz08L0RhdGE+DQo8L1BpZERhdGE+\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 2. Create ABHA Number using pre-verified Aadhaar \u0026 Mobile.\nExplanation - API creates ABHA Number using Aadhaar \u0026 Mobile Which are already Registered.\nURL: https://healthidsbx.abdm.gov.in/api/v1/registration/aadhaar/createHealthIdWithPreVerified\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\naccountRequest (body)\n{ \"email\": \"Example@Demo.com\", \"firstName\": \"manoj\", \"healthId\": \"deepak.pant\", \"lastName\": \"singh\", \"middleName\": \"kishan\", \"password\": \"India@143\", \"profilePhoto\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"authMethods\": \"AADHAAR_OTP\", \"dayOfBirth\": \"23\", \"districtCode\": \"401\", \"districtName\": \"Pune\", \"email\": \"Example@demo.com\", \"firstName\": \"akash\", \"gender\": \"M\", \"healthId\": \"deepak.pant\", \"healthIdNumber\": \"43-4221-5105-6749\", \"kycPhoto\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"lastName\": \"singh\", \"middleName\": \"pramod\", \"mobile\": \"9545812125\", \"monthOfBirth\": \"05\", \"name\": \"kishan kumar singh\", \"new\": true, \"profilePhoto\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"stateCode\": \"27\", \"stateName\": \"MAHARASHTRA\", \"tags\": { \"additionalProp1\": \"string\", \"additionalProp2\": \"string\", \"additionalProp3\": \"string\" }, \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"yearOfBirth\": \"1995\" } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"ABHA ID Registration via Aadhaar","uri":"/abdm-docs/6-m1-apis/abha-id-registration/registration-via-aadhaar/index.html"},{"content":" Overview of the functionality Patient must have a PHR app and have a valid PHR address Hospital must generate a HIP QR code and display it at the registration counter Patient scans the QR code from his phone camera or his PHR app If scanned from phone camera – The list of installed PHR apps is shown on the phone. The user can select any of the apps If scanned from within the PHR app, the app will call the share-profile API on the HIE-CM The HIE-CM will verify this is a registered healthcare provider and identify the HRP linked to this HIP in the ABDM registry The Gateway will call the share-profile api on the callback URL registered for this HRP The HRP software must create a screen to display all the scanned profiles for a (counter) code The operator (at a counter) should be able to select a shared profile and perform a fast user registration Remember to correctly handle this for both new and returning patients Create a QR code for your Health Facility Patient must have a PHR app and have a valid PHR address. Hospital must generate a HIP QR code and display it at the registration counter. Generate a QR code for the data in below format. You can use something like Sample QR Generator. ABDM will shortly release a QR code generator that can be used.\nYour HIP ID is the same as the Health Facility Registry ID. You must have linked this HIP ID to your HRP\n{ \"hipId\": \"HFR1010342452\", \"code\": \"any information you want to get back with the scan, e,g counterId, Dept Id\" } Go to ABHA Mobile Application, then My Profile and Find Scan option on the top right. Scan the QR code, the app should fetch details of QR code along with User profile details. Click on share which will make HIE-CM call the expected API on HIP side. The successful message would be shown on app once the on-share callback is given. API Sequence 1. User’s Profile is shared with the HRP URL: {HRP CALLBACK URL}/v0.5/patients/profile/share Request: POST\nHEADERS:\nAuthorization: JWT Token from Gateway X-HIP-ID: hipID that was embedded in the QR code Body: { \"requestId\": \"499a5a4a-7dda-4f20-9b67-e24589627061\", \"timestamp\": \"2022-05-10T14:19:12.993Z\", \"profile\": { \"hipCode\": \"12345 (CounterId)\", \"patient\": { \"healthId\": \"test@sbx\", \"healthIdNumber\": \"1111-1111-1111-11\", \"name\": \"Jane Doe\", \"gender\": \"F\", \"address\": { \"line\": \"string\", \"district\": \"string\", \"state\": \"string\", \"pincode\": \"string\" }, \"yearOfBirth\": 2000, \"dayOfBirth\": 27, \"monthOfBirth\": 02, \"identifiers\": [ { \"type\": \"MR\", \"value\": \"+919800083232\" } ] } } } Response:\n202\tRequest Accepted\nSwagger URL: https://sandbox.abdm.gov.in/swagger/ndhm-hip.yaml See the Profile Section\nNote that “healthId”: contains the PHR address of the user and “healthIdNumber”: contains the linked ABHA no for this PHR address. You need to save the PHR address for the user in your application. You can use the other information provided to quickly register the user.\n“hipCode”: will contain whatever you put in “code” as part of the QR\n2. Responsed to patient’s share profile request URL: POST https://dev.abdm.gov.in/gateway/v0.5/patients/profile/on-share Request:\nHEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - @sbx or @abdm Body: { \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-11T04:58:00.037Z\", \"acknowledgement\": { \"status\": \"SUCCESS\", \"healthId\": \"test@sbx\" }, \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"499a5a4a-7dda-4f20-9b67-e24589627061\" } } Response:\n202\tRequest Accepted\nEnsure that the contents of “healthID” and “requestID” match the information you got in the share request.\nIf there is an issue with the share, set the “status” to ERROR and provide a clear error message with what went wrong. This will be sent back to the PHR app and displayed to the user\n3. Initiate a demographic auth to verify the PHR address and obtain a linking token URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/init Request: POST\nHEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - sbx or abdm Body: { \"requestId\": \"28ac1de6-a2ce-4b8e-8afe-a97f7bb52b85\", \"timestamp\": \"2022-05-15T15:16:47.21234\", \"query\": { \"id\": \"test@sbx\", \"purpose\": \"LINK\", \"authMode\": \"DEMOGRAPHICS\", \"requester\": { \"type\": \"HIP\", \"id\": HFR1010342452 } } } Response:\n202\tAccepted\n4. Recieve the response to PHR address verification request URL: {HRP CALLBACK URL}/v0.5/users/auth/on-init Request: POST\nHEADERS:\nAuthorization: GW JWT token X-HIP-ID: Same HIP id that was passed in the auth init Body: { \"requestId\": \"62f31135-7e5b-4714-9a81-4fdcfced2651\", \"timestamp\": \"2022-05-15T15:16:48.277264\", \"auth\": { \"transactionId\": \"ee1d6495-96a3-4fb6-a0fc-f5b33e3e0434\", \"mode\": \"DEMOGRAPHICS\", \"meta\": { \"hint\": null, \"expiry\": \"2022-05-15T17:16:48.277271\" } }, \"error\": null, \"resp\": { \"requestId\": \"28ac1de6-a2ce-4b8e-8afe-a97f7bb52b85\" } } Response: 202\tAccepted\n5. Send the demographics for confirmation URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/confirm Request: POST\nHEADERS:\nAuthorization: JWT Session Token X-CM-ID: The domain in the phr address, sbx or abdm Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-15T15:16:49.87345\", \"transactionId\": \"ee1d6495-96a3-4fb6-a0fc-f5b33e3e0434\", \"credential\": { \"demographic\": { \"name\": \"Jane Doe\", \"gender\": \"F\", \"dateOfBirth\": \"2000-02-27\" } } } Response:\n202\tAccepted\nEnsure transaction ID is the same as that recieved in the on-init call. Share the demographics exactly as you got in the profile that was shared. You can send the month / day as 01 if only the year of birth is available as part of dateOfBirth. example “2000-01-01”\nGet and Save the linking token for this user URL: {HRP Callback URL}/v0.5/users/auth/on-confirm Request: POST\nParameters:\nAuthorization Gateway token\nX-HIP-ID Same that was passed as HIP ID in auth init\nX-HIU-ID string (header)\nBody:\n{ \"requestId\": \"9ccbe503-f87a-4f9b-8a0e-d8691d1c9bc3\", \"timestamp\": \"2022-05-16T12:39:48.906988\", \"auth\": { \"accessToken\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJraXJhbm1hQHNieCIsInJlcXVlc3RlclR5cGUiOiJISVAiLCJyZXF1ZXN0ZXJJZCI6IktULUhJUCIsInBhdGllbnRJZCI6ImtpcmFubWFAc2J4Iiwic2Vzc2lvbklkIjoiZWIyNjdhY2UtYTk2NS00MzRjLWJlNjEtYzcyYjA0ZTNhOWM0IiwiZXhwIjoxNjUyNzkxMTg4LCJpYXQiOjE2NTI3MDQ3ODh9.DAPKgCigF_rOh-OFJocizsOlawDGnCZNDLvzW6HQswR6u30LzDOyJ_JMbW_8-owH0X-e-GCy-zpaiLDxWaVihDOrc51J7Aps-aeDa-sW8r7jspYCOQp0gyT3CzXl-GIkqiaHjCnHTdu5RA4oMGtGTfXKgpZtSsY5PROsekOFFTDlA3BtXnCd1iSdubdbihPtEKL90-w3PCAdm8gYQql8FaxCmMEcsQnNFn-YqqPwq32BSjbmlS6bEmuUpkWnIpXFcpO4GFvQo4VXRlqSFjFu5cjhi8XA61C1cdxCumv7N4uEEq7DPqJ69JCeY48AakWESAEjuP2pxBPhn8520q4gTg\", \"patient\": null }, \"error\": null, \"resp\": { \"requestId\": \"b40fb334-6e22-4bee-8269-bc11b2453d7a\" } } Response:\n202\tAccepted\nThe “accessToken” in this response is also reffered to as “linking token”. This is a one time use token and does not expire till you use it to link a health record with this PHR address. You can save this in your application till you have a new health record available for you to link\nIf there is any mismatch between the PHR Address (sent in init) and the demographics (send in confirm) you will get a response that looks like\n{ \"requestId\": \"a1882f39-f507-4dfa-8275-fdc275403f4b\", \"timestamp\": \"2022-05-16T12:31:01.361004\", \"auth\": null, \"error\": { \"code\": 1441, \"message\": \"Invalid auth confirm request.\" }, \"resp\": { \"requestId\": \"22c16352-e66b-4cb0-8330-08234957ac55\" } } Response:\n202\tAccepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"By scanning HIP QR code","uri":"/abdm-docs/2-sharing-health-records/save-phr-address/scanning-hip-qr2/index.html"},{"content":"Deactivate ABHA via Aadhaar Otp Overview of the functionality Users may De-activate his/her ABHA (Health ID) Following will happen (during the deactivation period) if you deactivate your ABHA (Health ID) :\nYou will lose access to all ABDM applications. You will no longer be able to share your health records over the ABDM network. You will no longer be able to share your ABHA (Health ID) at any health facility. API Sequence The sequence of APIs used via this method is shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nResponse: 200 OK\n-----BEGIN PUBLIC KEY----- M3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw= -----END PUBLIC KEY----- 3. Generate Aadhaar OTP on mobile number linked with Aadhar\nExplanation - API accepts Auth Token and Generates OTP on Linked mobile number.\nRequest Body - Required\nResponse - API accepts Auth Token and Generates OTP on Linked mobile number. Returns Error for Unauthorized token .\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/aadhaar/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\naadharNumberWebOptionalRequestPayload (body)\n{ } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Deactivate the account using mobile or aadhaar otp.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/profile/deactivate\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\ndeactivateAccountByOtpWebRequest (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"otp\": \"TkI1ViAnr0Egqls9adx/Qf2O55BFWiBA4JOUWuhkTEV3LGLa2KVjYDw85ubCKT0h/dhsaEYQPbPSrTbhGe7+Tieqkx4WVBWnFgoxwEHt/rhM2L+BU82A4ECb/qkMBFOsX32uezmnqrnQn/eB5vX2kSP/Z8jYj9+CUHFUTHD++oQL1TEitJmlCl/+yrOg8mZiH/ttk5jPnk/ZZ5QwZXTrwUMyeWFZRsQVBhzyzj1LUwrU3ivWVmrVSWbqHNdtGXCvWsvunc/A8qvegOV7KPFF5s5ObzsuNWqSbQ+t5n/+UTygl0fV6uS4TMZh5TQGUqw+t3EHKwXprJ+76pkqOgHpleKbcVcXPJirqoLwebEfYj/567gMBFRbKBCpFn2FIKQt5rJMps5YAQEPs9opttViSxFEn6Nz/5EM0lRPazU0B0lqJ1ViT9rs6O4Z2OGsLHGECXjy0wowXp2YnsI49ITfUMAoBM4yNVE8JNiy1PD3dEg2rqRMlM8PYStj3OpK26T2DcNIf/mncQpAQ/nIMuf0Zokgj4RKqlqS1O5rGWh06nlFc/hOULHZV+yxKQUFT0Ws6SVnfTiDtMdXmP02F1qrbcK1Vz0ZLvYV1+k3US9oo8H2G+ZFNCa6k8+jKDRj9+ePwgl8QvHHW4Fn9HaX2/axRtl2DjGc0XLFimCilND4FEA==\", \"reasons\": [\"104\", \"103\", \"102\", \"101\", \"others\"], \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 204\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Deactivate ABHA via Aadhaar Otp","uri":"/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-aadhaar-otp/index.html"},{"content":"Delete ABHA via Aadhaar Otp Overview of the functionality Users may delete his/her ABHA (Health ID) permanently. Following will happen if you delete your ABHA (Health ID) :\nYour ABHA (Health ID) will be permanently deleted, along with all your demographic details . You will not be able to retrieve any information tagged to your ABHA (Health ID) in future. You will never be able to access ABDM applications or any health records over the ABDM network with your deleted ABHA (Health ID). API Sequence The sequence of APIs used via this method is shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nResponse: 200 OK\n-----BEGIN PUBLIC KEY----- M3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw= -----END PUBLIC KEY----- 3. Generate Aadhaar OTP on Registered for link account with aadhar number\nApi Accepts Auth Token and Generates OTP on Linked mobile number.Generate Aadhaar OTP on mobile number linked with Aadhar\nExplanation - API accepts Auth Token and Generates OTP on Linked mobile number.\nRequest Body - Required\nResponse - API accepts Auth Token and Generates OTP on Linked mobile number. Returns Error for Unauthorized token .\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/aadhaar/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\naadharNumberWebOptionalRequestPayload (body)\n{ } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Delete the account using aadhaar otp.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/profile/delete\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\ndeleteAccountByOtpWebRequest (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"otp\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\", \"reasons\": [\"205\"], \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 204\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Delete ABHA via Aadhaar Otp","uri":"/abdm-docs/6-m1-apis/delete-abha/delete-via-aadhaar-otp/index.html"},{"content":"Get User profile Overview of the functionality Get the User profile API Sequence API Information Request Response Get account information.\nExplanation - Api Accepts Auth Token and then Returns Account Details.\nRequest Body - Required\nResponce - Api Accepts Auth Token and then Returns Account Details. Returns Error for Unauthorized Auth Token.\nURL: https://healthidsbx.abdm.gov.in/api/v1/account/profile\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nResponse: 200 OK\n{ \"healthIdNumber\": \"12-3456-7890-1234\", \"healthId\": \"12345678901234@sbx\", \"mobile\": \"1234567890\", \"firstName\": \"ABHI\", \"middleName\": \"RAM\", \"lastName\": \"A\", \"name\": \"ABHI RAM A\", \"yearOfBirth\": \"1977\", \"dayOfBirth\": \"1\", \"monthOfBirth\": \"1\", \"gender\": \"M\", \"email\": \"ram@demo.com\", \"profilePhoto\": \"/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2\", \"stateCode\": \"34\", \"districtCode\": \"\", \"subDistrictCode\": null, \"villageCode\": null, \"townCode\": null, \"wardCode\": null, \"pincode\": \"123456\", \"address\": \"delhi\", \"kycPhoto\": null, \"stateName\": \"delhi\", \"districtName\": \"delhi\", \"subdistrictName\": null, \"villageName\": null, \"townName\": \"delhi\", \"wardName\": null, \"authMethods\": [ \"AADHAAR_BIO\", \"AADHAAR_OTP\", \"DEMOGRAPHICS\", \"PASSWORD\", \"MOBILE_OTP\" ], \"tags\": {}, \"kycVerified\": true, \"verificationStatus\": null, \"verificationType\": null, \"phrAddress\": [ \"12345678901234@sbx\" ], \"emailVerified\": false, \"new\": false } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Get User profile","uri":"/abdm-docs/6-m1-apis/user-profile/get-profile/index.html"},{"content":"Login with Aadhaar OTP Overview of the functionality An OTP is triggered with the Aadhaar linked mobile number of the patient. The patient must provide the OTP to the user to complete the authentication API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Search a user by ABHA Number or ABHA Address.\nThis API returns only Active or Deactive ABHA Number/ Address (Never returns Permanently Deleted ABHA Number/ Address)\nExplanation - API checks ABHA Number or ABHA Address to find User.\nRequest Body - Required. Here healthId attribute means ABHA Address\nResponse - API checks ABHA Number or ABHA Address to find User. API returns only Active or Deactive ABHA Number/ Address (Never returns Permanently Deleted ABHA Number/Address)\nURL: https://healthidsbx.abdm.gov.in/api/v1/search/searchByHealthId\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nsearchRequest (body)\n{ \"healthId\": \"deepak.pant\" } Response: 200 OK\n{ \"healthId\": \"deepak.pant@sbx\", \"healthIdNumber\": \"12-3456-7890-1234\", \"name\": \"string\", \"status\": \"ACTIVE\", \"authMethods\": [ \"AADHAAR_BIO\", \"AADHAAR_OTP\", \"DEMOGRAPHICS\", \"PASSWORD\", \"MOBILE_OTP\" ], \"tags\": null } 4. Initiate authentication process for a given ABHA Number\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/init\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nauthRequest (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"healthid\": \"12-3456-7890-1234\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 5. Authentication with Aadhaar OTP based auth transaction\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/confirmWithAadhaarOtp\nRequest: POST\nParameters:\nauthAccountAadhaarOTPRequest (body)\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\n{ \"otp\": \"816406\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\": \"string\", \"expiresIn\": 1800, \"refreshToken\": \"string\", \"refreshExpiresIn\": 432000 } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Login with Aadhaar OTP","uri":"/abdm-docs/6-m1-apis/login-abha-id/login-with-aadhaar-otp/index.html"},{"content":"Reactivate ABHA via Aadhaar OTP Overview of the functionality Users may Reactivate his/her ABHA (Health ID) via Aadhaar OTP by using the below endpoints. API Sequence API Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiZDg5YTFlYmUtZWRlNS00Y2U4LWEwZTAtMTUzNGNjNzkyYjk0IiwiaXNz\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiNGY1ZjZjMWYtYTk0Yy00ZjJmLThmZjctYTY2MDRiN2M2ZjJhIiwiaXNz\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nResponse: 200 OK\n-----BEGIN PUBLIC KEY----- M3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw= -----END PUBLIC KEY----- 3. Initiate authentication for reactivation of ABHA (Health ID)\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/reactivate/init\nRequest: POST\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nBody:\nauthRequest (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"healthid\": \"43-4221-5105-6749\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Confirm reactivation txn with aadhar otp\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/reactivate\nRequest: POST\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nBody:\nreactivateByOTPWebRequest (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"otp\": \"P/6Z0hpCoXsHLUGLvzFrYG7o3LaRJB7jRN+Sdb8yuO7HOHpi0f2JhqdB/frJUJ84DDNa6DBClzPKsNbzOoRRAAGHktpD69WN2WFzfQDyAAwCpH2O4Q9MbzEIkh54NvJhhIguIt/7nLpV25DT+YRshwm3KNDixH7fUsIbaKRevzT3PzFzi8vpvgVCzjVPauGMf9Rgnk7e72hB4uPv1C1wbVImD/9ldfm4u/hbJKbH67QFdcWB4ctCPCflKm8BWNwkJlY6oUQsonktkAsesQMDLDcl1Bmw1Eu/vL2e5mOENL97Mase+uxKTmCzsiQwNyLZmqNL614oPOGp1yl631BDcjBjOR1mUUiNmABDww/3CnmmxbBopmuoDiSypSjLEcQW86s6TSMHuY9jsgB+Sz+C+T17Zid6pS5ALC+CQD2Vz/RNmvE6b0D0OBz//Nd9fVYesv/PLCd19YFr5J7UMMwWRaFPF8pBGR0GJXlY4HOvAPHHZw5ULVr7QYztQFMZzhaTOQtKeMkUh+/X8RdBxYruTB3dmmmjz6UXZHJoGC7TvfNzImC9+LvTzdreq8XhEL74LG1Gzyroi+x5lu6bFEQT1t1fb4vInwyQChFmxgPExA4NgfEytORdnPilZvppdwMUhLDFTUs9re4VMgotzD0MbQCIJ+ZLCV7EGic9vZVO54A=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"expiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"refreshExpiresIn\": 432000 } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Reactivate ABHA via Aadhaar OTP","uri":"/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-aadhaar-otp/index.html"},{"content":"Retrieve ABHA Number via Aadhaar OTP Overview of the functionality To retrieve ABHA (Health ID), an OTP is sent on a registered mobile number and the user’s health ID is retrieved from the ABDM server. The sequence of APIs used via this method is shown in the diagram below. API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Generate Aadhaar OTP on Registered mobile number\nExplanation - API accepts Aadhaar Number and then generates OTP for linked number as part of Forgot flow.\nRequest Body - Required\nResponse - Api Accepts Aadhaar Number and then generates OTP for linked number as part of Forgot flow. Returns Transaction ID.\nURL: https://healthidsbx.abdm.gov.in/api/v2/forgot/healthId/aadhaar/generateOtp\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\ngenerateOtpRequest (body)\n{ \"aadhaar\": \"iKLrJ3feg17bxK1+1Rlew8XjJxMiU5yLE+cndrlHU2gnCmKMiRG71B+VWUOMRLjDSHRuDVc7ZS2rSfN89/t2RkEq3JgX6saWgXLhy+ksz5Dw1xq0Tk9Ph6SeRV00Oz0AWPUk+/HETOtIlEYtgH8p3dvvW4WEZgWfIxBLCZ9CAqKKwoeZ+8xKnYaA2MRtcuVO5xZ20mJxirjohRtSlyT+TuB49Ena+UiscDijVSgh8Ghx5kgned/HcMoGZqC8bjajgw9QgphkD9tm0EOandrocF7oR5OfyM175csLrToVflTViuq/8vLFy++mBEx4LAI6BuN8PeVfKf4aM7V/f8gikwDQsY6RpGPG4BFKuqCbp5bGvUxTMPM2w09PaTB53+E6IWmy0ZSs9E6X3TcSdQHURJJfQ114lErGwDMyXEUCONnxDDjczyoD3KPJW/IyFpv38r0D4WzRQVhVYYtBecG3jlL4V3tszROIOz+cbmcjvXFP8UQ50G/ywGoIFaNwZSUGDaQ110s0Oul1PMWbfsfvL4n0WStK1nU1jhtPTtJJGojX3ZjtC2sWK63lj7HJZ/Pbl8KvcKso8dbuUjSRFiNu7nvHshit+zMn8HtSgLP48SyM5qW84gLhcvCQYvNKY9n3oUNibFycaENAs1j8sZxwkBPyDhnjpjCXHsqxdVmBfYo=\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Verify aadhar OTP sent as part of forget ABHA Number\nExplanation - API accepts OTP and then checks is it Valid as per given Aadhaar Transaction.\nRequest Body - Required\nResponce - Api Accepts OTP then returns ABHA Number and ABHA Address accordingly.\nURL: https://healthidsbx.abdm.gov.in/api/v2/forgot/healthId/aadhaar\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nauthAccountAadhaarOTPRequest (body)\n{ \"otp\": \"OTQSOHslRqwlWfgYDcAVEAcbNLhV+fijVE1S5jmJWnI1csyyVJ5gLa116zd6MwkzBSehjuyhu7f+P0vlzkRJhLUsb3uneztaO2ZTzSSZRwNI3Rfv1GDOHIzQhat42TBNN3LBvspmfDcKnPS1zso9MoOH8CVxHp6on4QaMAABY4FazAPUhffRCpgo9/rwgaS/1hPJFwvDYcvhWbgYVKihx94yvZa9Iof1OPti0Lrk6NzIs0+BkWoeSssSrI8/sMZjsLmlq967vdbiUUQdTSinBdoWSe25SucaQ9YH4qCy1/ZiQEhPSVY/cJqLSwXufpOxjAm0dg0RuQ5ZakDj4SvkY4RZRWvoFeP6XBPyKWhPjBqvKLUWQt/lYyctynQFBIIBgNkuuXWfvgcMztbEDoJOpnRZ5foVKppVtyqn5tP90Ivuu7pgkVLOUvAHDhPWuIWDguXMu9iTRFm10msUuorMmSQjSpKBVvh005Z6vQmdfeFPi94HdzpIbGJRtTGytuQSipQjjFKxwF2D00//mOFDftdGUoa25rLlmldxjDo+diZm8xnRpn92MojFV759+vVprRaJLVtZpcaa5eCy8IWhSBPrub5VFv2heKq6WqkYXzybIbJBh+VCZSYBhZyc2hppGIsVWrUKnMbuscYjXLDFtE05s+BhZqIn4RwBQ++Fc1Y=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200\n{ \"healthId\": \"test@sbx\", \"healthIdNumber\": \"12-3456-7890-1234\", \"jwtResponse\": { \"token\": \"string\", \"expiresIn\": 1800, \"refreshToken\": \"string\", \"refreshExpiresIn\": 432000 } } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Retrieve ABHA via Aadhaar OTP","uri":"/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-aadhaar-otp/index.html"},{"content":"The user can search for a doctor using one or multiple criteria. The supported criteria include\nDoctor name/HPID Specialities System of medicine City Hospital/facility Availability Type of consultation A search can also be completed by a patient browsing their appointment history The EUA fires Search API onto the HSPAs to look for the doctors matching the search criteria across the network. UI Reference API Sequence Example JSONs The following JSONs represent the Search API that are fired from the EUA for each of the above criteria. If the user provides multiple criteria, the resultant JSON will be a consolidation of the individual parameters used. The search query is broadcast to all relevant HSPAs by the Gateway and the corresponding on_search callback responses are sent back to the EUA from the Gateway. The on_search response from the HSPA will contain the catalog of doctors who meet the search criteria. The URL, Method and Headers are the same for all:\nURL : {to be added}\nMethod: POST\nHeaders: Authorisation\na. Doctor’s Name { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"name\": \"Dr. Sana Bhatt\" } } } } } b. Speciality { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/med_speciality\" : \"Dermatology\" } } } } } } c. System of medicine { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/system_of_med\" : \"Allopathy\" } } } } } } d. City { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" } } e. Name of hospital/clinic { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"provider\": { \"descriptor\": { \"name\": \"Victoria Hospital\" } } } } } f. Type of consultation { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/dsep/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\" : { \"type\" : \"Teleconsultation\" } } } } g. Languages spoken { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/spoken_langs\" : [ \"hin\", \"eng\" ] } } } } } } h. Availability (today/this week/this month) { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"start\": { \"time\": \"2022-05-11T00:00:00.000Z\" }, \"end\": { \"time\": \"2022-05-11T23:59:59.000Z\" } } } } } Response to /search call Status Code: {to be added} (ACK)\nA sample response via /on_search from one of the HSPAs is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"items\": [ { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, { \"id\": \"2\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"2\", \"price\": { \"currency\": \"INR\", \"value\": \"800\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"2\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } } ] } ] } } } Response to /on_search call Status Code: {to be added} (ACK)\nPostman Collection: {to be added}\n","description":"","tags":null,"title":"Search HSPAs for Doctor","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/search_hspas_for_doctor/index.html"},{"content":" The HSPA allows Health Service Providers (HSP) - at present limited to doctors - to provide healthcare services through UHI to patients. The HSP can Sign In with the HP ID linked mobile number if available, alternatively they can sign up to register themselves on HPR.\nThe sign in process requires API calls to the Health Professionals Registry (HPR) which is a database for health professionals.\nUI Reference API Documentation to be added\n","description":"","tags":null,"title":"Sign In or Sign UP with HPR ID","uri":"/abdm-docs/uhi/building-uhi-hspa/sign-up-or-sign-in-with-hpr-id/index.html"},{"content":"Sign in with ABHA Number/Mobile Number Overview of the functionality User can login with mobile number/email ID linked to their ABHA ID/address OTP is sent to the user’s mobile number/email ID to authenticate the request User enters the OTP to authenticate the request. In case multiple ABHA numbers are linked to their number they can choose the account they want to login with. The user is displayed the linked ABHA addresses to their ABHA ID and proceeds to select one to login. Reference UI Login via Mobile Number Individual can login by entering the registered mobile number and validating it by the OTP. Once the mobile number is validated, the list of linked ABHA addresses will be displayed and individual can login by selecting any of the ABHA addresses.\nSwagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nAPIs for login via mobile number\nURL: /v1/apps/login/hid/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts HealthId Number and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"22-2626-4321-7532\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/auth-confirm fetch the User token\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"user@abdm\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"requesterId\": \"IN0401XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"token\": \"Bearer eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJzaHViaGFuc2h1QGFiZG0iLCJjbGllbnRJZCI6IiIsInJlcXVlc3RlcklkIjoiUEhSLVsdfsdfsdfsdfdsfsfszAtMDA4Mi00ZGJlLTk3N2MtMjUxY2YyMWZiOWFhIn0.DOmjJzM1KwfdgDSg_JiHvomo5_sOwqTgG2vMyaM-c1XMCPklR-0FdWKMipIjNVycoF_sdfdfsdsfvsdY6WAqk2fM3T0d8Z9cycuavzSynT4mtNNcHX78y4OAu53mpTsTpesA4s6dK8IAcN9ir9T7Cnr5k4393i5ZUTOTs9Fq1wLPR87YzfJ6-tUgOIDdfJiGzEew2vIz_wt481ShQiIeHOG5PPCPC-H1JhblqRzijFJEX2G0zvolwC8cO9ATBWZlbOxq9gmENzYMAY1y1IBb8uO56zeldiVf0-_Pw4f8nP90nlyQrGoYfut3HuK-jmL7nUBs7Y0gufUiFw8gAIEg\" } URL: /v1/apps/login/mobileEmail/auth-init Explanation - Api Accepts Mobile/Email address and then generates OTP for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then generates OT Pbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"value\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/pre-Verify Explanation - Api Accepts Transaction Number and OTP(Encrypted form) for it.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"authcode\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"requesterId\": \"IN0410XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"mappedPhrAddress\": \"[user@abdm, user2@abdm]\", \"mobileEmail\": \"9988776XX5\", \"requesterId\": \"IN0410XX\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } URL: /v1/apps/phrAddress/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"hinapatel@sbx\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"b6547f6a-f0d1-4f6f-b82b-05f681b4d1f7\", \"requesterId\": \"IN0400XX\", \"authMode\": \"AADHAAR_OTP\", \"error\": null } URL: /v1/apps/phrAddress/auth-confirm Explanation - Api Accepts Transaction Id and Passowrd, Mobile/Email OTP based on Auth methods, Plain text credentails is not allowed.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"de277b66-00ea-4a4a-a29f-bb9a467960aa\", \"authCode\": \"2xxWA2g4HeLZsG3NB9/Zx676BIAXZaCHZU3LkrXxV0DSCaT1dQpKsd/Nq6tw6yjSOXiY8vM9GJpZ3gnkBttp47ciwVjM7iIKXKZghjuStDxIabUjEA5OdQZkLdiXp0t185s59tfOnKz1FsJeOPBzhM6qAEbn7EgMZounP3aZrS16FQrWahLNVgrxeVOrfg7HgZcwK+EHTP8q8Z9Ya4sW4sdsM3Aptkb1aBpj8j/G36+n9xNEoWTljfCeHdgpwKzWr2yU72ZLUXSEykA722H8NM8L982HNiLlOnBbmoaijMo50MKFse9pmSlveIQGPl3uz/NtAy+5sKLjtt31AR45sQ==\", \"requesterId\": \"IN0400XX\" } Responses\nReturn user Token id in case of success\nExample of Responses\n{ \"token\": \"string\" } URL: /v1/apps/login/hid/search/auth-mode Explanation - Api Checks Health ID Number to find User.\nRequest Body - Required\nResponse - Retrun partial details of Health ID Number.\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"11-1111-1111-1111\", \"yearOfBirth\": \"1994\" } Responses\nReturn status as true alone with partail details of Health id number in case of success\nExample of Responses\n{ \"authMethods\": [ \"string\" ], \"blockedAuthMethods\": [ \"string\" ], \"healthIdNumber\": \"string\", \"status\": \"string\" } URL: /v1/apps/phrAddress/search/auth-mode Responses\nReturn PHR ADDRESS Authentication method Details in case of success\nExample of Responses\n{ \"authMethods\": \"[PASSWORD, MOBILE_OTP, EMAIL_OTP]\", \"phrAddress\": \"user@abdm\" } Login via ABHA address Individual can login by entering the ABHA address and validating it either by OTP or by using the password. Once the ABHA address is validated, individual can login into the account.\nSwagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nAPIs for login via ABHA address\nURL: /v1/apps/login/hid/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts HealthId Number and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"22-2626-4321-7532\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses Return transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/auth-confirm fetch the User token\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"user@abdm\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"requesterId\": \"IN0401XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"token\": \"Bearer eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJzaHViaGFuc2h1QGFiZG0iLCJjbGllbnRJZCI6IiIsInJlcXVlc3RlcklkIjoiUEhSLVsdfsdfsdfsdfdsfsfszAtMDA4Mi00ZGJlLTk3N2MtMjUxY2YyMWZiOWFhIn0.DOmjJzM1KwfdgDSg_JiHvomo5_sOwqTgG2vMyaM-c1XMCPklR-0FdWKMipIjNVycoF_sdfdfsdsfvsdY6WAqk2fM3T0d8Z9cycuavzSynT4mtNNcHX78y4OAu53mpTsTpesA4s6dK8IAcN9ir9T7Cnr5k4393i5ZUTOTs9Fq1wLPR87YzfJ6-tUgOIDdfJiGzEew2vIz_wt481ShQiIeHOG5PPCPC-H1JhblqRzijFJEX2G0zvolwC8cO9ATBWZlbOxq9gmENzYMAY1y1IBb8uO56zeldiVf0-_Pw4f8nP90nlyQrGoYfut3HuK-jmL7nUBs7Y0gufUiFw8gAIEg\" } URL: /v1/apps/login/mobileEmail/auth-init Explanation - Api Accepts Mobile/Email address and then Generates OTP for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"value\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/pre-Verify Explanation - Api Accepts Transaction Number and OTP(Encrypted form) for it.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"authcode\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"requesterId\": \"IN0410XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"mappedPhrAddress\": \"[user@abdm, user2@abdm]\", \"mobileEmail\": \"9988776XX5\", \"requesterId\": \"IN0410XX\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } URL: /v1/apps/phrAddress/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"hinapatel@sbx\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"b6547f6a-f0d1-4f6f-b82b-05f681b4d1f7\", \"requesterId\": \"IN0400XX\", \"authMode\": \"AADHAAR_OTP\", \"error\": null } URL: /v1/apps/phrAddress/auth-confirm Explanation - Api Accepts Transaction Id and Passowrd, Mobile/Email OTP based on Auth methods, Plain text credentails is not allowed.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"de277b66-00ea-4a4a-a29f-bb9a467960aa\", \"authCode\": \"2xxWA2g4HeLZsG3NB9/Zx676BIAXZaCHZU3LkrXxV0DSCaT1dQpKsd/Nq6tw6yjSOXiY8vM9GJpZ3gnkBttp47ciwVjM7iIKXKZghjuStDxIabUjEA5OdQZkLdiXp0t185s59tfOnKz1FsJeOPBzhM6qAEbn7EgMZounP3aZrS16FQrWahLNVgrxeVOrfg7HgZcwK+EHTP8q8Z9Ya4sW4sdsM3Aptkb1aBpj8j/G36+n9xNEoWTljfCeHdgpwKzWr2yU72ZLUXSEykA722H8NM8L982HNiLlOnBbmoaijMo50MKFse9pmSlveIQGPl3uz/NtAy+5sKLjtt31AR45sQ==\", \"requesterId\": \"IN0400XX\" } Responses\nReturn user Token id in case of success\nExample of Responses\n{ \"token\": \"string\" } URL: /v1/apps/login/hid/search/auth-mode Explanation - Api Checks Health ID Number to find User.\nRequest Body - Required\nResponse - Retrun partial details of Health ID Number.\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"11-1111-1111-1111\", \"yearOfBirth\": \"1994\" } Responses\nReturn status as true alone with partail details of Health id number in case of success\nExample of Responses\n{ \"authMethods\": [ \"string\" ], \"blockedAuthMethods\": [ \"string\" ], \"healthIdNumber\": \"string\", \"status\": \"string\" } URL: /v1/apps/phrAddress/search/auth-mode Responses\nReturn PHR ADDRESS Authentication method Details in case of success\nExample of Responses\n{ \"authMethods\": \"[PASSWORD, MOBILE_OTP, EMAIL_OTP]\", \"phrAddress\": \"user@abdm\" } Login via Email ID Individual can login by entering the Email ID and validating it by the OTP. Once the Email ID is validated, the list of linked ABHA addresses will be displayed and individual can login by selecting any of the ABHA addresses.\nSwagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nAPIs for login via Email ID\nURL: /v1/apps/login/hid/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts HealthId Number and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"22-2626-4321-7532\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses Return transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/auth-confirm fetch the User token\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"user@abdm\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"requesterId\": \"IN0401XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"token\": \"Bearer eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJzaHViaGFuc2h1QGFiZG0iLCJjbGllbnRJZCI6IiIsInJlcXVlc3RlcklkIjoiUEhSLVsdfsdfsdfsdfdsfsfszAtMDA4Mi00ZGJlLTk3N2MtMjUxY2YyMWZiOWFhIn0.DOmjJzM1KwfdgDSg_JiHvomo5_sOwqTgG2vMyaM-c1XMCPklR-0FdWKMipIjNVycoF_sdfdfsdsfvsdY6WAqk2fM3T0d8Z9cycuavzSynT4mtNNcHX78y4OAu53mpTsTpesA4s6dK8IAcN9ir9T7Cnr5k4393i5ZUTOTs9Fq1wLPR87YzfJ6-tUgOIDdfJiGzEew2vIz_wt481ShQiIeHOG5PPCPC-H1JhblqRzijFJEX2G0zvolwC8cO9ATBWZlbOxq9gmENzYMAY1y1IBb8uO56zeldiVf0-_Pw4f8nP90nlyQrGoYfut3HuK-jmL7nUBs7Y0gufUiFw8gAIEg\" } URL: /v1/apps/login/mobileEmail/auth-init Explanation - Api Accepts Mobile/Email address and then Generates OTP for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"value\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"1431fa4f-82b4-4cba-bdc0-770e9178f644\", \"requesterId\": \"IN041XX\", \"authMode\": \"MOBILE_OTP\", \"error\": null } URL: /v1/apps/login/mobileEmail/pre-Verify Explanation - Api Accepts Transaction Number and OTP(Encrypted form) for it.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"authcode\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"requesterId\": \"IN0410XX\" } Responses\nReturn list of phr address mapped with mobile in case of success\nExample of Responses\n{ \"mappedPhrAddress\": \"[user@abdm, user2@abdm]\", \"mobileEmail\": \"9988776XX5\", \"requesterId\": \"IN0410XX\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } URL: /v1/apps/phrAddress/auth-init Explanation - Api Accepts PHR ADDRESS and then Generates OTPbased on Authentication mode for it.\nRequest Body - Required Response - Api Accepts PHR ADDRESS and then Generates OTPbased on the auth methods for it. if number not found then throws error.\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"patientId\": \"hinapatel@sbx\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\nReturn transaction id in case of success\nExample of Responses\n{ \"transactionId\": \"b6547f6a-f0d1-4f6f-b82b-05f681b4d1f7\", \"requesterId\": \"IN0400XX\", \"authMode\": \"AADHAAR_OTP\", \"error\": null } URL: /v1/apps/phrAddress/auth-confirm Explanation - Api Accepts Transaction Id and Passowrd, Mobile/Email OTP based on Auth methods, Plain text credentails is not allowed.\nRequest Body - Required\nNote :\nOTP will be valid for 10 Minutes only Parameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"transactionId\": \"de277b66-00ea-4a4a-a29f-bb9a467960aa\", \"authCode\": \"2xxWA2g4HeLZsG3NB9/Zx676BIAXZaCHZU3LkrXxV0DSCaT1dQpKsd/Nq6tw6yjSOXiY8vM9GJpZ3gnkBttp47ciwVjM7iIKXKZghjuStDxIabUjEA5OdQZkLdiXp0t185s59tfOnKz1FsJeOPBzhM6qAEbn7EgMZounP3aZrS16FQrWahLNVgrxeVOrfg7HgZcwK+EHTP8q8Z9Ya4sW4sdsM3Aptkb1aBpj8j/G36+n9xNEoWTljfCeHdgpwKzWr2yU72ZLUXSEykA722H8NM8L982HNiLlOnBbmoaijMo50MKFse9pmSlveIQGPl3uz/NtAy+5sKLjtt31AR45sQ==\", \"requesterId\": \"IN0400XX\" } Responses\nReturn user Token id in case of success\nExample of Responses\n{ \"token\": \"string\" } URL: /v1/apps/login/hid/search/auth-mode Explanation - Api Checks Health ID Number to find User.\nRequest Body - Required\nResponse - Retrun partial details of Health ID Number.\nParameters\nNo Parameters\nRequest body (In application/JSON)\nExample of Request body\n{ \"healthIdNumber\": \"11-1111-1111-1111\", \"yearOfBirth\": \"1994\" } Responses\nReturn status as true alone with partail details of Health id number in case of success\nExample of Responses\n{ \"authMethods\": [ \"string\" ], \"blockedAuthMethods\": [ \"string\" ], \"healthIdNumber\": \"string\", \"status\": \"string\" } URL: /v1/apps/phrAddress/search/auth-mode Responses\nReturn PHR ADDRESS Authentication method Details in case of success\nExample of Responses\n{ \"authMethods\": \"[PASSWORD, MOBILE_OTP, EMAIL_OTP]\", \"phrAddress\": \"user@abdm\" } Login via ABHA number Individual can login by entering the ABHA number and Year of Birth and validating it by the OTP. Once the ABHA number is validated, the list of linked ABHA addresses will be displayed and individual can login by selecting any of the ABHA addresses.\nSwagger link for APIs: https://app.swaggerhub.com/apis-docs/abdm.abha/abha-service/1.0#/Profile/createPhrAdressWithHealthIdNumberUsingPOST\nURL: /v1/account/update/phr-address\nExplanation - API Accepts ABHA Number and Creates ABHA Address.\nRequest Body - Required\nResponse - API Accepts ABHA Number and Creates ABHA Address. Returns Error for Invalid/Incorrect Info..\nParameters\nName\tDescription Accept-Language string (header) Default value : en-US\nX-Token * string (header) x-example: Bearer X-Token Auth Token\nExample : Bearer X-Token\nBearer X-Token\nResponses\nSuccessfully Created PHR.\nExample of Responses\nstring ","description":"","tags":null,"title":"Sign In/Up with PHR Addr","uri":"/abdm-docs/uhi/building-uhi-eua/sign_up_with_phr/index.html"},{"content":"Sign up / Sign in Every PHR App user needs to have an ABHA Address (also reffered to as PHR Address). The address looks like “username@hie-cm”. Currently ABDM manages 2 HIE-CMs. The Sandbox HIE-CM @sbx and the production HIE-CM @abdm. PHR Apps use APIs provided by the HIE-CM to create a new ABHA address for users.\nThe user chosen ABHA address has to be alphanumeric. The only numeric address allowed is 14 digits and that must be a valid ABHA number.\nRecommended User Experience User is requested to enter their mobile no / email id The mobile / email is validated via an OTP All ABHA Addresses linked to the mobile / email is retrieved and presented to user. User can select an already created ABHA address and login OR User can create a new ABHA address linked to this mobile or email PHR app should check \u0026 suggest PHR addressess that are available when creating a new address This is demonstrated in the ABHA PHR reference app\nMultiple ABHA Addresses for same user Users are allowed to create multiple ABHA addresses as per their convienence / requirement. ABDM requires PHR apps to educate users that is it better to maintain only one ABHA address and link all health records to this address.\nThe ABDM HIE-CM restricts the number of ABHA addresses that can be linked to a single mobile number to 4\nAPI Sequence for Registration using Health ID number. API Sequence Diagram for Registration using Health ID number Swagger link- https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml/\nSearch a user by Health ID Number. URL: https://dev.abdm.gov.in/cm/v1/apps/registration/hid/search/auth-mode\nMETHOD:POST\nHEADERS:\nRequest Body:\n{ \"healhtIdNumber\": \"11-1111-1111-1111\" } Response:\n200 Return status as true alone with partail details of Health id number in case of success\n201 Created\nIt will create the transaction and send the otp on mobile number URL: https://dev.abdm.gov.in/cm/v1/apps/registration/hid/auth-init\nMethod: POST\nHEADERS:\nRequest Body:\n{ \"healthIdNumber\": \"22-2626-4321-7532\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Response:\n200 Return status as true alone with partail details of Health id number in case of success\n201 Created\nIt will the transaction and send the otp on mobile number URL: https://dev.abdm.gov.in/cm/v1/apps/registration/hid/confirm-init\nMethod: POST\nHEADERS:\nRequest Body:\n{ \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"value\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\" } Response:\n200 Return status as true alone with partail details of Health id number in case of success\n201 Created\nURL: https://dev.abdm.gov.in/cm/v1/apps/create/registration/hid/create/phrAddress Method: POST\nHEADERS:\nRequest Body:\n{ \"alreadyExistedPHR\": true, \"password\": \"HNceo964MVndrs8Z2oMtzIsmmbzagveHbWkDsDKskTue+/YZhHHrMon19J03ggU457upzWMIX0nU3d38xjB3FxA2qWCVmvLZ98A9l0y3i33vq1ywu9cORGF4OEqV8l7H9h4tDnLGDHnbOh9ct85VfOohP4p73lqW6WQSMYcU+xkBfEsRj42pWL19EVsE1UULtQE8gYY1B0SeM63svUp1kQ4Pt5hdgKxibYBq+hRcck2PkEIhp2N7AkjH4Tf+AhXU9956WLwjKgAKMk7K4+Zv8JtxYCcblQitbpN4ImPH5edf4mO5R/L9RpdAVSllAQQfPIDlp5ZGOZ1GrSmhzOSP3g==\", \"phrAddress\": \"user@abdm\", \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response:\n200 OK\n201 Created\nAPI Sequence for Registration of PHR Address using Mobile/Email . API Sequence Diagram Generate Mobile/Email OTP to start registration transaction URL: https://dev.abdm.gov.in/cm/v1/apps/generate/otp\nMethod: POST\nHEADERS:\nRequest body\n{ \"value\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"authMode\": \"MOBILE_OTP / EMAIL_OTP\" } Responses\n200 Return transaction id in case of success\n201 Created\nResend Mobile OTP f registration transaction URL: https://dev.abdm.gov.in/cm/v1/apps/resend/otp\nMethod: POST\nHEADERS:\nRequest body\n{ \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Responses\n200 Return transaction id in case of success\n201 Created\nVerify the mobile/email OTP to create the PHR ID. URL: https://dev.abdm.gov.in/cm/v1/apps/validate/otp\nMethod: POST\nHEADERS:\nRequest body\n{ \"value\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Responses\n200 Return Transaction Number in case of success\n201 Created\nRegister the beneficiary to the PHR using Mobile/Email address URL: https://dev.abdm.gov.in/cm/v1/apps/registration/details\nMethod: POST\nHEADERS:\nRequest body\n{ \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"name\": { \"first\": \"Shubhanshu\", \"middle\": \"Kumar\", \"last\": \"Shukla\" }, \"dateOfBirth\": { \"date\": 14, \"month\": 1, \"year\": 1996 }, \"gender\": \"M\", \"stateCode\": \"7\", \"districtCode\": \"77\", \"email\": \"6BE4FfCtkOrDZU/Fc545GrhVGgC8JxiK8uU/DSQT7PNebX2Bigz0lUuC3R0F4RA+PoulQCfqqK4OKDe1vi0oAgiSbvAQl4DoCnd4ANmb5k+5YevhouiHCiBCp1zUZZLJ6A28Ux7NBWioNxFuWUYh2syF+nOoQ0kyQ1bUUMYg8tFtm0SLj0MRTowh3fksCFsbYBj6sgx7Hd+5M8xlUDhd/v5mHh4zoTodQNRc5L/2nlT/eBSQPof1iIgkMsgYZjLllS0v1LPSdeGsnsreEVtqkWn/tPyLwcsqkcMxDKrhHbI3odlIkYngBLGqLuBWLVE52pihdCbGrVwpG4S0bpQ0qg==\", \"mobile\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"countryCode\": \"+91 \", \"pinCode\": \"110001\", \"address\": \"9th Floor, Tower-l, Jeevan Bharati Building, Connaught Place, New Delhi - 110001\" } *Responses\n200 Return transaction id in case of success\n201 Created\nRegister the beneficiary to the PHR using Mobile/Email address URL: https://dev.abdm.gov.in/cm/v1/apps/create/phrAddress\nMethod: POST\nHEADERS:\nRequest body\n{ \"alreadyExistedPHR\": true, \"password\": \"HNceo964MVndrs8Z2oMtzIsmmbzagveHbWkDsDKskTue+/YZhHHrMon19J03ggU457upzWMIX0nU3d38xjB3FxA2qWCVmvLZ98A9l0y3i33vq1ywu9cORGF4OEqV8l7H9h4tDnLGDHnbOh9ct85VfOohP4p73lqW6WQSMYcU+xkBfEsRj42pWL19EVsE1UULtQE8gYY1B0SeM63svUp1kQ4Pt5hdgKxibYBq+hRcck2PkEIhp2N7AkjH4Tf+AhXU9956WLwjKgAKMk7K4+Zv8JtxYCcblQitbpN4ImPH5edf4mO5R/L9RpdAVSllAQQfPIDlp5ZGOZ1GrSmhzOSP3g==\", \"phrAddress\": \"user@abdm\", \"sessionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Responses\n200 Return user token id in case of success\n201 Created\nSign-in/Login in PHR App The PHR mobile application developed by ABDM is now known as ABHA mobile application and has been taken as a reference PHR application. In this application, by login we means login into application using ABHA address aka PHR address, which is an easy to remember PHR address along with its password. In the ABHA app which is a reference app, login can be done by four ways:\nLogin via Mobile number Login via ABHA address Login via Email ID Login via ABHA number API Sequence for Login with PHR Address via password /mobile/email otp\nAPI Sequence Diagram Swagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nGet the PHR Address authentication methods. URL: https://dev.abdm.gov.in/cm/v1/apps/phrAddress/search/auth-mode Method: GET\nQuery: phrAddress-PHR Address\nResponses\n200 Return PHR ADDRESS Authentication method Details in case of success\n400 Bad request, check request before retrying\nInitiate the login transaction using the PHR address, based on the auth mode generate mobile/Email OTP to start login transaction URL: https://dev.abdm.gov.in/cm/v1/apps/phrAddress/auth-init\nMethod: POST\nHEADERS:\nRequest body\n{ \"patientId\": \"hinapatel@sbx\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\n200 Return transaction id in case of success\n201 Created\nVerify the login transaction, based on the auth mode verify password, Mobile/Email OTP URL: https://dev.abdm.gov.in/cm/v1/apps/phrAddress/auth-confirm\nMethod: POST\nHEADERS:\nRequest body\n{ \"transactionId\": \"de277b66-00ea-4a4a-a29f-bb9a467960aa\", \"authCode\": \"2xxWA2g4HeLZsG3NB9/Zx676BIAXZaCHZU3LkrXxV0DSCaT1dQpKsd/Nq6tw6yjSOXiY8vM9GJpZ3gnkBttp47ciwVjM7iIKXKZghjuStDxIabUjEA5OdQZkLdiXp0t185s59tfOnKz1FsJeOPBzhM6qAEbn7EgMZounP3aZrS16FQrWahLNVgrxeVOrfg7HgZcwK+EHTP8q8Z9Ya4sW4sdsM3Aptkb1aBpj8j/G36+n9xNEoWTljfCeHdgpwKzWr2yU72ZLUXSEykA722H8NM8L982HNiLlOnBbmoaijMo50MKFse9pmSlveIQGPl3uz/NtAy+5sKLjtt31AR45sQ==\", \"requesterId\": \"IN0400XX\" } Responses\n200 Return user Token id in case of success\n201 Created\nAPI Sequence for Login with mobile number/email\nSwagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nAPI Sequence Diagram Generate Mobile/Email OTP to start login transaction URL: https://dev.abdm.gov.in/cm/v1/apps/login/mobileEmail/auth-init\nMethod: POST\nHEADERS:\nRequest body\n{ \"value\": \"yJ2hY5bc2g3P2pQyca/ER6VYQ8TGMj/VN42h9xkh/3jAwJQtZEspnhrtEKqwFXt1+8budi64CPlUEzbkwUsCotIOMm8idfSX+SQyb8VlqLxxIkAzGvmXjWrbQUNEUWnnJjzkIjweNmj8GJ2u0uRdrAGpBc1vMoMz5XD2SGfFttvmziTtucq5w2dOoAPOni4Bl7sfii3Qyo8Szl1/tXNnZbDZi8HH9Cpajno4pFiu6mQDVTkkyDHTqyo7Bv3IFpdNYiRDAZ1yh1cBOfufMy1gSZQetCwETFxdsOgw7JvKL/gEN+RAFKZF2oUriCsAkYYbxW1cfrqa/YRXUw0ho+n4Jw==\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\n200 Return transaction id in case of success\n201 Created\nVerify Mobile/Email OTP to start login transaction URL: https://dev.abdm.gov.in/cm/v1/apps/login/mobileEmail/pre-Verify\nMethod: POST\nHEADERS:\nRequest body\n{ \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"authcode\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"requesterId\": \"IN0410XX\" } Responses\n200 Return list of phr address mapped with mobile in case of success\n201 Created\nGet the user token in the mobile/email login flow URL: https://dev.abdm.gov.in/cm/v1/apps/login/mobileEmail/auth-confirm\nMethod: POST\nHEADERS:\nRequest body\n{ \"patientId\": \"user@abdm\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"requesterId\": \"IN0401XX\" } Responses\n200 Return list of phr address mapped with mobile in case of success\n201 Created\nAPI Sequence for Login with Health ID\nSwagger link for APIs: https://sandbox.abdm.gov.in/swagger/ndhm-phr-app2.yaml\nAPI Sequence Diagram Search a user by Health ID number URL: https://dev.abdm.gov.in/cm/v1/apps/login/hid/search/auth-mode\nRequest body\n{ \"healthIdNumber\": \"11-1111-1111-1111\", \"yearOfBirth\": \"1994\" } Responses\n200 Return status as true alone with partail details of Health id number in case of success\n201 Created\nInitiate the login transaction using the Health ID number, based on the auth mode generate OTP to start login transaction URL: https://dev.abdm.gov.in/cm/v1/apps/login/hid/auth-init\nMethod: POST\nHEADERS:\nRequest body\n{ \"healthIdNumber\": \"22-2626-4321-7532\", \"purpose\": \"CM_ACCESS\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"PHR\", \"id\": \"IN0400XX\" } } Responses\n200 Return transaction id in case of success\n201 Created\nVerify Mobile/Email OTP to start login URL: https://dev.abdm.gov.in/cm/v1/apps/login/mobileEmail/pre-Verify\nMethod: POST\nHEADERS:\nRequest body\n{ \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"authcode\": \"tSCaVUjHwHiMVCokz7u3ogfop5r7ON5GmVY4rJNaQhoVAMlZl5lDqbb4vobfFMsQ1zO404gkWqPqLoDCdavx+JJ5pxprDpRo+PbeV44q51xr5OoNW2ITy9x6WM81KF9o7OnIU3FOGg09jqcJ/By3S8ICWxzJDKVwCJPehHtjhSFiy+mdWEjKkBTrEWJRTy3ZOkij+fskm+JjLoJlIF0TmA94Jb/avX0/LrnacpWEYWAHd0R/8/HIeITVNwG5hnsuRyIcIKKy7bEuYul8wJDD8RPBhL/gIAV4c5zDCb518o1MJGQtNg8Yf/zcROdaynWrBHIh2tacPrxmLHiZHD+BHQ==\", \"requesterId\": \"IN0410XX\" } Responses\n200 Return list of phr address mapped with mobile in case of success\n201 Created\nGet the user token in the mobile/email login flow URL: https://dev.abdm.gov.in/cm/v1/apps/login/mobileEmail/auth-confirm\nMethod: POST\nHEADERS:\nRequest body\n{ \"patientId\": \"user@abdm\", \"transactionId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"requesterId\": \"IN0401XX\" } Responses\n200 Return list of phr address mapped with mobile in case of success\n201 Created\n","description":"","tags":null,"title":"Sign Up or Sign in","uri":"/abdm-docs/4-building-a-phr-app/signup-or-signin/index.html"},{"content":"What is UHI? The Unified Health Interface (UHI) is a network where applications built on the UHI open protocol can interoperably connect with each other to provide health services. UHI is a key Digital Public Infrastructure that enables discoverability and transaction for digital health services. UHI works with other ABDM building blocks like HIE-CM for interoperable exchange of personal health data and registries like HPR \u0026 HFR to enable trust from participating doctors and health facilities. UHI takes an ‘Open Network’ approach to build the gateway and to enable the creation of a nationwide, decentralized, open, and inclusive network.\nABDM manages the UHI Gateway and the UHI Registry. Any application that wishes to participate in UHI must\nImplement the UHI protocol Register with the UHI registry Use the UHI Gateway to discover other UHI apps \u0026 their services Comply with the UHI Market Rules Share metrics with UHI for reporting, greviance redressal and dispute resolution It will be provide a system to facilitate the discovery of services between user facing applications and health service provider applications. Open access across diverse health service providers and patients can drastically expand demand-supply ecosystems and transform the digital healthcare landscape in India.\nWhat is UHI Open Protocol? UHI Open Protocol is a Decentralized Health Protocols aimed to define the interoperable protocol specifications for creating a decentralized network of health services. The purpose of APIs is to enable interoperability between Healthcare providers (doctors, paramedical, health facilities, etc.) and Healthcare consumers. The UHI Open Protocol architecture and APIs allow individuals/ organizations to set up an open network of consumer side applications and health service provider side platforms using common protocol specifications. It renders open APIs, schemas and example flows for the different use cases in healthcare.\nThe protocol is being developed as an open community initiative on GitHub https://github.com/dhp-project/DHP-Specs\nUHI Services The services on UHI will include, but not be limited to\nTeleconsultation Booking Physical Appointments Lab Bookings Ambulance Services Blood Donation UHI Participants Any service transaction in UHI involves five entities:\nUser: Patients seeking digital health services through UHI.\nEnd User Application (EUA): User-facing applications offering digital health services\nUHI Gateway: Layer routing the initial requests and responses involved in UHI transactions between HSPAs and EUAs\nHealth Service Provider Application (HSPA): Provider-facing applications allowing doctors to respond to EUA requests and fulfill digital health services\nHealth Service Provider (HSP): Providers of healthcare services\nRole of the UHI Gateway The role of the gateway in a UHI service transaction is limited to the search and discoverability of health services. For example, if a user searches for teleconsultation services on an EUA, the gateway routes the request to all available HSPAs and sends back the responses to the EUA. The booking, payment and fulfillment of the service, thereafter, is done directly between the EUA and the HSPA.\n","description":"","tags":null,"title":"UHI Protocol","uri":"/abdm-docs/uhi/about_uhi/index.html"},{"content":"Collect \u0026 Save PHR Address from the user This section covers the methods that must be supported for collecting the PHR Address from the user\nBy Scanning HIP QR code during registration By scanning the User’s PHR Address QR code during registration By sharing the PHR address verbally during registration Using the discovery method from a PHR app ","description":"","tags":null,"title":"Collect \u0026 Save PHR Address","uri":"/abdm-docs/2-sharing-health-records/save-phr-address/index.html"},{"content":"Getting Started with ABDM This section covers Understand how the ABDM Personal Health Records Framework works Learn the ABDM terminology - HIP / HIU / HPR / PHR Apply for access to the Sandbox \u0026 verify your credentials Understand what integration is required to make your application ABDM compliant Setup an end point URL for your health repository or consumer health application Link health facilities with your health repository ","description":"","tags":null,"title":"Getting Started","uri":"/abdm-docs/1-basics/index.html"},{"content":"Registration for ABHA This section covers flow of ABHA registration\nRegistration via Aadhaar Number Registration via Other Documents Link/De-link of ABHA Address ","description":"","tags":null,"title":"Registration for ABHA","uri":"/abdm-docs/6-m1-apis/abha-id-registration/index.html"},{"content":"- Teleconsultations - Search HSPAs for Doctor - Display search results - Book selected Doctor/Facility - Collect Payment if required - Confirm Booking - Exchange Messages with Doctor - Share health records - Setup WebRTC (teleconsults) - Initiate Call (teleconsults) - Get final prescription ","description":"","tags":null,"title":"Teleconsultations","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/index.html"},{"content":"Security Requirements ","description":"","tags":null,"title":"Security Requirements","uri":"/abdm-docs/9-more/security_requirements/index.html"},{"content":"Patient Consent Notification from CM to HIU Overview of the functionality API Sequence The following diagram explains the consent notification flow\nAPI Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response:\n200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Consent notification Health information user will get notified about the consent request granted or denied, consent revoked, consent expired.\nFor consent request grant, status=GRANTED, consentRequestId=, and consentArtefacts is an array of generated consent artefact Ids. For consent request expiry, status=EXPIRED, consentRequestId= For consent request denied, status=DENIED, consentRequestId= For consent revocation, status=REVOKED, consentArtefacts is an array of revoked consent artefact ids URL: {HIU CALLBACK URL}/v0.5/consents/hiu/notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-22T05:49:08.429Z\", \"notification\": { \"consentRequestId\": \"\u003cconsent-request-id\u003e\", \"status\": \"GRANTED\", \"consentArtefacts\": [ { \"id\": \"\u003cconsent-artefact-id\u003e\" } ] } } Response:\n202 Accepted\n3. Call API for Consent notification This API is called by HIU as acknowledgement to consent notifications, specifically for cases when consent is REVOKED or EXPIRED.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/consents/hiu/on-notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-22T05:54:39.566Z\", \"acknowledgement\": [ { \"status\": \"OK\", \"consentId\": \"\u003cconsent-artefact-id\u003e\" } ], \"error\": null, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Consent Notification","uri":"/abdm-docs/3-get-health-records/consent-flow/consent-notification/index.html"},{"content":"Consent Flow This section covers the methods that must be supported to Consent Flow\n","description":"","tags":null,"title":"Consent Flow","uri":"/abdm-docs/3-get-health-records/consent-flow/index.html"},{"content":"Overview of the functionality User must have a PHR app and have a valid PHR address User is logged in into their PHR App User searches for a health facility which they have visited in the past. The health facility must be a HIP (part of facility registry) and linked with a HRP for discovery to be supported User makes a discovery request via PHR app - ie requests the HIP to find any health records in their name User shares details from their PHRAddress ie Name, Date of birth gender, verified mobile no with the HIP / HRP The HRP is expected to search its database for any records that match this patient. If there is a match, the HRP returns with the Care Context details for the records available If there is no match, the HRP returns an error The User can now request to link the records (care contexts) with their PHR address The HRP will perform a validation by sending an OTP to the registered mobile If the authentication succeeds, the care contexts are linked to the PHR address The HRP must save this PHR address in its database and automatically link new records in the future. Discovery \u0026 Linking Flow in ABHA PHR App API Sequence Swagger link for above APIs - https://sandbox.abdm.gov.in/swagger/ndhm-hip.yaml\n1. Discovery Request Developers can search for the facility name they registered for their HRP using the ABDM PHR Sandbox App. The Discovery request will be sent to the HRP callback Url registered with the sandbox.\nURL: {HRP_CALLBACK_URL}/v0.5/care-contexts/discover\nMETHOD: POST\nHEADERS:\nAuthorization: Gateway JWT Token X-HIP-ID: HIP (health facility ID) selected by user in PHR APP Request Body:\n{ \"patient\": { \"id\": \"kiranma@sbx\", \"name\": \"Kiran Anandampillai\", \"gender\": \"M\", \"yearOfBirth\": 19XX, \"verifiedIdentifiers\": [ { \"type\": \"MOBILE\", \"value\": \"98XXXXX767\" }, { \"type\": \"NDHM_HEALTH_NUMBER\", \"value\": \"42-7175-8604-4553\" }, { \"type\": \"HEALTH_ID\", \"value\": \"kiranma@sbx\" } ], \"unverifiedIdentifiers\": [] }, \"requestId\": \"46c1db89-03b2-4bc7-b841-cd413b1dfd4f\", \"timestamp\": \"2022-05-25T01:09:02.330549\", \"transactionId\": \"f8b66886-1df2-47a3-9939-9504e8e31b32\" } Response:\n202\tRequest Accepted\nNotes\nWhen a HRP recieves a discovery request, it is expected to search its health record database for a match and correctly implement the following logic\nStart by matching the HEALTH_ID (PHR Address). If you cannot find that, try to match by mobile number If no records are found, check for other “unverified identifiers” if shared by the user. Users can share say a patient ID issued by the healthcare provider If there are patient records matched, ensure exact match for Gender and a (+-2 years) for Year of Birth Finally do an fuzzy match on Name. We recommend the Levenshtein distance algorithm for fuzzy matches You can to call the on-discover API with all the care contexts for the patient. You share share all records including old records.Read this understand how to organize health records into Care Contexts 2. On-Discovery Result of patient care-context discovery request at HRP end. Remember to send back the transactionId recieved in the discover request\nIf a matching patient found with zero or more care contexts associated, it is specified as result attribute. If the prior discovery request, resulted in errors then it is specified in the error attribute. Reasons of errors can be\nmore than one definitive match for the given request no verified identifer was specified URL: https://dev.abdm.gov.in/gateway/v0.5/care-contexts/on-discover\nMETHOD: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain shared in the HEALTH_ID Request Body:\nExample1: Request matched a patient record\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-23T10:38:59.874Z\", \"transactionId\": \"f8b66886-1df2-47a3-9939-9504e8e31b32\", \"patient\": { \"referenceNumber\": \"DiscoveryRef-352341\", \"display\": \"Records found for Kiran Anandampillai\", \"careContexts\": [ { \"referenceNumber\": \"HT1254323\", \"display\": \"Prescription from OPD Visit on 12-05-22\" }, { \"referenceNumber\": \"HT1254324\", \"display\": \"Inpatient records from 16-05-22\" } ], \"matchedBy\": [ \"MR -- What goes here?\" ] } \"resp\": { \"requestId\": \"46c1db89-03b2-4bc7-b841-cd413b1dfd4f\" } } Response:\n202\tRequest Accepted\n** Notes ** Create a unique referenceNumber for this response like “DiscoveryRef-352341”. Save the list of care-contexts shared against this reference in your HRP. The PHR app will display the care contexts shared by the HRP to the user. The user can decide which care contexts they would like to link with their PHR Address\n3. Link Patient’s Care Contexts Request from Gateway to links care contexts selected by the patient. The same transaction ID from the on-discover will be sent by the gateway\nURL: {HRP_CALLBACK_URL}/v0.5/links/link/init\nRequest: POST\nHEADERS:\nAuthorization: Gateway JWT Token X-HIP-ID: Health facility ID linked with this HRP Request Body:\nExample:\n{ \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"timestamp\": \"2022-05-23T10:50:35.447Z\", \"transactionId\": \"f8b66886-1df2-47a3-9939-9504e8e31b32\", \"patient\": { \"id\": \"kiranma@sbx\", \"referenceNumber\": \"DiscoveryRef-352341\", \"careContexts\": [ { \"referenceNumber\": \"HT1254323\" }, { \"referenceNumber\": \"HT1254324\" } ] } } Response:\n202\tAccepted\n** Notes **\nThe HRP is expected to perform the following validations before responding via the the on-init API call\nValidate the transactionId in the request is the same one for which the HRP has shared the care contexts Validate the Discovery reference number and care context reference numbers are what was shared earlier by HRP Ensure the PHR Address is the same as in the discovery request if validations are successful, The HRP is expected to perform an authentication before linking (eg: via SMS OTP) 4. Response to patient’s care context link request Use the same transactionId from the init request and the link request corresponds to returned patient care care context references HRP is expected to send an OTP SMS message to the users mobile number (using its own SMS gateway) URL: http://dev.abdm.gov.in/v0.5/links/link/on-init\nRequest: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain shared in the HEALTH_ID Request Body:\nExample\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-23T10:54:45.431Z\", \"transactionId\": \"f8b66886-1df2-47a3-9939-9504e8e31b32\", \"link\": { \"referenceNumber\": \"DiscoveryRef-352341\", \"authenticationType\": \"DIRECT\", \"meta\": { \"communicationMedium\": \"MOBILE\", \"communicationHint\": \"OTP sent to mobile no 9845XXX767\", \"communicationExpiry\": \"2022-05-23T15:30:35.237Z\" } } \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response: 202\tAccepted\n5. Token Submission from gateway for link confirmation URL: {HRP_CALLBACK_URL}/v0.5/links/link/confirm\nRequest: POST\nHEADERS:\nAuthorization: Gateway JWT Token X-HIP-ID: Health facility ID linked with this HRP Request Body:\nExample:\n{ \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"timestamp\": \"2022-05-23T11:20:44.122Z\", \"confirmation\": { \"linkRefNumber\": \"DiscoveryRef-352341\", \"token\": \"345234\" } } Response:\n202\tAccepted\n** Notes **\nThe HRP must verify that the reference number was issued by it The HRP must verify that the token matches the OTP it sent via SMS for this reference number If the above 2 match, the HRP is now expected to save the PHR address for this user against these health records The HRP is expected to maintain the list of care-contexts that are already linked The HRP can use the PHR address and auto-link newer records created by it 6. Confirm linkage of care-contexts if token matches URL: http://dev.abdm.gov.in/v0.5/links/link/on-confirm\nRequest: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain shared in the HEALTH_ID Request Body:\nExample:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-23T11:22:33.380Z\", \"patient\": { \"referenceNumber\": \"DiscoveryRef-352341\", \"display\": \"Linked Care contexts for Kiran Anandampillai\", \"careContexts\": [ { \"referenceNumber\": \"HT1254323\", \"display\": \"Prescription from OPD Visit on 12-05-22\" }, { \"referenceNumber\": \"HT1254324\", \"display\": \"Inpatient records from 16-05-22\" } ] }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202\tAccepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\nTODO:\nDocument error responses for common errors Add POSTMAN collection for testing ","description":"","tags":null,"title":"Support Discovery of Records","uri":"/abdm-docs/2-sharing-health-records/discovery-from-phrapp/index.html"},{"content":"ABHA ID Registration via Other Documents Overview of the functionality Currently we support Driving License (DL) \u0026 PAN for ABHA number generation, apart from Aadhaar.\nABDM plans to roll out other ID documents as well to enable creation.\nThe same will be communicated and updated in the documentation as necessary.\nHowever, the integration flow will remain as the DL/PAN flow.\nTo enable beneficiary registration using other documents, the user is requested his/her mobile number to be linked with ABHA (Health ID) Number.\nAn OTP is sent to the given mobile number and after verifying the OTP , demographic information of the user is captured along with the driving license number .\nFollowing demographic details are expected from the end user\nName Date of birth Gender The submitted demographic details are then matched against the DL/PAN database.\nABHA system also checks the details against the existing ABHA (Health ID) or Enrolment number database to prevent duplication.\nUsers are requested to upload scanned front and back images of their DL/PAN.\nPost submission, an enrollment number is generated.\nHealth care workers/Facility Managers are expected to ensure that the submitted DL/PAN is of the end user requesting creation of ABHA.\nThey can ensure the same by matching the picture in the uploaded document with the requesting person.\nPlease note, ABHA creation via Aadhaar is a one step process wherein, ABHA is created instantaneously. However, in case of other ID documents, an enrollment number is generated first which can only be converted to ABHA once a manual verification of identity is complete.\nABHA (Health ID) created through Self mode via using Driving license/PAN, an Enrolment number has been issued which can be verified at any facility centers.\nNote: ABDM will soon roll out features that will support ABHA (Health ID) creation with other ID documents such as PAN card, Driving License, etc. in assisted mode at participating health facilities.\nAPI Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Api Accepts Mobile Number and creates OTP for it\nURL: https://healthidsbx.abdm.gov.in/api/v2/document/generate/mobile/otp\nExplanation - Api Accepts Mobile Number and creates OTP fo it.\nRequest Body - Required\nResponce - Api Accepts Mobile Number and creates OTP fo it. Returns Error for Invalid Mobile number.\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\ngenerateOtpRequest (body)\n{ \"mobile\": \"9545812125\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Api Accepts Mobile OTP and validates it\nURL: https://healthidsbx.abdm.gov.in/api/v2/document/verify/mobile/otp\nExplanation - Api Accepts Mobile OTP and validates it.\nRequest Body - Required\nResponce - Api Accepts Mobile OTP and validates it. Returns Error for Invalid Mobile OTP.\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nverifyMobileWebRequest (body)\n{ \"otp\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\" } 5. Validate the document\nMatch the provided demographic details (Name, DOB, Gender) against the document. It also checks for already created ABHA Number or Enrolment number against the document\nExplanation - API accepts Identity Document details and validates the document. Match the provided demographic details (Name, DOB, Gender) against document. It also check for the already created ABHA Number or Enrolment number against the document.\nRequest Body - Required\nResponse - API accepts Identity Document details and validates the document. Match the provided demographic details(Name, DOB, Gender) against document. It also check for the already created ABHA Number or Enrolment number against the document. Returns Error for Invalid Identity Document details.\nURL: https://healthidsbx.abdm.gov.in/api/v2/document/validate\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nrequest (body)\n{ \"dayOfBirth\": \"21\", \"documentNumber\": \"UK0720190567\", \"documentType\": \"DRIVING_LICENCE\", \"firstName\": \"Deepak\", \"gender\": \"M\", \"lastName\": \"Pant\", \"middleName\": \"Kumar\", \"monthOfBirth\": \"03\", \"yearOfBirth\": \"1990\" } Response: 200 OK\n{ \"address\": \"b-14 someshwar nagar\", \"enrolmentNumber\": \"43-4231-5504-6839\", \"healthIdNumber\": \"43-4221-5105-6749\", \"jwtResponse\": { \"expiresIn\": 1800, \"refreshExpiresIn\": 86400, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\" }, \"verification\": { \"fields\": [ { \"key\": \"1255477819\", \"matched\": true } ], \"matched\": true } } 6. Create ABHA Number using ID documents like Driving Licence, PAN Card\nExplanation - Api Accepts Identity Document details and Creates HealthID for it.\nRequest Body - Required\nResponce - Api Accepts Identity Document details and Creates HealthID for it. Returns Error for Invalid Identity Document details.\nURL: https://healthidsbx.abdm.gov.in/api/v2/document\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nT-Token string (header)\nBody:\nrequest (body)\n{ \"address\": \"Street No 3, Opp. gali no 2\", \"dayOfBirth\": \"04\", \"districtCode\": \"401\", \"documentNumber\": \"UK0720190567\", \"documentType\": \"DRIVING_LICENCE\", \"firstName\": \"Deepak\", \"gender\": \"M\", \"lastName\": \"Pant\", \"middleName\": \"Kumar\", \"mobile\": \"9545812125\", \"monthOfBirth\": \"03\", \"photo\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"photoBack\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"stateCode\": \"27\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"yearOfBirth\": \"1990\" } Response: 200 OK\n{ \"address\": \"b-14 someshwar nagar\", \"authMethods\": \"AADHAAR_OTP\", \"dayOfBirth\": \"31\", \"districtCode\": \"401\", \"documentNumber\": \"UK0720190567\", \"documentPhoto\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"documentType\": \"DRIVING_LICENCE\", \"firstName\": \"Deepak\", \"gender\": \"M\", \"healthId\": \"deepakndhm\", \"healthIdNumber\": \"43-4221-5105-6749\", \"lastName\": \"singh\", \"middleName\": \"kumar\", \"mobile\": \"9545812125\", \"monthOfBirth\": \"05\", \"name\": \"kishan kumar singh\", \"photo\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"photoBack\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIBLAHgAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAACAwABBAUGB//aAAgBAQAAAADwawLpMspcK7qrlE5F0Vtul2bVywMUNeBHUkW/bmxvYELGuNjh2VDvixxo5ViljKjDRMoahCULjs2JCShjhjh2OGxo0Y2MoXHOLszsKLhw7tD99mpZQxj8xceofmLEKFwXLTIyHwY1Ls+iEotjHY0M0pjRYxtGj4VFKLPohQlFQyy4Qipc0XG9pS+CP/2Q==\", \"state\": \"MH\", \"stateCode\": \"27\", \"stateName\": \"MAHARASHTRA\", \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"verificationStatus\": \"verified\", \"verificationType\": \"testing\", \"yearOfBirth\": \"1994\" } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"ABHA ID Registration via Other Documents","uri":"/abdm-docs/6-m1-apis/abha-id-registration/registration-via-other-documents/index.html"},{"content":"Overview of the functionality Patient must have a PHR app with a valid PHR address or physical card like a ABHA card Hospital must have a 2D Barcode scanner available at the registration counter The HRP software registration page have text box to load data scanned from PHR QR Code. Hospital operator scans the QR code on patient PHR card or as displayed in PHR mobile App The Patient details like PHR address, Name, DOB, Gender, State Id, District Id, etc are embedded in the QR code as a JSON HRP software must validate the scanned data and collect a linking token from ABDM THe software must use the information scanned to register the patient and save the PHR Address Example QR Codes QR Codes in PHR Apps { \"hidn\":\"42-7175-8604-4553\", \"phr\":\"kiranma@sbx\", \"name\":\"Kiran Anandampillai\", \"gender\":\"M\", \"statelgd\":\"4\", \"distlgd\":\"44\", \"dob\":\"xx-9-19xx\", \"address\":\"As declared by the user\" } Please note that “hidn” is available only if the PHR address has been linked with a ABHA\nQR Code in ABHA card { \"hidn\":\"15-3638-0684-6247\", \"hid\":\"kiranma@abdm\", \"name\":\"Kiran Mandyam Anandampillai\", \"gender\":\"M\", \"statelgd\":\"29\", \"distlgd\":\"-\", \"dob\":\"xx/9/19xx\", \"state name\":\"Karnataka\", \"district_name\":\"Bengaluru\", \"mobile\":\"984x1x2x6x\", \"address\":\"C/O father name # door no, as from the KYC document\" } Please note that HID is populated only if the user has downloaded a PHR app and chosen a PHR address. If not, use 14digit-hidn@sbx or @abdm as the PHR address\nAPI Sequence Same as steps for demographic auth and confirmation in Scanning HIP QR\nAPI Information Request Response 3. Initiate a demographic auth to verify the PHR address and obtain a linking token URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/init Request: POST\nHEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - sbx or abdm Body: { \"requestId\": \"28ac1de6-a2ce-4b8e-8afe-a97f7bb52b85\", \"timestamp\": \"2022-05-15T15:16:47.21234\", \"query\": { \"id\": \"test@sbx\", \"purpose\": \"LINK\", \"authMode\": \"DEMOGRAPHICS\", \"requester\": { \"type\": \"HIP\", \"id\": HFR1010342452 } } } Response:\n202 Accepted\n4. Recieve the response to PHR address verification request URL: {HRP CALLBACK URL}/v0.5/users/auth/on-init Request: POST\nHEADERS:\nAuthorization: GW JWT token X-HIP-ID: Same HIP id that was passed in the auth init Body: { \"requestId\": \"62f31135-7e5b-4714-9a81-4fdcfced2651\", \"timestamp\": \"2022-05-15T15:16:48.277264\", \"auth\": { \"transactionId\": \"ee1d6495-96a3-4fb6-a0fc-f5b33e3e0434\", \"mode\": \"DEMOGRAPHICS\", \"meta\": { \"hint\": null, \"expiry\": \"2022-05-15T17:16:48.277271\" } }, \"error\": null, \"resp\": { \"requestId\": \"28ac1de6-a2ce-4b8e-8afe-a97f7bb52b85\" } } Response: 202 Accepted\n5. Send the demographics for confirmation URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/confirm Request: POST\nHEADERS:\nAuthorization: JWT Session Token X-CM-ID: The domain in the phr address, sbx or abdm Body:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-15T15:16:49.87345\", \"transactionId\": \"ee1d6495-96a3-4fb6-a0fc-f5b33e3e0434\", \"credential\": { \"demographic\": { \"name\": \"Jane Doe\", \"gender\": \"F\", \"dateOfBirth\": \"2000-02-27\" } } } Response:\n202 Accepted\nEnsure transaction ID is the same as that recieved in the on-init call. Share the demographics exactly as you got in the profile that was shared. You can send the month / day as 01 if only the year of birth is available as part of dateOfBirth. example “2000-01-01”\nGet and Save the linking token for this user URL: {HRP Callback URL}/v0.5/users/auth/on-confirm Request: POST\nParameters:\nAuthorization Gateway token\nX-HIP-ID Same that was passed as HIP ID in auth init\nX-HIU-ID string (header)\nBody:\n{ \"requestId\": \"9ccbe503-f87a-4f9b-8a0e-d8691d1c9bc3\", \"timestamp\": \"2022-05-16T12:39:48.906988\", \"auth\": { \"accessToken\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJraXJhbm1hQHNieCIsInJlcXVlc3RlclR5cGUiOiJISVAiLCJyZXF1ZXN0ZXJJZCI6IktULUhJUCIsInBhdGllbnRJZCI6ImtpcmFubWFAc2J4Iiwic2Vzc2lvbklkIjoiZWIyNjdhY2UtYTk2NS00MzRjLWJlNjEtYzcyYjA0ZTNhOWM0IiwiZXhwIjoxNjUyNzkxMTg4LCJpYXQiOjE2NTI3MDQ3ODh9.DAPKgCigF_rOh-OFJocizsOlawDGnCZNDLvzW6HQswR6u30LzDOyJ_JMbW_8-owH0X-e-GCy-zpaiLDxWaVihDOrc51J7Aps-aeDa-sW8r7jspYCOQp0gyT3CzXl-GIkqiaHjCnHTdu5RA4oMGtGTfXKgpZtSsY5PROsekOFFTDlA3BtXnCd1iSdubdbihPtEKL90-w3PCAdm8gYQql8FaxCmMEcsQnNFn-YqqPwq32BSjbmlS6bEmuUpkWnIpXFcpO4GFvQo4VXRlqSFjFu5cjhi8XA61C1cdxCumv7N4uEEq7DPqJ69JCeY48AakWESAEjuP2pxBPhn8520q4gTg\", \"patient\": null }, \"error\": null, \"resp\": { \"requestId\": \"b40fb334-6e22-4bee-8269-bc11b2453d7a\" } } Response:\n202 Accepted\nThe “accessToken” in this response is also reffered to as “linking token”. This is a one time use token and does not expire till you use it to link a health record with this PHR address. You can save this in your application till you have a new health record available for you to link\nIf there is any mismatch between the PHR Address (sent in init) and the demographics (send in confirm) you will get a response that looks like\n{ \"requestId\": \"a1882f39-f507-4dfa-8275-fdc275403f4b\", \"timestamp\": \"2022-05-16T12:31:01.361004\", \"auth\": null, \"error\": { \"code\": 1441, \"message\": \"Invalid auth confirm request.\" }, \"resp\": { \"requestId\": \"22c16352-e66b-4cb0-8330-08234957ac55\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"By scanning PHR Address QR","uri":"/abdm-docs/2-sharing-health-records/save-phr-address/scanning-phraddr-qr/index.html"},{"content":"Deactivate ABHA via Mobile Otp Overview of the functionality Users may De-activate his/her ABHA (Health ID) Following will happen (during the deactivation period) if you deactivate your ABHA (Health ID) :\nYou will lose access to all ABDM applications. You will no longer be able to share your health records over the ABDM network. You will no longer be able to share your ABHA (Health ID) at any health facility. API Sequence The sequence of APIs used via this method is shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization : Access token which was issued after successful login with gateway auth server string (header)\nX-HIP-ID : Identifier of the health information provider to which the request was intended string (header)\nResponse: 200 OK\n-----BEGIN PUBLIC KEY----- M3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw= -----END PUBLIC KEY----- 3. Generate Mobile OTP to start mobile txn.\nExplanation - Api Accepts Auth Token and Generates OTP on mobile number.\nRequest Body - Required\nResponce - Api Accepts Auth Token and Generates OTP on mobile number. Returns Error for Unauthorized token .\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/mobile/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nResponse: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Deactivate the account using mobile otp.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/profile/deactivate\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\ndeactivateAccountByOtpWebRequest (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"otp\": \"OISH0Ck8M4XFh7XggpLmBnyNdXD2qbMSShJERkHx8wLn+omotRxU5LXyspe0qL3v2OgOsdiw/bVMtHr/FcKHbopRga+eD1d+3tfI63qS/zosy45GYmvbBU4dVGMAbRzmYCR7gJIlxfRl2X5V9nD3rKLBL6n3s5lHn6OAW6R9lP5uSaFKRu8W30BnptSArWvGHxXlZPKogm9vezKWGRkjP1aiFlyRWYpqyqmM2r7w88atALyO0F0e98a9s4jzVZ1ggpip/3+awNTZMsL/F9Vxx0kuKayVSGiGunTO+aVRvIsM6j8zN5vSvqfi5W7v8a4I0takq3V+hCGi8EncKPGFopqXvATn/I59HhgoUPXNNZbWpDgQ+BLxXqb0G1tyQCegQe/g\", \"reasons\": [\"205\"], \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 204\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Deactivate ABHA via Mobile Otp","uri":"/abdm-docs/6-m1-apis/deactivate-abha/deactivate-via-mobile-otp/index.html"},{"content":"Delete ABHA via Mobile Otp Overview of the functionality Users may delete his/her ABHA (Health ID) permanently. Following will happen if you delete your ABHA (Health ID) :\nYour ABHA (Health ID) will be permanently deleted, along with all your demographic details . You will not be able to retrieve any information tagged to your ABHA (Health ID) in future. You will never be able to access ABDM applications or any health records over the ABDM network with your deleted ABHA (Health ID). API Sequence The sequence of APIs used via this method is shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiZDg5YTFlYmUtZWRlNS00Y2U4LWEwZTAtMTUzNGNjNzkyYjk0IiwiaXNzIjoiaHR0cHM6Ly9kZXYubmRobS5nb3YuaW4vYXV0aC9yZWFsbXMvY2VudHJhbC1yZWdpc3RyeSIsImF1ZCI6WyJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIwNmJkNGZlNy04NjEyLTRiZmEtYTI1NS1iMDdiZmFjZmU1M2QiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJoZWFsdGhpZC1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiNjU2NGY2N2UtZjM4My00NGRiLWIyOTY\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoiNGY1ZjZjMWYtYTk0Yy00ZjJmLThmZjctYTY2MDRiN\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nResponse: 200 OK\nstring\n—–BEGIN PUBLIC KEY—–\nM3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw=\n—–END PUBLIC KEY—–\n3. Generate Mobile OTP to start mobile txn.\nExplanation - Api Accepts Auth Token and Generates OTP on mobile number.\nRequest Body - Required\nResponce - Api Accepts Auth Token and Generates OTP on mobile number. Returns Error for Unauthorized token .\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/mobile/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nResponse: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Delete the account using Mobile otp.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/profile/delete\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nX-Token string (header) : Bearer your-X-token\nBody:\ndeleteAccountByOtpWebRequest (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"otp\": \"hzrxZvR1zkG3GxlGIy6ECQwd7rzsQmsGtzeGqAmEXpnl9jnLJR4wAIoPmAUUJLyPRzseloH59cQStn3dW6hmSDfnfYS0DpYRfIubOIo3DjkiAFkBgJrGTt0EEvoGV7Y0PYtGaaHqyo3lPDzGEqqml2rwf5p3VA7jY5Ez87UFLYPmZ14haSqZxO7EFOZGLcs29yuy3X4XvjAnJmbh5kh81ctCufqMqzk3I3fRxTzR/n42g27ou2fvuCpn/K/wBGsezmhUGUYK0nnkyh7z/9Vw91vpiqQrZdYBEX8YxnESU4KlbkYLDMBIr41I0rka70CqRFNlOJR+M+zqhJsOflRl62rQc1Bghoh9jgzW4NAWTxCGPfS375q1dxMpc6hm4mtF1mCazlQwq8feyEw8UHp9Z/kTFhkffcEFbeVSunWztY3IctL5Mfz14KFXUJfcBqt9EOTzjM15YUc/x6fBQ9P8Ix4/tP4kEUDeqyI6KVghZZsfLNaa+rvl/J4qiAA3SiXqA0adF1Hn9I2So8pFC/IvyRsFtQXo90JqwHVQYLA7Q1dIWSlPjAmObL3d65Zbb8xPg1xYLDoUUfk5kpU6hAhLom80N3d14eSvY+yzNsc1q09Wh9hgaDhUvs0CwBY0Xi0aYbhcZu26Wv3tNE4SOx5SsmqwSFwU41W281M3mHIfw5o=\", \"reasons\": [\"205\"], \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 204\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Delete ABHA via Mobile Otp","uri":"/abdm-docs/6-m1-apis/delete-abha/delete-via-mobile-otp/index.html"},{"content":"Display search results The HSPAs respond with on_search API to send back the HPID of the doctors who match the search criteria of EUA. The EUA looks up the Health Professionals Registry (HPR) to fetch the details of the doctor against the HPIDs received from the HSPA. The other details such as the quote and availability are fetched by the EUA from the HSPA directly by firing the search API again to the HSPA with the specific doctor’s HPID. The EUA collates the results and presents it to the user. Reference UI API Sequence Example JSONs The /search API is fired once again with the specific doctor’s HPR ID to retrieve the doctor’s appointment calendar. This call is made directly to the the HSPA\nURL: {to be added}\nMethod: POST\nHeaders: Authorisation **\nDoctor’s HPR ID { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"id\": \"\u003cHPR_ID\u003e\" } } } } } Response to /search call\nStatus Code: {to be added}\nPostman Collection: {to be added}\nA sample response via /on_search from one of the HSPAs is as follows: \"items\": [ { \"id\": \"1\",{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T13:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T13:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T14:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T14:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T15:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T15:30:00Z+5:30\" } } } ] } ] } } } Response to /on_search call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\n","description":"","tags":null,"title":"Display Search Results","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/display_search_results/index.html"},{"content":"Get User QR Code Overview of the functionality Get the User QR code API Sequence API Information Request Response Get Quick Response code in PNG format for this account.\nExplanation - Api Accepts Auth Token and then returns Account Info for QR Code.\nRequest Body - Required\nResponce - Api Accepts Auth Token and then returns Account Info for QR Code. Returns Error for Unauthorized Token.\nURL: https://healthidsbx.abdm.gov.in/api/v1/account/qrCode\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nResponse: 200 OK\nstring\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Get User QR Code","uri":"/abdm-docs/6-m1-apis/user-profile/get-qr-code/index.html"},{"content":"Overview of the functionality: Patient must have a valid PHR address Patient PHR address is already shared with HIP/HRP either during registration or discovery method A new health record is generated for this patient at the HRP The HRP checks if it has a valid linking token saved or obtains a new token via demographic auth The HRP decides if it will create a new care context for this health record or add to an existing care context If it is a new care context then the HRP links it with the PHR address If it is an existing care context, The HRP updates the existing care context Following is the API sequence diagram :\nAPI Request Response 1. Add the care context to the PHR address URL: https://dev.abdm.gov.in/gateway/v0.5/links/link/add-contexts\nMETHOD: POST\nHEADERS:\nAuthorization: Session Token using Client ID X-CM-ID: sbx or adbm. Must be the same as the domain in the PHR address Request Body:\n{ \"requestId\": \"{{$guid}}\", \"timestamp\": \"{{timestamp}}\", \"link\": { \"accessToken\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJraXJhbm1hQHNieCIsInJlcXVlc3RlclR5cGUiOiJISVAiLCJyZXF1ZXN0ZXJJZCI6IktULUhJUCIsInBhdGllbnRJZCI6ImtpcmFubWFAc2J4Iiwic2Vzc2lvbklkIjoiMzM4OWUwZGEtNzUyNS00OGNlLWIwYTMtZTdlMzk5ZjY0N2ZlIiwiZXhwIjoxNjU0NjU5MjYxLCJpYXQiOjE2NTQ1NzI4NjF9.ZNn9cmMiEWmiXm1X014RL7kls0dZ8knZe9COA8jrDAlNroyofi_DEjydDiwTMiaI0wIxvz8cOxth2trLiGdOri7LWpHSYqe4OPI_w7_KFFdOtRVZg_guAnX4NvEIicoU4fScHEEJRlzmiSskzUXSjbHqf1dz9qcKOH5-Mv9hA8zglBdxqH0X4OFBaDlyOgSSh2o5QEUvbM1hV1gl9ll1InnYgTTvBHlqg-KOYKK9lS6SVHDsKq3ULeguHFGCCNaBvLWr6-C6Hlf7oiqJsV-DoSISbezUPNa4vdMrwgAnCEaCsQFC-H-On5AbFpf7IM472gFVAj9s3tspaW1fC--bCw\", \"patient\": { \"referenceNumber\": \"demo-care-context-21\", \"display\": \"OPD Records on 02-Jun-2022\", \"careContexts\": [ { \"referenceNumber\": \"demo-care-context-21\", \"display\": \"OPD Records on 02-Jun-2022\" } ] } } } Response 202 Accepted\n2. Ensure response is a success URL: {HRP CALLBACK URL}/v0.5/links/link/on-add-contexts\nMETHOD: POST\nHEADERS:\nAuthorization: Gateway JWT Token X-HIP-ID: The HIP ID with which the access token was generated Request Body:\n{ \"requestId\": \"53e6d0dc-aecb-4027-a526-a13bd803f6f5\", \"timestamp\": \"2022-06-07T03:34:56.173438\", \"acknowledgement\": { \"status\": \"SUCCESS\" }, \"error\": null, \"resp\": { \"requestId\": \"2b08d89e-fc37-47d3-bf02-946bbf85c583\" } } Error if same care context is shared for linking\n{ \"requestId\": \"5368150b-60cb-4d23-8c61-cd35b6c3f633\", \"timestamp\": \"2022-06-07T03:53:35.825703\", \"acknowledgement\": null, \"error\": { \"code\": 1439, \"message\": \"Some of the Care Contexts are already linked, please remove the linked Care Contexts.\" }, \"resp\": { \"requestId\": \"727ebb6e-9285-4f14-8c61-4e45e7a011d6\" } } ","description":"","tags":null,"title":"Link a new record","uri":"/abdm-docs/2-sharing-health-records/notify-on-new-records/auto-link-withphr/index.html"},{"content":"Login with Mobile OTP Overview of the functionality An OTP is sent to the patient’s mobile number that is linked with the Health ID. The patient must share the OTP with the user for verification. A token has been returned and can be used for Profile APIs purpose. API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Search a user by ABHA Number or ABHA Address.\nThis API returns only Active or Deactive ABHA Number/ Address (Never returns Permanently Deleted ABHA Number/ Address)\nExplanation - API checks ABHA Number or ABHA Address to find User.\nRequest Body - Required. Here healthId attribute means ABHA Address\nResponse - API checks ABHA Number or ABHA Address to find User. API returns only Active or Deactive ABHA Number/ Address (Never returns Permanently Deleted ABHA Number/Address)\nURL: https://healthidsbx.abdm.gov.in/api/v1/search/searchByHealthId\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nsearchRequest (body)\n{ \"healthId\": \"deepak.pant\" } Response: 200 OK\n{ \"healthId\": \"deepak.pant@sbx\", \"healthIdNumber\": \"12-3456-7890-1234\", \"name\": \"string\", \"status\": \"ACTIVE\", \"authMethods\": [ \"AADHAAR_BIO\", \"AADHAAR_OTP\", \"DEMOGRAPHICS\", \"PASSWORD\", \"MOBILE_OTP\" ], \"tags\": null } 4. Initiate authentication process for given Health ID\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/init\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nauthRequest (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"healthid\": \"43-4221-5105-6749\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 5. Authentication with Mobile OTP based auth transaction\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/confirmWithMobileOTP\nRequest: POST\nParameters:\nauthAccountMobileOTPRequest (body)\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\n{ \"otp\": \"123456\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\": \"string\", \"expiresIn\": 1800, \"refreshToken\": \"string\", \"refreshExpiresIn\": 432000 } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Login with Mobile OTP","uri":"/abdm-docs/6-m1-apis/login-abha-id/login-with-mobile-otp/index.html"},{"content":"Overview of the functionality Users may Reactivate his/her ABHA (Health ID) via Mobile OTP by using the below endpoints. API Sequence API Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nResponse: 200 OK\n-----BEGIN PUBLIC KEY----- M3IdPoUuNUNUYv33QrHIb1Nmh6TECSbmokLCsPx0hHYCsH37FIDE7fXKWNXYSjtRLBF2vwt7y8qUTdklfCLmO VqVXacyMslKaXzsbYxHaAsm9Dkp6A0oprgnPL9x0/g9AC1/n90GakXWAdnZr6Jh/tfmjAeU+On1M6qSo1fTvH ppHKIzs/XdLWq7j2ENdNNWd7qHSa1MIYjCSJmO/zCRl7S/V3bvibAsXWRLamfqcNw8E+IuhQc/PK4khuHsp80 N4RjUI1D5u84I0Qxn4G10i/gsU4Hls2RZODmOfxBBGjjgv7tO1HMa7BLyRx2NxFRCQ7d1vN6eQnxIzEFPfRyF yoMKpctbUS0kfwYI0T1sT6UidgDV2//SVv0ymZgeSYKwdPT2LC4HzJhpOvYMVsyGq6aEA5ieUp4wxOs8Ab3pQ zJKuTdXBRZo18jGoj3ZT4fGRZ/NfWrkGZiKR1SSOYZeb0MrQZnz2Or0C//fiIzpfW6AeYMd+2nUAjX+I+K2xR tVfSxys4I8Ylt3R3jdeVb+nlQaU6hCVlaWW1UXiljh8asnpj6q1qXPB8RoSUVIwsiCcQVibaY4OuFd6EHOgnO ZIMGomLoDz7omTrmpOn+dobCa7yDvkNGPjoUr67RVq0hpJ9pVJVNL9INJfK5SPXJxUqEilkVTgph0FeoObvHVXnw= -----END PUBLIC KEY----- 3. Initiate authentication for reactivation of ABHA (Health ID)\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/reactivate/init\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nBody:\nauthRequest (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"healthid\": \"43-4221-5105-6749\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Confirm reactivation txn with mobile otp\nURL: https://healthidsbx.abdm.gov.in/api/v2/auth/reactivate\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session\nX-HIP-ID string (header) : your-HIP-ID\nBody:\nreactivateByOTPWebRequest (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"otp\": \"l+IEVKwPsaKuAYsJOvo1a892uUL+y1Is4GRMQei4sKDI8fVgEBrK6kCu2srUqqvTIq7K0xGfazO7SRlEYclZmqsQoBFm5yhRWjblSn1AMuLLoBlRdqPoVjX8OlZNOb3qKw49uL4lnmZwAAJlIqIkpNnBdAo1XFlNZoZa0UZTdE+2vfJNrUaqvHLAyZ9\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"token\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiIzMS0xNzM3LTUyMzUtNzEzNSIsImNsaWVudElkIjoiaGVhbHRoaWQtYXBpIiwic3lzdGVtIjoiQUJIQS1OIiwibW9iaWxlIjoiNzc5OTE1NDk5OCIsImV4cCI6MTY1MzQ2MTU5NiwiaGVhbHRoSWROdW1iZXIiOiIzMS0xNzM3LTUyMzUtNzEzNSIsImlhdCI6MTY1MzQ1OTc5Nn0.rXzw6bUifWESmOfEEa4jgbiIaMyepXltIneJx9VCxrakmnRn6r1nScTpSxOJoytLDK48IKkhp6vB8Klfz-7wuecrb7jXPbZh1LzOe4d2ocn5JkJtIus_aZiz0pA5cdRb-6KrrTQCl\", \"expiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiIzMS0xNzM3LTUyMzUtNzEzNSIsImNsaWVudElkIjoiaGVhbHRoaWQtYXBpIiwic3lzdGVtIjoiQUJIQS1OIiwidHlwIjoiUmVmcmVzaCIsImV4cCI6MTY1Mzg5MTc5NiwiaWF0IjoxNjUzNDU5Nzk2fQ.kd33V0NKtjJ5l8VZk7lscF6tLQR1m721VDcGyzkibyr3D0dtcJORODBvMLKcAJmwFM6KXyV51LHOpj-w9JkxE_eWY4L8YaZbQ2Rx36j\", \"refreshExpiresIn\": 432000 } \\\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Reactivate ABHA via Mobile OTP","uri":"/abdm-docs/6-m1-apis/reactivate-abha/reactivate-via-mobile-otp/index.html"},{"content":"Retrieve ABHA via Mobile OTP Overview of the functionality To retrieve ABHA (Health ID), an OTP is sent on mobile number along with the user’s demographic detail. User’s health ID is retrieved from the ABDM server. API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Generate Mobile OTP as part of Forgot flow\nExplanation - API accepts Mobile Number and then generates OTP for it.\nRequest Body - Required\nResponce - API Accepts Mobile Number and then generates OTP for it. Returns Transaction ID.\nURL: https://healthidsbx.abdm.gov.in/api/v1/forgot/healthId/mobile/generateOtp\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\ngenerateOtpRequest (body)\n{ \"mobile\": \"9545812125\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 3. Verify Mobile OTP sent as part of forget ABHA number\nExplanation - API accepts OTP and then checks is it Valid as per given Mobile Transaction.\nRequest Body - Required\nResponse - API accepts OTP then returns ABHA Number accordingly.\nURL: https://healthidsbx.abdm.gov.in/api/v1/forgot/healthId/mobile\n**Need to check API in pdf it is mentioned as v1/forgot/healthId/aadhaar **\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nretriveHealthIdMobilePayLoad (body)\n{ \"dayOfBirth\": \"31\", \"firstName\": \"Kishan\", \"gender\": \"M\", \"lastName\": \"Singh\", \"middleName\": \"kumar\", \"monthOfBirth\": \"05\", \"name\": \"kishan kumar singh\", \"otp\": \"816406\", \"status\": \"Active\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\", \"yearOfBirth\": \"1995\" } Response: 200 OK\n{ \"healthId\": \"deepak.pant\", \"healthIdNumber\": \"43-4221-5105-6749\", \"jwtResponse\": null } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Retrieve ABHA via Mobile OTP","uri":"/abdm-docs/6-m1-apis/retrieve-abha-account/retrieve-abha-mobile-otp/index.html"},{"content":"A doctor, after signing in, can select the services they want to provide through the HSPA. There are 3 major steps that a doctor needs to complete before providing any service through UHI\nSet up Calendar/availability The doctor can chose to set their available timings on set days. There are two options that can be made available to the doctor\nFixed - The time interval is fixed. Flexi - The doctor provides the number of patients they wish to allocate in a hour. Each patient gets a token. Provide their fees/charges: The doctor can chose to charge different fees for different services they wish to provide.\nUI Reference API Sequence A teleconsultation starts with a /search which is broadcasted to all the registered HSPAs through the gateway. The next set of API calls happen directly with the HSPA and EUA. These include /init and /confirm APIs to which the HSPA responds via /on_init and /on_confirm.\nResponding to a search request Example JSONs The following JSONs represent the Search API that are fired from the EUA for each of the above criteria. If the user provides multiple criteria, the resultant JSON will be a consolidation of the individual parameters used. The search query is broadcast to all relevant HSPAs by the Gateway and the corresponding on_search callback responses are sent back to the EUA from the Gateway. The on_search response from the HSPA will contain the catalog of doctors who meet the search criteria. The URL, Method and Headers are the same for all:\nURL : {to be added}\nMethod: POST\nHeaders: Authorisation\na. Doctor’s Name { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"name\": \"Dr. Sana Bhatt\" } } } } } b. Speciality { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/med_speciality\" : \"Dermatology\" } } } } } } c. System of medicine { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/system_of_med\" : \"Allopathy\" } } } } } } d. City { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" } } e. Name of hospital/clinic { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"provider\": { \"descriptor\": { \"name\": \"Victoria Hospital\" } } } } } f. Type of consultation { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/dsep/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\" : { \"type\" : \"Teleconsultation\" } } } } g. Languages spoken { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/spoken_langs\" : [ \"hin\", \"eng\" ] } } } } } } h. Availability (today/this week/this month) { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"start\": { \"time\": \"2022-05-11T00:00:00.000Z\" }, \"end\": { \"time\": \"2022-05-11T23:59:59.000Z\" } } } } } Response to /search call Status Code: {to be added} (ACK)\nA sample response via /on_search from one of the HSPAs is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"items\": [ { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, { \"id\": \"2\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"2\", \"price\": { \"currency\": \"INR\", \"value\": \"800\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"2\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } } ] } ] } } } Response to /on_search call Status Code: {to be added} (ACK)\nPostman Collection: {to be added}\nDisplaying search results API Sequence Example JSONs { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"id\": \"\u003cHPR_ID\u003e\" } } } } } Response to /search call\nStatus Code: {to be added}\nPostman Collection: {to be added}\nA sample response via /on_search from one of the HSPAs is as follows: \"items\": [ { \"id\": \"1\",{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T13:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T13:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T14:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T14:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T15:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T15:30:00Z+5:30\" } } } ] } ] } } } Response to /on_search call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nBook the selected doctor (Initialization of the service) Example JSONs The /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\": { \"provider\": { \"id\": \"facility@hprID\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"billed@example.com\", \"phone\": \"+919876543210\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_init from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"NOT-PAID\" } } } } Confirm booking API Sequence Example JSONs he /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_confirm from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"id\":\"18393748\", \"state\":\"CONFIRMED\", \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } ","description":"","tags":null,"title":"Setup for Teleconsultation","uri":"/abdm-docs/uhi/building-uhi-hspa/setup-for-teleconsultation/index.html"},{"content":"ABDM uses a federated architecture to help users collect their health records across various healthcare providers, view their records from any PHR application and share their records with any requestor with their consent\nThe image below shows the various entities/roles involved in the PHR framework\nWhat is a Health Information Provider (HIP)? Any entity that agrees to share digital health records with their users using the ABDM specified methods is called an HIP (Health Information Provider). HIPs can be hospitals, labs, health care centers, government health programs, teleconsultation players, clinics or pharmacies - basically any entity which creates medical data pertaining to a patient.\nHIPs are required to maintain a digital copy of both the inpatient and outpatient records for each person in their care. In order to become an HIP, health facilities must enrol in the ABDM health facility registry\nWhat is a Health Repository Provider (HRP)? Health repository providers are software service providers who offer ABDM compliant software to health facilities like hospitals, diagnostic centers etc. The HRP enables healthcare providers to become HIPs or HIUs and meet their obligations of sharing and securely maintaining health records of patients digitally. HRPs offer long term storage of health records on behalf of a HIP. For example, a hosted lab information management system provider (LIMS) may update their software to become a ABDM compatible Health Repository Provider. Any lab using this hosted LIMS software can rapidly become a HIP by adopting the software.\nThe ABDM sandbox hosts a reference HRP – You can play with it at https://emrsbx.abdm.gov.in\nWhat is an HIU? An HIU (Health Information User) is an entity that wants access to digital health information from HIPs, in order to provide services to the patient to whom the information belongs. An HIU can be a hospital, clinic, healthcare technology company, organizations working on health analytics, insurers, medical researchers, government entities etc. These HIUs will be able to request for health records of a patient, and upon obtaining the patient’s digital consent, obtain a copy of the patients records and use them for the time period consented by the user.\nWhat is a HIE-CM? HIE-CM is Healthcare Information Exchange - Consent Manager. This is the key ABDM building block that enables managing consents related to user’s personal health data and supports exchange of interoperable health data across ecosystem players who want to be HIPs and HIUs.\nThe architecture is designed to support multiple HIE-CMs to operate in the network. Each HIE-CM is referred to by a domain. NHA operates 2 HIE-CMs currently. A Sandbox HIE-CM with the domain @sbx and a production HIE-CM with the domain @abdm.\nWhat is an ABHA address? In order to manage their personal health records, users must first create an account on a HIE-CM – called their Ayushman Bharath Health Account (ABHA) addresses. This looks like sandeep321@abdm and is also called as PHR Address. The @abdm tells us which HIE-CM is responsibile for this address.\nUsers can create an ABHA address by downloading a PHR mobile application or a portal provided by the HIE-CM. Use phr.abdm.gov.in to create a new ABHA address\nUsers can create an ABHA addresses in one of two ways:\nUsing self declared information - This requires Name, Year of Birth gender along with a mobile number or email Using an ABHA Number - This requires users to first create an ABHA number with strong KYC Users can start with a self declared ABHA address and later link it to an ABHA number\nWhile users are allowed to create more than one ABHA address, ABDM encourages every induvidual to have only ONE ABHA address. The process of obtaining an ABHA address is designed to ensure that users don’t accidentally create multiple addresses\nTry it out - Create an ABHA address that you can use on the ABDM sandbox at phrsbx.abdm.gov.in. This will create an ABHA address on the @sbx HIE-CM hosted within the sandbox\nWhat is an ABHA Number? ABHA number is a 14 digit number that is unique (only one per person) issued only after a strong KYC. You can link a PHR address with an ABHA number ABHA is a core building block of the ABDM ecosystem and integrates with several other systems to provide online KYC including Aadhaar, Driving licence and PAN\nYou can obtain an ABHA by signing up at https://abha.abdm.gov.in\nABHA numbers are extremely important for helping those who use feature phones or do not use a phone to create their personal health records. ABHA numbers are issued in assisted mode extensively by all Government health programs. Each of these ABHA numbers also issues a PHR address on the @abdm HIE-CM. They look like \u003c14digitabhano\u003e@abdm. Government programs link any health records they create to this ABHA address.\nYou can play around with the sandbox instance of the ABHA building block at https://abhasbx.abdm.gov.in\nWhat is a PHR application? Personal Health Record Applications are software service providers who offer front ends to individuals and enable them to create a ABHA address, discover and link health records from various HIPs, allow users to view their records, offer long term storage of records, upload users health records and share records on the ABDM network. PHR Apps work closely with the HIE-CM and provide a front end for HIE-CM actions like viewing and granting consents. (Note: That PHR Apps now subsume the entity type termed Health Lockers in earlier version of the HIP/HIU guidelines)\nYou can play around with the sandbox instance of the ABHA PHR app at https://phrsbx.abdm.gov.in\nHow does a HIE-CM create a longitudinal Health record The PHR architecture is inline with the concepts described in the Niti Aayog National Health Stack (NHS) strategy and the National Digital Health Blueprint documents.\nABDM is implemented as a Federated Architecture, where data is kept by the entity that generates the health data. Only a link called a care context is added to the PHR address. The HIE-CM is designed to be data blind, ie it does not know any details of the health records that are linked with the PHR address and the architecture ensures that any exchange of health data does not pass through the HIE-CM.\nThe architecture is also fully aligned with the upcoming Data Protection Bill. The MietY consent framework and DEPA architecture is used to ensure that any data shared is only with a fully structured consent artifact. This design should ensure that any health facility using a ABDM compliant software will automatically be compliant to the Data protection bill. The Architecture ensures that there is\nNo central data repository Your PHR Address only holds links Each Health record is held by Health Facility that generated the record Health facilities that become HIPs collect \u0026 save your PHR address during registration HIP / HRPs notify or link new health records with your PHR address HIP / HRPs share a copy of the linked record after verifying user consent Patient can get a copy of the records and view it using a PHR app PHR apps act as repositories that hold the health records long term for the user Patients can also upload records by scanning them or from their wearables via PHR apps Only HIPs that are part of the Health Facility Registry can link health records with a PHR address Sharing Health Records With Consent %%{init:{\"fontSize\": \"1.0rem\", \"sequence\":{\"showSequenceNumbers\":true}}}%% sequenceDiagram autonumber participant hiu as Health Facility HIU participant hiecm as HIE-CM actor user as User via PHR App participant hrp as Health Facility HRP/HIP actor user Note over hiu : Hospital would like to access medical history with consent Note over hrp : Health Repository Providers holding user data hiu-\u003e\u003ehiecm: Sends consent request to ABHA address(user) hiecm-\u003e\u003euser: Presents consent request to user user-\u003e\u003ehiecm: Users grants consent hiecm-\u003e\u003ehiu: Signed consent from user hiu-\u003e\u003ehiecm: Request data with signed consent hiecm-\u003e\u003ehrp: Request HRP to Share data with HIU after verifying consent hrp-\u003e\u003ehiu: Encrypted health data in FHIR format When any HIU wants to access records linked with a PHR address, it initiates a consent request with the HIE-CM The consent request consists of the purpose for which health records are being sought, why type of records are being sought, from what time period and how long will the HIU like to retain these records HIE-CM forwards the request to the user who can view the request on their PHR app and decide what he actually wants to share when he grants the consent User’s can also decide to revoke the consent anytime after it is granted If the user grants the consent, the HIE-CM shares a signed consent artificat with the the requesting HIU The HIU can now request for data for a PHR address along with the signed consent artificat The HIE-CM forwards the request to all HRPs that are holding the linked data The HRPs verify the consent and push the data to the HIU Data has to be in the specified FHIR format to achieve interoperability Data is encrypted using a method that ensures only the requesting HIU can decrypt the data The ABDM Gateway Gateway is the hub that mediates and connects HIE-CMs, Health Repository Providers and HIUs in the network. Its primary job is to allow for discovery, routing in the network. The gateway does the following:\nConnects and validates the HIE-CMs and health repositories (servicing HIUs and HIPs) to the network. Enables routing of information. Authenticates connected systems within the PHR network (provides a signed authentication token for further communication). The entire PHR framework including the gateway communicates via asynchronous APIs over HTTPs channel. The following figure provides a view of how the Gateway fits in with other components Experience PHR in action using the ABDM sandbox ABDM provides a sandbox environment with core essential services that enable integrators who want to become HIPs/HIUs/HRPs or PHR apps build and test their integration.\nTry out the following\nCreate a PHR address on the sandbox from https://phrsbx.abdm.gov.in/ Use EMRSBX to register your PHR address and link it with a new health record Download and login to the Sandbox PHR app with your new PHR address Download ABHA App Provide consent and view the health record you linked via EMRSBX Try adding your COVID vaccination record from CoWIN to your PHR address Other relevant documents National Digital Health Blueprint National Health Stack Electronic Consent Framework ","description":"","tags":null,"title":"The PHR Framework","uri":"/abdm-docs/1-basics/understanding_the_phr_framework/index.html"},{"content":"UHI Architecture UHI aims to transform the way digital health services are rendered in India, while ensuring that it is in sync with the other building blocks of ABDM. The functional architecture for UHI is mentioned below. The aim of this architecture is to ensure interoperability for health services and health data. The architecture also depicts how UHI will interact with the other building blocks within ABDM.\nArchitecture Steps 1.A Patient Sign Up/ Login: Patients login using their ABHA number/ Aadhar number / Mobile Number. This is verified by HIE-CM (for login via ABHA number) and UIDAI (for login via Aadhar) through an OTP authentication, post which the login is enabled. In case patients do not have an account, they are asked to sign up using their Aadhar or by providing any other identification documents.\n1.B Health Service Provider Sign Up/ Login: Health Service Providers (HSPs) login using their HPID/ HPR Address (Health Professional Address) on thw HSPA. In case the HSP does not have a Health Professional Address, he/she will be asked to create one using their Registration Number registered with their respective State Council.\n1.C Health Service Provider Details sent to HPR: The details filled by the the Health Service Provider are sent back to the Health Professional Registry.\n2. Patient Search for a Doctor: A patient searches for a doctor on the EUA via defined parameters. The EUA fires Search API to the UHI Gateway to look for the doctors matching the search criteria across the network.\n3. Search Request Sent to all Registered HSPAs: The UHI Gateway broadcasts the search request and the search parameters to all the HSPAs registered on UHI.\n4.A Matching HSPAs Respond: All HSPAs that match the criteria sent by the gateway respond to the request via on_search. HSPAs send back x, y and z. The gateway forwards all responses back to the EUA.\n4.B HSPAs Directly Send Availability to EUAs: While x, y and z is sent via the gateway, as mentioned in the step above, the HSPAs send the availability of a chosen HSP directly to the EUA. This is done via on_search API.\n5. Patient Initiates Booking: The patient choosen any available slot and initiates booking on the EUA. The EUA calls innit API through which it sends the order details.\n6. HSPA Responds to Booking: The HSPA responds via on_innit API and also sends the payment terms for the transaction.\n","description":"","tags":null,"title":"UHI Architecture Overview","uri":"/abdm-docs/uhi/uhi_architecture_overview/index.html"},{"content":" In this section we will cover the steps to build an ABDM compliant Health Repsitory Provider. This sections is for any healthcare provider that generates health records and wishes to link these records to a user’s PHR address and share it on demand\nHow to collect and store a user (patients) PHR address during patient registration How to allow users to discover any health records available at your health facility How to notify or link new health records to the user How to verify consent requests when a user approves access to their health record How to share health data of the patient on demand ","description":"","tags":null,"title":"Building a HRP","uri":"/abdm-docs/2-sharing-health-records/index.html"},{"content":"Login with ABHA (Health ID) This section covers the login of ABHA\nLogin with Aadhaar OTP Login with Mobile OTP Login to your ABHA using Mobbile ","description":"","tags":null,"title":"Login with ABHA (Health ID)","uri":"/abdm-docs/6-m1-apis/login-abha-id/index.html"},{"content":"Notify or Link new records This section covers the steps to be taken up by the HRP when a new health record is created for a patient\nIf the PHR address of the patient is not saved with the HRP they must notify via SMS if the PHR address is available with the HRP, link the care context automatically to the address ","description":"","tags":null,"title":"Notify or Link new records","uri":"/abdm-docs/2-sharing-health-records/notify-on-new-records/index.html"},{"content":"Fetching the Consent artefact Overview of the functionality Once the patient grants consent to the HIU, the CM notifies the HIU system of the consent grant via the gateway. If the patient grants for multiple HIPs, then multiple consent artefacts are generated - one for each HIP. The HIU now first fetches all the consent-artefacts that were generated for its request. API Sequence The following diagram explains the Fetching of Consent artefact\nAPI Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response:\n200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Get consent artefact URL: https://dev.ndhm.gov.in/gateway/v0.5/consents/fetch\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-22T06:51:39.024Z\", \"consentId\": \"string\" } Response:\n202 Accepted\n3. Result of fetch request for a consent artefact Must contain either consentDetail or error. Possible reason of errors are\nconsentId passed through /fetch is invalid\nURL: {HIU CALLBACK URL}/v0.5/consents/on-fetch\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-22T06:54:04.799Z\", \"consent\": { \"status\": \"GRANTED\", \"consentDetail\": { \"schemaVersion\": \"string\", \"consentId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"createdAt\": \"2022-06-22T06:54:04.799Z\", \"patient\": { \"id\": \"hinapatel79@ndhm\" }, \"careContexts\": [ { \"patientReference\": \"hinapatel79@hospital\", \"careContextReference\": \"Episode1\" } ], \"purpose\": { \"text\": \"string\", \"code\": \"string\", \"refUri\": \"string\" }, \"hip\": { \"id\": \"string\" }, \"hiu\": { \"id\": \"string\" }, \"consentManager\": { \"id\": \"string\" }, \"requester\": { \"name\": \"Dr. Manju\", \"identifier\": { \"type\": \"REGNO\", \"value\": \"MH1001\", \"system\": \"https://www.mciindia.org\" } }, \"hiTypes\": [ \"OPConsultation\" ], \"permission\": { \"accessMode\": \"VIEW\", \"dateRange\": { \"from\": \"2022-06-22T06:54:04.799Z\", \"to\": \"2022-06-22T06:54:04.799Z\" }, \"dataEraseAt\": \"2022-06-22T06:54:04.799Z\", \"frequency\": { \"unit\": \"HOUR\", \"value\": 0, \"repeats\": 0 } } }, \"signature\": \"Signature of CM as defined in W3C standards; Base64 encoded\" }, \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Fetching the Consent artefact","uri":"/abdm-docs/3-get-health-records/consent-flow/fetch-consent-artefact/index.html"},{"content":"Sign up for the ABDM Sandbox The building blocks of ABDM uses a JWT(JSON Web Token) token based auth mechanism for all API requests. Signing up to the ABDM sandbox provides you a client ID / client secret which can be used to generate the authorization token.\nThe ABDM sandbox is open to everyone including individuals. You use the sandbox environment to integrate your application and make sure it is compliant to the ABDM requirements. Access to ABDM production APIs requires you to exit the sandbox post integration.\nUser Manual for Sandbox Sign Up Step 1:\nStart by registering yourself on ABDM Sandbox at the below URL . Refer here for signup details. https://sandbox.abdm.gov.in/applications/Home/signup_form\nStep 2:\nYour application will be reviewed by the Sandbox Committee. The Committee will approve or reject with remarks.\nNote: The committee currently meets only once a week. Hence, please expect 7 days turnaround time for approval.\nhttps://sandbox.ndhm.gov.in/applications/Home/admin\nUser Activity with new application: Step 1: Signup using the below URL as Company or Individuals per requirement. https://sandbox.ndhm.gov.in/applications/Home/signup_form\nSelect appropriate Entity, Type of Application, Category value.\nRegistered/License to operate in India: Select Yes if a license is from India otherwise select No then the committee will decide on a case-to-case basis.\nIf your application creates health records that need to be shared with a user, select HIP \u0026 HRP. if your application would like to access health records linked with a user select HRP \u0026 HIU. If your application will act as consumer application that will help users to view records, manage consents, etc select HIU, HRP, Health Locker \u0026 PHR App. Try to select the appropriate Intent For Request as per your understanding. In case, you are unsure, Don’t worry this can changed later.\nStep 2: Click on Submit Button\nURL: https://sandbox.abdm.gov.in/applications/Home/signup_form\n","description":"","tags":null,"title":"ABDM Sandbox Signup","uri":"/abdm-docs/1-basics/sign_up_to_the_abdm_sandbox/index.html"},{"content":"Book selected Doctor/Facility User selects the time and date for the service for the selected doctor from the available appointment calendar. User initiates the booking. Init API call is made to the HSPA with the above details and receives the revised quote and payment terms from the HSPA. UI Reference API Sequence Example JSONs The /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\": { \"provider\": { \"id\": \"facility@hprID\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"billed@example.com\", \"phone\": \"+919876543210\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_init from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"NOT-PAID\" } } } } ","description":"","tags":null,"title":"Book Selected Doctor","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/book-selected-doctor-or-facility/index.html"},{"content":"Overview of the functionality Patient must have a valid PHR address Patient verbally shares the PHR address to the health facility during registration Facility initiates a mobile OTP authentication for this PHR address Then patient will receive an OTP on their mobile which they must share with the operator The facility sends the OTP to the HIE-CM. On successful validations it gets the demographic details of the user and a new linking token The HRP software must store this access(linking) token in their system for the purpose of linking care contexts to the patient. API Sequence API Request Response 1. Get a patient’s authentication modes URL: https://dev.abdm.gov.in/gateway//v0.5/users/auth/fetch-modes HEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - sbx or abdm Body: { \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-13T08:51:12.728Z\", \"query\": { \"id\": \"kiranma@sbx\", \"purpose\": \"KYC_AND_LINK\", \"requester\": { \"type\": \"HIP\", \"id\": \"Demo_Test_001\" } } } Response: 202\tAccepted\n2. Accept callback with supported authentication modes for this PHR Address URL: {HRP CALLBACK URL}/v0.5/users/auth/on-fetch-modes Request: POST\nHEADERS:\nAuthorization: GW JWT token X-HIP-ID: Same HIP id that was passed in the auth init Body: { \"requestId\": \"b4a4084b-b44d-4626-8134-dc5c7453c467\", \"timestamp\": \"2022-06-01T06:49:05.826893\", \"auth\": { \"purpose\": \"KYC_AND_LINK\", \"modes\": [ \"MOBILE_OTP\", \"DEMOGRAPHICS\" ] }, \"error\": null, \"resp\": { \"requestId\": \"ff85e8ce-3051-4984-8df2-058e9e986dc1\" } } Response: 202\tAccepted\nExample callback if the PHR address shared is uncorrect\n{ \"requestId\": \"aba1b025-e371-495d-8698-f3f0b1395964\", \"timestamp\": \"2022-06-01T06:52:31.169551\", \"auth\": null, \"error\": { \"code\": 1437, \"message\": \"Account with ABHA number/Username not found.\" }, \"resp\": { \"requestId\": \"3d001a45-d1d2-469d-bb2b-2bb106a3f42c\" } } 3. Initialize authentication from HIP URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/init HEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - sbx or abdm Body: { \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-13T08:59:28.977Z\", \"query\": { \"id\": \"kiranma@sbx\", \"purpose\": \"KYC_AND_LINK\", \"authMode\": \"MOBILE_OTP\", \"requester\": { \"type\": \"HIP\", \"id\": \"Demo_Test_001\" } } } Response: 202\tAccepted\n4. Response to user authentication initialization URL: {HRP CALLBACK URL}/v0.5/users/auth/on-init Request: POST\nHEADERS:\nAuthorization: GW JWT token X-HIP-ID: Same HIP id that was passed in the auth init Body: { \"requestId\": \"eecfe297-9981-421b-82c6-af923243f7b9\", \"timestamp\": \"2022-06-01T06:59:09.121917\", \"auth\": { \"transactionId\": \"bc4f84e8-5c37-41a3-98cd-b4b1beb95530\", \"mode\": \"MOBILE_OTP\", \"meta\": { \"hint\": null, \"expiry\": \"2022-06-01T08:59:09.121925\" } }, \"error\": null, \"resp\": { \"requestId\": \"03ebec17-ae2e-4630-8fcf-ec5b69f7920c\" } } Response: 202\tAccepted\nUser will get a SMS on their mobile phone with a OTP from the HIE-CM. Collect this OTP from the user and send it via the next API\n5. Confirmation request by sending token, otp URL: https://dev.abdm.gov.in/gateway/v0.5/users/auth/confirm HEADERS:\nAuthorization: JWT Sessions token X-CM-ID: Should be the domain in the PHR Address - sbx or abdm Body: { \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-05-13T09:05:40.735Z\", \"transactionId\": \"bc4f84e8-5c37-41a3-98cd-b4b1beb95530\", \"credential\": { \"authCode\":\"704249\" } } } Ensure the transaction ID is the same as obtained in the on-init callback\nResponse: 202\tAccepted\n6. Callback from HIE-CM with KYC and Token information URL: {HRP CALLBACK URL}/v0.5/users/auth/on-confirm Request: POST\nHEADERS:\nAuthorization: GW JWT token X-HIP-ID: Same HIP id that was passed in the auth init Body: { \"requestId\": \"9f7eb8ad-a35a-4ffd-9700-8b608c387778\", \"timestamp\": \"2022-06-01T07:00:58.782868\", \"auth\": { \"accessToken\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJraXJhbm1hQHNieCIsInJlcXVlc3RlclR5cGUiOiJISVAiLCJyZXF1ZXN0ZXJJZCI6IkRlbW9fVGVzdF8wMDIiLCJwYXRpZW50SWQiOiJraXJhbm1hQHNieCIsInNlc3Npb25JZCI6ImViZTcyNTU4LTI2N2EtNDVkNS1hMzk1LTZlMjAzNTI3YzhlYyIsImV4cCI6MTY1NDE1MzI1OCwiaWF0IjoxNjU0MDY2ODU4fQ.ZxWtxkOiW9C2xF3KAn0-w_L9oO9tYhCMGZ_CAhRNY47owCXwgvhc1QgHdawPWjwsMN0ARzrOaPAtHKUmj4q19E52jyuR_ONdej6qD1Mf-uaRkdOaqrF3ICLS2q2icqanvEznixJXTfaS15-9Yg8LL3AEwF7V6nxmZWbrPHfSizoUedfMPZEkLxcwJQCjfNLu7Igd_gv6GC4cscKOIEz0B2ilYuAWKRQ521VSTE-GZOPWSCA3O_oAFW_i8AOy84rvcpKEFOM9qmyFKksWKdFeK-HKQOA68IGDqbwUDXt4R5qNzXP2C1lk5eAwZlzKhYr8Vj3eyWMUrhYFLSTfoRjRuw\", \"patient\": { \"id\": \"kiranma@sbx\", \"name\": \"Kiran Anandampillai\", \"gender\": \"M\", \"yearOfBirth\": 19xx, \"monthOfBirth\": 9, \"dayOfBirth\": XX, \"address\": { \"line\": null, \"district\": \"CHANDIGARH\", \"state\": \"CHANDIGARH\", \"pincode\": null }, \"identifiers\": [ { \"type\": \"MOBILE\", \"value\": \"984X18X7XX\" }, { \"type\": \"HEALTH_NUMBER\", \"value\": \"42-7175-8604-4553\" } ] } }, \"error\": null, \"resp\": { \"requestId\": \"bda7b167-85b0-4bdf-b9e2-ae4bfd48326a\" } } Response: 202\tAccepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"By sharing PHR Address verbally","uri":"/abdm-docs/2-sharing-health-records/save-phr-address/shared-verbally/index.html"},{"content":"Link/De-link of ABHA Address Overview of the functionality ABDM has now segregated the identity layer from the consent layer, which will ensure that the ABHA Number (earlier known as Health ID) provides a strong identity to an individual whereas an ABHA Address (earlier known as PHR Address) enables an individual to share their health records with different healthcare providers and payers. ABHA number can be link/delink with the ABHA address. Below are the API used linking ABHA number with ABHA address. Link the ABHA address with ABHA Number API links the given ABHA Address to the ABHA number and defines whether it is the preferred ABHA Address\nAPI Sequence API Information Request Response Links the given ABHA Address to the ABHA number\nExplanation - API links the given ABHA Address to the ABHA number and defines whether it is the preferred ABHA Address\nRequest Body - Required\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/phr-linked\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nphrLinkedOrDeLinkedRequestPayLoad object (body)\n{ \"phrAddress\": \"string\", \"preferred\": true } Response: 200 OK\ntrue\nDe-Link the ABHA address with ABHA Number API de-links the given ABHA Address to the ABHA number.\nAPI Sequence API Information Request Response De-links the given ABHA Address from the ABHA number\nExplanation - API delinks a given ABHA Address from the ABHA number\nRequest Body - Required\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/phr-delinked\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nphrLinkedOrDeLinkedRequestPayLoad (body)\n{ \"phrAddress\": \"string\" } Response: 200 OK\ntrue\nAuto Creation of ABHA address API used to create the auto creation of ABHA address. X-token has been used in the request body.\nAPI Sequence API Information Request Response Create ABHA Address With ABHA Number.\nExplanation - API Accepts ABHA Number and Creates ABHA Address.\nRequest Body - Required\nResponse - API Accepts ABHA Number and Creates ABHA Address. Returns Error for Invalid/Incorrect Info..\nURL: https://healthidsbx.abdm.gov.in/api/v1/account/update/phr-address\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nResponse: 200 OK\n1234567890@sbx\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Link/De-link of ABHA Address","uri":"/abdm-docs/6-m1-apis/abha-id-registration/link-delink-abha-addr/index.html"},{"content":"Login to your ABHA using Mobile Overview of the functionality Users will now be able to login to their ABHA using their Mobile Number. In case multiple ABHA numbers are linked to a Mobile Number, users will be able to choose the account they want to login to. The patient must provide the OTP to the user to complete the authentication. To begin the process, the Authentication token public certificate API (V1.Auth/cert) is called. After that An OTP is sent to the patient’s mobile number that is linked with the ABHA. The patient must share the OTP with the user for verification. A token has been returned and can be used for Profile APIs purpose. API Sequence The sequence of APIs used via this method are shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Generate Mobile OTP to start registration transaction\nExplanation - API accepts Mobile Number and then Generates OTP for it.\nRequest Body - Required\nResponse - API accepts Mobile Number and then Generates OTP for it. if number not found then throws error.\nURL: https://healthidsbx.abdm.gov.in/api/v2/registration/mobile/login/generateOtp\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\ngenerateOtpRequest (body)\n{ \"mobile\": \"9545812125\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Verify Mobile OTP sent as part of registration transaction.\nExplanation - API accepts OTP and then Checks OTP is Verified or Not\nRequest Body - Required\nResponse - API Accepts OTP and then Checks OTP is Verified or Not. if it is not verified then it shows Error.\nURL: https://healthidsbx.abdm.gov.in/api/v2/registration/mobile/login/verifyOtp\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nBody:\nverifyMobileWebRequest (body)\n{ \"otp\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnid\": \"25c1b379-984c-4b56-a86f-58c386879149\", \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\", \"mobileLinkedHid\": { \"healthIdNumber\": \"25-8180-3683-5375\", \"healthId\": \"string\", \"name\": \"priya\", \"profilePhoto\": \"string\", \"phrAddress\": \"string\" } } 5. Login to ABHA Number with verified mobile token\nExplanation - API Checks Details and login ABHA Number\nRequest Body - Required\nResponse - API Checks Details and login ABHA Number\nURL: https://healthidsbx.abdm.gov.in/api/v2/registration/mobile/login/userAuthorizedToken\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nT-Token string (header)\nBody:\nmobileLoginWebRequest (body)\n{ \"healthId\": \"25-7840-4131-2620\", \"txnId\": \"25c1b379-984c-4b56-a86f-58c386879149\" } Response: 200 OK\n{ \"token\": \"eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiIzMS0xNzM3LTUyMzUtNzEzNSIsImNsaWVudElkIjoiaGVhbHRoaWQtYXBpIiwic3lzdGVtIjoiQUJIQS1OIiwibW9iaWxlIjoiNzc5OTE1NDk5OCIsImhlYWx0aElkIjoidGVzdC4xMjM0NTY3QHNieCIsImV4cCI6MTY1Mjc2Mzk2MCwiaGVhbHRoSWROdW1iZXIiOiIzMS0xNzM3LTUyMzUtNzEzNSIsImlhdCI6MTY1Mjc2MjE2MH0.odBGQghgBkp3DeEhsmhl6YfZB37J0bWQ1Zgc1j9zZrEkQkrcjlrzA4p2OFEjOp9fE_3QkCzfHsLon5CrRLdt-TAbgej43HtTjE7ghmg6_kOLueeKK0wkOaVVUFHaI77WR0-WJMp49PAqdpGADyuTmlOBDA4OYUbWqBE9bTvssn3zlNl4DKG51EluFbDC1J84vHrMxr6QIsgAOm4jwlru_aAYB79dgh-_C04-YQbCJOOTzMm0yx8rFq0BQsk1JR6nvqdl3m4Pp7lMPYEkyTrbJi9QiRHpik1XrxYFgDYR-3l4xpWGgDdjEGSUFvpY05AoHeWb8_gFapxmbTS-lyBbb866TtkudX2JX8p_H3r4X3MgTl5yedYrX_IGzRpbipR6r6VHY-MmF7t_jmtRb--V5HtoNVEnAoHrLA1c5YGckLevl3Vp9RL8I3E46jRyTahyBjtZ_z00ECl3SeDjg15PeOUViXG3pReGbkd29F63rOxmmEZ6ETGL258BvEOICoF5EyQKNA8mnfELR3FGKwxeS8pbiCU8pHJsN9EIJ2MCyt-Ho56dlJhPipDY24OeAdkmk13G5FX-v-pw_6gIagSYM0kehONpbZgULNJnmT44_CUvL7jkGvtUvL2jZ-P4BXzZP0VSJ_qTeWNTSW_f-2_2Z7gB5j4JfNvBiLLu31l8abc\" } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Login to your ABHA using Mobile","uri":"/abdm-docs/6-m1-apis/login-abha-id/login-using-mobile/index.html"},{"content":"The UHI Registry Before your EUA or HSPA app can talk to other UHI apps, you must first add it into the UHI registry.\nGo to the Sandbox webpage at https://sandbox.abdm.gov.in/\nIf you have already signed up for the Sandbox use the link for existing ABDM partners https://sandbox.abdm.gov.in/applications/Home/signup_form_UHI\nIf you are new to the ABDM sandbox, ensure you select if you want to build an UHI EUA or UHI HSPA or both.\nPlease note that the architecture requires your EUA / HSPA app to have a end point URL that can be reached on the internet.\nOnce you finish signing up, the ABDM team will contact you to share information on your end point URL\n","description":"","tags":null,"title":"Registrating your UHI app","uri":"/abdm-docs/uhi/uhi_sandbox_registry/index.html"},{"content":"The setup for physical appointments is similar to setting up a teleconsultation service except the doctor doesn’t need to provide their signature for signing the prescriptions.\nSet up Calendar/availability The doctor can chose to set their available timings on set days. There are two options that can be made available to the doctor\nFixed - The time interval is fixed. Flexi - The doctor provides the number of patients they wish to allocate in a hour. Each patient gets a token. Provide their fees/charges: The doctor can chose to charge different fees for different services they wish to provide.\nProvide bank details/UPI address to receive payments\nUI Reference API Sequence A physical consultation starts with a /search which is broadcasted to all the registered HSPAs through the gateway. The next set of API calls happen directly with the HSPA and EUA. These include /init and /confirm APIs to which the HSPA responds via /on_init and /on_confirm.\nResponding to a search request Example JSONs The following JSONs represent the Search API that are fired from the EUA for each of the above criteria. If the user provides multiple criteria, the resultant JSON will be a consolidation of the individual parameters used. The search query is broadcast to all relevant HSPAs by the Gateway and the corresponding on_search callback responses are sent back to the EUA from the Gateway. The on_search response from the HSPA will contain the catalog of doctors who meet the search criteria. The URL, Method and Headers are the same for all:\nURL : {to be added}\nMethod: POST\nHeaders: Authorisation\na. Doctor’s Name { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"name\": \"Dr. Sana Bhatt\" } } } } } b. Speciality { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/med_speciality\" : \"Dermatology\" } } } } } } c. System of medicine { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/system_of_med\" : \"Allopathy\" } } } } } } d. City { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" } } e. Name of hospital/clinic { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"provider\": { \"descriptor\": { \"name\": \"Victoria Hospital\" } } } } } f. Type of consultation { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/dsep/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\" : { \"type\" : \"Teleconsultation\" } } } } g. Languages spoken { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"tags\": { \"@abdm/gov/in/spoken_langs\" : [ \"hin\", \"eng\" ] } } } } } } h. Availability (today/this week/this month) { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"start\": { \"time\": \"2022-05-11T00:00:00.000Z\" }, \"end\": { \"time\": \"2022-05-11T23:59:59.000Z\" } } } } } Response to /search call Status Code: {to be added} (ACK)\nA sample response via /on_search from one of the HSPAs is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"items\": [ { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, { \"id\": \"2\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"2\", \"price\": { \"currency\": \"INR\", \"value\": \"800\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Asthana\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" } }, { \"id\": \"2\", \"type\": \"PHYSICAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=9879\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"location\": { \"id\": \"2\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } } } } ] } ] } } } Response to /on_search call Status Code: {to be added} (ACK)\nPostman Collection: {to be added}\nDisplaying search results API Sequence Example JSONs { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"intent\": { \"fulfillment\": { \"agent\": { \"id\": \"\u003cHPR_ID\u003e\" } } } } } Response to /search call\nStatus Code: {to be added}\nPostman Collection: {to be added}\nA sample response via /on_search from one of the HSPAs is as follows: \"items\": [ { \"id\": \"1\",{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_search\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"85a422c4-2867-4d72-b5f5-d31588e2f7c5\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"catalog\": { \"descriptor\": { \"name\": \"Example HSPA\" }, \"providers\": [ { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" }, \"locations\": [ { \"id\": \"1\", \"gps\": \"22.343434,77.4534353\", \"address\": { \"full\": \"Max Hospitals, Saket, New Delhi, 110021\" } }, { \"id\": \"2\", \"gps\": \"22.231231,77.987987\", \"address\": { \"full\": \"Max Hospitals, Green Park, New Delhi, 110034\" } } ], \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } } ], \"fulfillments\": [ { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"male\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T13:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T13:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T14:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T14:30:00Z+5:30\" } } }, { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"person\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr Sana Bhatt\", \"gender\": \"female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T15:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T15:30:00Z+5:30\" } } } ] } ] } } } Response to /on_search call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nBook the selected doctor (Initialization of the service) Example JSONs The /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\": { \"provider\": { \"id\": \"facility@hprID\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"billed@example.com\", \"phone\": \"+919876543210\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_init from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_init\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"NOT-PAID\" } } } } Confirm booking API Sequence Example JSONs he /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_confirm from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"id\":\"18393748\", \"state\":\"CONFIRMED\", \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } ","description":"","tags":null,"title":"Setup for Physical Consultation ","uri":"/abdm-docs/uhi/building-uhi-hspa/setup-for-physical-consultation/index.html"},{"content":"Update User E-mail Overview of the functionality OTP will be sent to the provided e-mail address. OTP will be valid for 10 minute only. To Update or Changes the existing e-mail Address (Verified/Unverified email). Send the New Email Address required in the request. API Sequence API Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. To generate the Email Verification OTP to verify the Email Address in the profile. OTP will be sent to the provided email address.\nNote:\nTo verify the Email Address provided by the beneficiary during the registration process, OTP will be sent to the email address. Send the Email Address in the request.\nEmail Verification OTP will be valid for 10 minutes only.\nTo Update or Changes the existing e-mail Address (Verified/Unverified email). Send the New Email Address* required in the request.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/email/verification/send/otp\nNeed to check this API not in sandbox swagger\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nrequest (body)\n{ \"emailAddress\": \"user@xyz.com\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Verify the Email Verification OTP to verify the E-mail Address.\nTransaction ID \u0026 encrypted OTP is passed in the requested body. An authentication token is used in the header. OTP should be in the encrypted form. Status is returned in the response body\nNotes:\nVerification OTP received over the email address. OTP* required and transaction id* required should be passed in the request.\nOTP must be in the encrypted.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/email/verification/verify/otp\nNeed to check this API not in sandbox swagger\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nrequest (body)\n{ \"encryptedOtp\": \"m8kr0P9pDNgvB1g0CoSWEcDb+7AicoQijHcReUa3LbO8C8qDqSd2Lk19wua+LXGelahasnOy2L+oAsrLoZtHJF5qROnuultKjKphFPQWkRIY3RmJ2ygwjJzEhVL5ATFzzFVCTKjwG4DwRiL01r4OsOy/dgzAu+LHtNAkxxCKRV5trZOENhRoGzfGEFloVhIkfZkdgq4YmOWfIOOeBxU4U8OpxUWU0FSvK38RH45R5MLFh8x5vM6qBCfW3BRYu0Wg8pKnhGgRpbRURVCv4PvhEfHTBVGAJ6deGpD/8aKLTPGj9aHqr8sjiPiZKwN1PmRNO9CdT9T1HjfOEtxH1sBDARNSvnNm0HS/BS4FQ9cRQ4wNqfegpXO6mi2kqB9MjqZ+yDvciBAv/HZJ7qPUgnkFbKiCom1ay248JtNrzPgRhtjJ6DkY+ZtNtS3lHQO+pXUnueJjttcOm9n7sbSwFSE810si4M24Q1989yYCeJ3pGriHFkBaCLetCAMgKN4XIEf9/sIBH0VGJzaEXFCEVFhUeSOiCDOn8b0ePlCH1R702W7untdaGUia/vuD2SeCxmAJGx31WxLYiQolRkWIX4Yi6mZZ8v2JvvR+MtE6JPWh3KUVrKvLE+3nFsYrLhxHDXuQu69enHkd7PRGsr18pyWxUywxDB8W8QKltx0IS+nDvHI=\", \"txnId\": \"c3b0c27d-e19d-4244-b8bb-3fa19285054a\" } Response: 200 OK\n{ true } Postman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Update Email","uri":"/abdm-docs/6-m1-apis/user-profile/update-email/index.html"},{"content":"This section covers how to build an HIU\nIn this section we will cover the steps to build an ABDM compilant Health Information User(HIU). This sections is for HIU that wants to access digital health information from HIPs, in order to provide services to the patient to whom the information belongs. An HIU can be a hospital, clinic, healthcare technology company,organization working on health analytics, insurers, medical researchers and government entities. These HIUs will be able to request for health records of a patient, and upon obtaining the patient’s digital consent, view the health records for a limited time period.\nHow to create consent request and notify the patient How to notify patient consent from CM to HIU How to fetch the consent artefact How to make data request and transfer ","description":"","tags":null,"title":"Building a HIU","uri":"/abdm-docs/3-get-health-records/index.html"},{"content":"Retrieve your ABHA account If a user has forgotten his/her ABHA (Health ID), it can be retrieved via the following two methods\nThrough Aadhaar OTP Through Mobile OTP ","description":"","tags":null,"title":"Retrieve your ABHA account","uri":"/abdm-docs/6-m1-apis/retrieve-abha-account/index.html"},{"content":"Push the health data on demand This section covers how health data is pushed after verfying user consent\nSave user consents recieved as notifications Accept data push requests from the HIE-CM Prepare, Encrypt and push data to the requestor ","description":"","tags":null,"title":"Share health data with Consent","uri":"/abdm-docs/2-sharing-health-records/push-records/index.html"},{"content":"Data request and transfer Overview of the functionality The data request and transfer process between the HIU, CM and HIP passes through the following three stages:\nFirst Stage The HIU system initiates data requests for a patient’s health information to the HIP against the relevant consent-artefact, through the CM.\nAs part of the data request, the HIU’s health repository embeds three key elements within the health information request:\nThe consent ID corresponding to the consent artefact against which the information request is being made. A data push URL, which is a callback URL that indicates where the information can be pushed by the HIP’s health repository. This URL can be different from the HIU’s access URL, provided at the time of registration with the gateway. The HIU can specify a different URL for the data flow, in order to keep its identity secret to the extent possible. Several parameters such as the date-time range for the requested and a set of encryption parameters for the HIP repository to encrypt the information. The Elliptic-curve Diffie–Hellman based encryption standard is used for encrypting health information. Upon receipt of the data-request, CM assigns a transaction ID (txn-id) for the entire data flow and communicates this Id to the health repositories of the HIU and the HIP.\nThe HIU’s health repository relays all this information to the CM through the gateway.From the CM, the information is relayed to the respective HIP’s health repository (via the gateway).\nSecond Stage Once the HIP repository receives the information, it first validates the information request, as follows:\nThe HIP finds out if the consent ID corresponds to an expired, paused or revoked artefact.\nIt then checks if the request for which the date-time range corresponds to the range for which the consent artefact allows information access. It also ensures that the encryption parameters are correctly defined.\nOnce the above checks are made and validated, the HIP health repository encrypts the requested health records and forwards it along with the transaction ID to the HIU’s data push URL, after signing the encrypted data with its long-term private key.\nThird Stage Finally, the CM receives notifications from both the HIP and the HIU. The HIP’s health repository notifies the CM that the requested information was transmitted to the HIU. The HIU’s health repository sends a notification that the requested information was successfully received, or that the request failed.\nAPI Sequence All above 3 stages that pertains to HIU are shown in the following diagram:\nAPI Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Health information data request Request for Health information against a consent id. CM would generate a transactionId against each consent and pass it as trnasaction context / correlation id to the HIP and also return the same to HIU via /on-request.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/health-information/cm/request\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"a1s2c932-2f70-3ds3-a3b5-2sfd46b12a18d\", \"timestamp\": \"2022-06-22T09:01:16.382Z\", \"hiRequest\": { \"consent\": { \"id\": \"string\" }, \"dateRange\": { \"from\": \"2022-06-22T09:01:16.382Z\", \"to\": \"2022-06-22T09:01:16.382Z\" }, \"dataPushUrl\": \"string\", \"keyMaterial\": { \"cryptoAlg\": \"ECDH\", \"curve\": \"Curve25519\", \"dhPublicKey\": { \"expiry\": \"2022-06-22T09:01:16.382Z\", \"parameters\": \"Curve25519/32byte random key\", \"keyValue\": \"string\" }, \"nonce\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } } Response:\n202 Accepted\n3. Response for Health information data request Callback API for acknowledgement of Health information request of HIU. CM calls this API when it has validated the Health Information request given the consent id. Either the hiRequest or error would need to be specified. If the health info request was valid, then the hiRequest.transactionId specifies the transaction context against which HIP would send over the data. Possible cases of errors are\nInvalid consent artefact id Consent has expired Date ranges are invalid URL: {HIU CALLBACK URL}/v0.5/health-information/cm/on-request\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"a1s2c932-2f70-3ds3-a3b5-2sfd46b12a18d\", \"timestamp\": \"2022-06-22T09:04:29.973Z\", \"hiRequest\": { \"transactionId\": \"a1s2c932-2f70-3ds3-a3b5-2sfd46b12a18d\", \"sessionStatus\": \"REQUESTED\" }, \"error\": { \"code\": 1000, \"message\": \"string\" }, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\n4. Health information transfer API This API should be implemented at HIU side. It maybe implemented by the Data Bridge representing the HIU. Entry elements maybe content or link, although for version 1, entry content is preferred. Entry content (or even link reference content) must be encrypted by means of Elliptic-curve Diffie–Hellman Key Exchange, utilizing the HIU keymaterials that are passed through the data request API - /v0.5/health-information/hip/request. Media contains the mimetype of content, and for v1, it is “application/fhir+json” checksum is Md5 checksum of the data conent, before encryption Please refer to the ABDM Sandbox documentation for the format of FHIR bundle that is passed through content\nNote: This API is actually the callback URL that is passed as dataPushUrl in the data request API - /v0.5/health-information/hip/request. This API is directly called by HIP Data Bridge and is not mediated via CM, and hence not routed through the Gateway.\nURL: {Data_push_url}/v0.5/health-information/transfer\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nBody:\n{ \"pageNumber\": 0, \"pageCount\": 0, \"transactionId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\", \"entries\": [ { \"content\": \"Encrypted content of data packaged in FHIR bundle\", \"media\": \"application/fhir+json\", \"checksum\": \"string\", \"careContextReference\": \"RVH1008\" }, { \"link\": \"https://data-from.net/sa2321afaf12e13\", \"media\": \"application/fhir+json\", \"checksum\": \"string\", \"careContextReference\": \"NCC1701\" } ], \"keyMaterial\": { \"cryptoAlg\": \"ECDH\", \"curve\": \"Curve25519\", \"dhPublicKey\": { \"expiry\": \"2022-06-22T09:07:16.948Z\", \"parameters\": \"Curve25519/32byte random key\", \"keyValue\": \"string\" }, \"nonce\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\n5. Notifications corresponding to events during data flow API called by HIU and HIP during data-transfer.\nHIP on transfer of data would send sessionStatus - one of [TRANSFERRED, FAILED] HIP would also send hiStatus for each careContextReference - on of [DELIVERED, ERRORED] HIU on receipt of data would send sessionStatus - one of [TRANSFERRED, FAILED]. For example, FAILED when if data was not sent or if invalid data was sent HIU would also send hiStatus for each careContextReference - one of [OK, ERRORED] URL: https://dev.ndhm.gov.in/gateway/v0.5/health-information/notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"499a5a4a-7dda-4f20-9b67-e24589627061\", \"timestamp\": \"2022-06-22T09:11:03.851Z\", \"notification\": { \"consentId\": \"a1s2c932-2f70-3ds3-a3b5-2sfd46b12a18d\", \"transactionId\": \"a1s2c932-2f70-3ds3-a3b5-2sfd46b12a18d\", \"doneAt\": \"2022-06-22T09:11:03.851Z\", \"notifier\": { \"type\": \"HIU\", \"id\": \"tmh\" }, \"statusNotification\": { \"sessionStatus\": \"TRANSFERRED\", \"hipId\": \"max\", \"statusResponses\": [ { \"careContextReference\": \"string\", \"hiStatus\": \"OK\", \"description\": \"string\" } ] } } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Data request and transfer","uri":"/abdm-docs/3-get-health-records/consent-flow/data-request-and-transfer/index.html"},{"content":"Collect Payment if Required The HSPA responds to the request by the EUA through on_init API. The HSPA sends the revised quote for the service booking and additionally sends terms of payment for the service. Depending on the payment terms the next step could lead to the EUA redirecting the user towards a payment gateway. UI Reference ","description":"","tags":null,"title":"Collect Payment","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/collect-payment-if-required/index.html"},{"content":"Every health facility has to do deal with both new and returning patients. It is important that the capture and saving of a PHR address be offered to both new and returning patients by the HRP software\nNew Patients For New users, its is recommended that all the demographic information saved by the HRP is exactly the same as in the PHR Address profile shared by the user.\nReturning Patients The following is the recommended steps to be followed by the HRP software\nCapture the users PHR address and profile using any of the above 3 methods Search their HRP system to see if there is an existing patient registration with the same mobile number / name If an existing patient is found – save the PHR address against existing patients only if the following condition is met Mobile number is an exact match Gender is an exact match Age is an exact match or is +/- 2 years Name is a close phonetic match The HRP may also first find a returning patient using a Hosptital MRD Number. In such a case, it is important that the demographic information in the PHR Address and the information in the HRP are matched to ensure at a incorrect PHR Address is not linked to any patient.\nPatients not sharing PHR Address It is quite possible that several patients may not share their PHR address at the time of registration because\nThey do not have a PHR Address or not aware of ABDM The have a PHR address but decide not to share it with the health facility This is prefectly valid and ABDM principles are designed such that users can decide when to join ABDM and collect their records.\nThe HRP software must continue to register patients that do not share their PHR Address.\n","description":"","tags":null,"title":"New vs Returning Patients","uri":"/abdm-docs/2-sharing-health-records/save-phr-address/new-vs-returning-patients/index.html"},{"content":"The UHI Gateway on Sandbox ABDM is operating a UHI gateway as part of its sandbox. This gateway can be used by UHI app developers to build and test their apps.\nEvery Application accessing the gateway must first register itself in the UHI registry on Sandbox. The UHI gateway does not have any web interface. It merely responds to the search / on_search request from UHI applications.\nSandbox UHI Gateway URL https://uhigatewaysandbox.abdm.gov.in/\nSandbox UHI Gateway Swagger https://uhigatewaysandbox.abdm.gov.in/swagger-ui/index.html\nThe Sandbox EUA Application APK for download Get a PHR Address from https://phrsbx.abdm.gov.in/ Mobile no based OTP login will be used for authentication You can then start searching for doctors and this will be sent to any HSPAs also registered on the UHI gateway The Sandbox HSPA Application APK for download Document How to set it up for testing ","description":"","tags":null,"title":"Sandbox Gateway, EUA \u0026 HSPA","uri":"/abdm-docs/uhi/uhi_sandbox_gw/index.html"},{"content":"The doctor can see their list of upcoming appointments by navigating through the homepage of the HSPA. While seeing their appointments, they are provided with a functionality to initiate a call to the patient.\nUI Reference API Documentation to be added\n","description":"","tags":null,"title":"See list of Appointments and Initiate Consultation","uri":"/abdm-docs/uhi/building-uhi-hspa/see-list-of-appointment-and-initiate-consultation/index.html"},{"content":"Update Mobile via Aadhaar Otp Overview of the functionality To update the mobile using Aadhaar OTP , a client ( Integrator) needs to first generate Mobile OTP and verify it. Again generate Aadhaar OTP and a transaction ID is returned. Auth token, OTP, old password along with transaction ID is passed in the requested body and client is returned with the status of changed mobile number. API Sequence The sequence of APIs used via this method is shown in the diagram below.\nNeed to confirm API flow snapshot provided in pdf is not correct\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Generate OTP on new mobile need to update existing account mobile number\nExplanation - Api Accepts New Mobile Number and Auth Token and creates OTP.\nRequest Body - Required\nResponce - Api Accepts New Mobile Number and Auth Token and creates OTP. Returns Error for Unauthorized Auth Token.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/new/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nmobileNumberNewRequestPayload (body)\n{ \"newMobileNumber\": \"9545812125\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Verify Mobile OTP to complete new mobile update verification.\nExplanation - Api Accepts New Mobile Number OTP and Verifies it.\nRequest Body - Required\nResponce - Api Accepts New Mobile Number OTP and Verifies it. Returns Error for Unauthorized OTP.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/new/verifyOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nVerifyMobileWebRequest (body)\n{ \"otp\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 5. Generate Aadhaar OTP on Registered mobile number to start mobile update.\nExplanation - Api Accepts Transaction ID and Creates OTP for linked mobile number.\nRequest Body - Required\nResponce - Api Accepts Transaction ID and Creates OTP for linked mobile number. Returns Error for Unauthorized Transaction ID.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/aadhaar/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nupdateMobileGenerateOTPPayload (body)\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 6. Change mobile number via password/aadhaar/existing mobile for Health ID.\nExplanation - Api Accepts password/aadhaar/existing mobile and new Mobiles OTP and Updates new mobile number.\nRequest Body - Required\nResponce - Api Accepts password/aadhaar/existing mobile and new Mobiles OTP and Updates new mobile number. Returns Error for Unauthorized OTP.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/update/authentication\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nupdateNewMobileNoRequestPayload (body)\n{ \"authMethod\": \"AADHAAR_OTP\", \"oldPassword\": \"UPjUGDnhCi7aaoVLMpR99wtpDKm58vjdFx1ref++/v2u+CN+/P4AKwQQgMNoMs1MPv8cosEebxBMMQN8qdy9Y1WWz8Fp4U3gXxGEAOl848uRItXNm9peyOm8gZewmH4FtEAvA6tGVts3FG8fFBct0RCYLQAnlTQrO7hbjz81LYcI6aOw3tcZVXfdoQJjC5mGhnXQmloVciduw478IVUkx4VA/A5Y8jLuEqLsujYbx46MB1ZKWPTvTfopMU5VxLdWNrvSubSBrFeHNQRDS8jB35AC1zEZbnbPPU5fuLvFlsYXedq9XvQZK/S4qzdjkgHVUFeGN/9zvpsoC/0AifJ19tsPCKik1GeXdL+iDqpPIIS65kAAKQ7W8loMSBcXDy7/YU0S9VbiwM4xNGV3Fp/lQHY/0p3p0lGykmifr1V5IrFNo1vTZqXTAvysf4F9d7lIGVj6+TNYojg4NnO7iRO6UhZtNEjhDEED55qH8z4Qzv8R8ZpOOMIR3HLlWadnVKFeLsko9QwLcabV7caY25sTXzLK3dOXnH/AHqneWkksiCcz/GBrVgNG6D82XxgqQT8IzIyHQl0on1rIPJU6VAZ/i++JyP9xEjSI8TjJuGS6eH2KO19mIFjyqvhFLe0vFyeLTLFWphv3KPNTneMPCixlGf0ksjaCwQGChHobC4eqWyY=\", \"otp\": \"UPjUGDnhCi7aaoVLMpR99wtpDKm58vjdFx1ref++/v2u+CN+/P4AKwQQgMNoMs1MPv8cosEebxBMMQN8qdy9Y1WWz8Fp4U3gXxGEAOl848uRItXNm9peyOm8gZewmH4FtEAvA6tGVts3FG8fFBct0RCYLQAnlTQrO7hbjz81LYcI6aOw3tcZVXfdoQJjC5mGhnXQmloVciduw478IVUkx4VA/A5Y8jLuEqLsujYbx46MB1ZKWPTvTfopMU5VxLdWNrvSubSBrFeHNQRDS8jB35AC1zEZbnbPPU5fuLvFlsYXedq9XvQZK/S4qzdjkgHVUFeGN/9zvpsoC/0AifJ19tsPCKik1GeXdL+iDqpPIIS65kAAKQ7W8loMSBcXDy7/YU0S9VbiwM4xNGV3Fp/lQHY/0p3p0lGykmifr1V5IrFNo1vTZqXTAvysf4F9d7lIGVj6+TNYojg4NnO7iRO6UhZtNEjhDEED55qH8z4Qzv8R8ZpOOMIR3HLlWadnVKFeLsko9QwLcabV7caY25sTXzLK3dOXnH/AHqneWkksiCcz/GBrVgNG6D82XxgqQT8IzIyHQl0on1rIPJU6VAZ/i++JyP9xEjSI8TjJuGS6eH2KO19mIFjyqvhFLe0vFyeLTLFWphv3KPNTneMPCixlGf0ksjaCwQGChHobC4eqWyY=\", \"txnId\": \"c3b0c27d-e19d-4244-b8bb-3fa19285054a\" } Response: 200 OK\nstring\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Update Mobile via Aadhaar Otp","uri":"/abdm-docs/6-m1-apis/user-profile/update-mobile-via-aadhaar-otp/index.html"},{"content":"Update Mobile via Mobile Otp Overview of the functionality To update the mobile using Mobile OTP , a client ( Integrator) needs to first generate Mobile OTP on a new number and verify it. Again generate Aadhaar OTP on the old number and a transaction ID is returned. Auth token, OTP , along with transaction ID is passed in the requested body and the client is returned with the status of changed mobile number. API Sequence The sequence of APIs used via this method is shown in the diagram below.\nAPI Information Request Response 1. Generate the Gateway session\nBearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"string\", \"clientSecret\": \"string\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"string\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"string\", \"tokenType\": \"bearer\" } 2. Authentication token public certificate. This certificate is also used to encrypt the data.\nURL: https://healthidsbx.abdm.gov.in/api/v1/auth/cert\nRequest: GET\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nResponse: 200 OK\nstring\n3. Generate OTP on new mobile need to update existing account mobile number\nExplanation - Api Accepts New Mobile Number and Auth Token and creates OTP.\nRequest Body - Required\nResponce - Api Accepts New Mobile Number and Auth Token and creates OTP. Returns Error for Unauthorized Auth Token.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/new/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nmobileNumberNewRequestPayload (body)\n{ \"newMobileNumber\": \"9545812125\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 4. Verify Mobile OTP to complete new mobile update verification.\nExplanation - Api Accepts New Mobile Number OTP and Verifies it.\nRequest Body - Required\nResponce - Api Accepts New Mobile Number OTP and Verifies it. Returns Error for Unauthorized OTP.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/new/verifyOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nVerifyMobileWebRequest (body)\n{ \"otp\": \"sw1uD+gpv3fj6NHBNhtcII3GksVtkLT9bvcz0svYDyUt/x3jTtedXSYgw4b90GTwfLfs1eow056VsOw9HFS/wB8uH5Ysx+QzpL7PxmAY1WOHwOj04sPKN6Dw8XY8vcXovtvZc1dUB+TPAlGGPNu8iqMVPetukysjRxgbNdLLKMxn46rIRb8NieeyuDx1EHa90jJP9KwKGZdsLr08BysrmMJExzTO9FT93CzoNg50/nxzaQgmkBSbu9D8DxJm7XrLzWSUB05YCknHbokm4iXwyYBsrmfFDE/xCDfzYPhYyhtEmOi4J/GMp+lO+gAHQFQtxkIADhoSR8WXGcAbCUj7uTjFsBU/tc+RtvSotso4FXy8v+Ylzj28jbFTmmOWyAwYi9pThQjXnmRnq43dVdd5OXmxIII6SXs0JzoFvKwSk7VxhuLIRYzKqrkfcnWMrrmRgE8xZ6ZLft6O3IeiHb9WA8b/6/qO8Hdd17FKsSF6te59gSpoajS0FtQIgFn/c+NHzQYo5ZdsuRGM9v+bhHTInI=\", \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 5. Generate Mobile OTP to start mobile update.\nExplanation - Api Accepts Transaction ID and Creates OTP for mobile number.\nRequest Body - Required\nResponce - Api Accepts Transaction ID and Creates OTP for mobile number. Returns Error for Unauthorized Transaction ID.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/old/generateOTP\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nupdateMobileGenerateOTPPayload (body)\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } Response: 200 OK\n{ \"txnId\": \"a825f76b-0696-40f3-864c-5a3a5b389a83\" } 6. Change mobile number via password/aadhaar/existing mobile for Health ID.\nExplanation - Api Accepts password/aadhaar/existing mobile and new Mobiles OTP and Updates new mobile number.\nRequest Body - Required\nResponce - Api Accepts password/aadhaar/existing mobile and new Mobiles OTP and Updates new mobile number. Returns Error for Unauthorized OTP.\nURL: https://healthidsbx.abdm.gov.in/api/v2/account/change/mobile/update/authentication\nRequest: POST\nParameters:\nAuthorization string (header)\nX-HIP-ID string (header)\nX-Token string (header)\nBody:\nupdateNewMobileNoRequestPayload (body)\n{ \"authMethod\": \"MOBILE_OTP\", \"oldPassword\": \"UPjUGDnhCi7aaoVLMpR99wtpDKm58vjdFx1ref++/v2u+CN+/P4AKwQQgMNoMs1MPv8cosEebxBMMQN8qdy9Y1WWz8Fp4U3gXxGEAOl848uRItXNm9peyOm8gZewmH4FtEAvA6tGVts3FG8fFBct0RCYLQAnlTQrO7hbjz81LYcI6aOw3tcZVXfdoQJjC5mGhnXQmloVciduw478IVUkx4VA/A5Y8jLuEqLsujYbx46MB1ZKWPTvTfopMU5VxLdWNrvSubSBrFeHNQRDS8jB35AC1zEZbnbPPU5fuLvFlsYXedq9XvQZK/S4qzdjkgHVUFeGN/9zvpsoC/0AifJ19tsPCKik1GeXdL+iDqpPIIS65kAAKQ7W8loMSBcXDy7/YU0S9VbiwM4xNGV3Fp/lQHY/0p3p0lGykmifr1V5IrFNo1vTZqXTAvysf4F9d7lIGVj6+TNYojg4NnO7iRO6UhZtNEjhDEED55qH8z4Qzv8R8ZpOOMIR3HLlWadnVKFeLsko9QwLcabV7caY25sTXzLK3dOXnH/AHqneWkksiCcz/GBrVgNG6D82XxgqQT8IzIyHQl0on1rIPJU6VAZ/i++JyP9xEjSI8TjJuGS6eH2KO19mIFjyqvhFLe0vFyeLTLFWphv3KPNTneMPCixlGf0ksjaCwQGChHobC4eqWyY=\", \"otp\": \"UPjUGDnhCi7aaoVLMpR99wtpDKm58vjdFx1ref++/v2u+CN+/P4AKwQQgMNoMs1MPv8cosEebxBMMQN8qdy9Y1WWz8Fp4U3gXxGEAOl848uRItXNm9peyOm8gZewmH4FtEAvA6tGVts3FG8fFBct0RCYLQAnlTQrO7hbjz81LYcI6aOw3tcZVXfdoQJjC5mGhnXQmloVciduw478IVUkx4VA/A5Y8jLuEqLsujYbx46MB1ZKWPTvTfopMU5VxLdWNrvSubSBrFeHNQRDS8jB35AC1zEZbnbPPU5fuLvFlsYXedq9XvQZK/S4qzdjkgHVUFeGN/9zvpsoC/0AifJ19tsPCKik1GeXdL+iDqpPIIS65kAAKQ7W8loMSBcXDy7/YU0S9VbiwM4xNGV3Fp/lQHY/0p3p0lGykmifr1V5IrFNo1vTZqXTAvysf4F9d7lIGVj6+TNYojg4NnO7iRO6UhZtNEjhDEED55qH8z4Qzv8R8ZpOOMIR3HLlWadnVKFeLsko9QwLcabV7caY25sTXzLK3dOXnH/AHqneWkksiCcz/GBrVgNG6D82XxgqQT8IzIyHQl0on1rIPJU6VAZ/i++JyP9xEjSI8TjJuGS6eH2KO19mIFjyqvhFLe0vFyeLTLFWphv3KPNTneMPCixlGf0ksjaCwQGChHobC4eqWyY=\", \"txnId\": \"c3b0c27d-e19d-4244-b8bb-3fa19285054a\" } Response: 200 OK\nstring\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Update Mobile via Mobile Otp","uri":"/abdm-docs/6-m1-apis/user-profile/update-mobile-via-mobile-otp/index.html"},{"content":"Signing in for the ABDM Sandbox Step 1: Once the Sandbox request form is submitted, the user can see the application submitted status by login in with Email id and Password.\nhttps://sandbox.ndhm.gov.in/applications/Home/login\nStep 2: On login, Application Submitted status (the current application status) is displayed in green.\nFor additional information on the various application status\nStep 3: Once the application is Approved by the committee, the user will receive an email containing stating Client id \u0026 Client Secret. On Frontend, the user will see the status changed to Sandbox Application Status.\nIf the status is approved and the user hasn’t received the client secret via email, kindly drop a mail to Integration.support@nha.gov.in\nStep 4: Once Client id \u0026 Client Secret are received via an email, please verify it and check if the correct response is received.\nCreate Session Server : https://dev.abdm.gov.in/gateway\nStep 5: Get certs for JWT Verification\nServer : https://dev.abdm.gov.in/gateway\nDownload the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Verify Sandbox Access","uri":"/abdm-docs/1-basics/verify_you_can_access_the_sandbox/index.html"},{"content":"How ABDM registers and identifies an entity Every organization that registers with ABDM is issued one or more Client IDs\nEach Client ID should be used by the organization to register ONE INSTANCE of their ABDM compiliant software\nEach instance of the software can hold health records for one or more health facilities\nThe figure below explains this using e-Hospital as an example\nThe Authorization Header Almost all ABDM APIs require you to pass the session token obtained via your client ID / secret in the Authorization HTTP Header. Remember to add the word “Bearer \" in front of the JWT access Token you obtain from the https://dev.abdm.gov.in/gateway/v0.5/sessions\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6IC..... ABDM Client IDs and Call back URLs HRPs and PHR apps that integrate with the HIE-CM do so via the ABDM gateway.\nThe HIE-CM APIs are designed to be asyncronous. When you call an API on the gateway, if the request is accepted you will merely get a HTTP 200 response acknowledging that the request has been recorded. Once the response is available, the gateway will invoke the callback URL registered for the Client ID\nAll integrators developing either a HRP or a PHR app must register a call back URL for their Client ID\n%%{init:{\"fontSize\": \"1.0rem\", \"sequence\":{\"showSequenceNumbers\":true}}}%% sequenceDiagram autonumber participant client as HRP participant gateway as ABDM Gateway Note over client : Each instance of HRP has a client Id from ABDM Note over client : Each instance registers a callback Url Note over gateway : Health Repository Providers holding user data client-\u003e\u003egateway: /v0.5/users/auth/fetch-modes gateway-\u003e\u003eclient: Response: 200 (as acknowledgment) Note right of client : asynchronous calls gateway-\u003e\u003eclient: /v0.5/users/auth/on-fetch-modes client-\u003e\u003egateway: Response: 200 (as acknowledgment) Registering your callback URL The callback URL is the url for the site where the HIP/HRP stores its records. Callback URL cannot be registered without a client Id and the client secret. After obtaining the client ID and the secret, use the gateway sessions api here to get the accessToken. Use the below api, to register the callback url, for “Authorization:” refer here and mention the callback url in the “url:”.\ncurl --location --request PATCH 'https://dev.abdm.gov.in/devservice/v1/bridges' --header 'Content-Type: application/json' --header 'Authorization: Bearer your-access-token-from-gateway-session' --data-raw '{ \"url\": \"https://my-emr-site.in\" } Disclaimer This API can’t be configured in production it can be configured only in sandbox\nOne can verify here whether the callback url is configured correctly.\nAfter registering the callback url, if we fire any API which has a callback, ABDM will post the response of the fired API to that callback url.\nLinking the HIPs / HIUs for a Client ID The HIP code used by ABDM is the same as the health facility registry ID. For details on how to register a health facility that uses your software go here.\nThe API below is only available in the Sandbox for quick setups. You can use it to link one HIP / HIU ID with your Client ID with no validations.\nExample\nunique-hip-id: HIP5234127\nYour-facility-name: My Nursing Home\ncurl --location --request PUT 'https://dev.abdm.gov.in/devservice/v1/bridges/services' --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'Authorization: Bearer your-access-token-from-gateway-session' --data-raw '{\"id\":\"unique-hip-id\",\"name\":\"Your-facility-name\",\"type\":\"HIP\",\"active\":true,\"alias\":[\"EG\"]}' All HIUs including PHR apps also need to register a HIU code. Example\nunique-hiu-id: MyAppName\nYour-App-Name: My App Name\ncurl --location --request PUT 'https://dev.abdm.gov.in/devservice/v1/bridges/services' --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'Authorization: Bearer your-access-token-from-gateway-session' --data-raw '{\"id\":\"unique-hiu-id\",\"name\":\"Your-App-name\",\"type\":\"HIU\",\"active\":true,\"alias\":[\"EG\"]}' For detailed APIs related to registration with the ABDM gateway\nhttps://sandbox.abdm.gov.in/swagger/ndhm-devservice.yaml\nYou can quickly try out how async APIs work using webhook\nGo to https://webhook.site Copy your unique URL shown on the page Register it with ABDM Gateway as shown here in Registering your callback URL. Ensure you get a Response: 200 Register a HIP / HIU of your choice with your client id as above. Ensure you get a Response: 200 Call a async Gateway API using a @sbx PHR address (if you need a phraddress create it at https://phrsbx.abdm.gov.in) Verify you get a callback at your webhook site. It should look like the image below ABDM HTTP Headers A single ABDM Client (also called a Bridge) can support multiple HIPs / HIUs on the same registered URL. In order to clearly identify which HIP / HIU this message was intented to be sent, the Gateway adds the following headers as part its API calls\nThe X-HIP-ID Header – Contains the health facility registry code that is linked to the Client ID The X-HIU-ID Header – Contains the health information user code that is linked to this Client ID The ABDM architecture is designed to support multiple HIE-CMs. Whenever you call any Gateway API you must include a header that tells the gateway which HIE-CM must this request be sent to\nX-CM-ID – Pass ‘sbx’ if you are in the sandbox, Pass ‘abdm’ if you are in production. You must get this from HIE-CM domain name suffixed after the @ symbol in a PHR address. Check your configuration URL: https://dev.abdm.gov.in/gateway/v1/bridges/getServices\nHEADER:\nAuthorization : JWT session token Response 200\n{ \"bridge\": { \"id\": \"TEST_002\", \"name\": \"Sandbox Test Bridge\", \"url\": \"https://webhook.site/6ea28791-96fd-4c60-a6ce-a1eb67556370\", \"active\": true, \"blocklisted\": false }, \"services\": [ { \"id\": \"KT-HIU\", \"name\": \"HIU for KT\", \"types\": [ \"HIU\" ], \"endpoints\": {}, \"active\": true }, { \"id\": \"KT-HIP\", \"name\": \"HIP for KT\", \"types\": [ \"HIP\" ], \"endpoints\": {}, \"active\": true }, ] } Request IDs and Correlation IDs Timestamp format Encrypting data fields Several APIs have enhanced security measures and you will need to encrypt the content of some fields.\ni. Sensitive data(Data like OTP, Aadhaar Number, Password, Username etc) have to be encrypted. ii. Data is encrypted by the public certificate. The certificate can be downloaded from the /v2/auth/cert API under Authentication tag in the version 2. iii. RSA Encryption to encrypt the data. Cipher Type - RSA/ECB/PKCS1Padding.\nCheckout this (online tool)[https://www.devglan.com/online-tools/rsa-encryption-decryption] for data encryption\nSecuring your callbacks ","description":"","tags":null,"title":"Working with ABDM APIs","uri":"/abdm-docs/1-basics/working_with_abdm_apis/index.html"},{"content":"This section describes the steps to build a PHR App\nOverview of the functions to be supported by a PHR app Architecture of a PHR App Sign Up for a PHR addresss Sign in for a PHR address Editing your PHR profile Sharing your PHR address at a Health facility Link/Unlik PHR Address to an ABHA number Subscribing to notifications for a PHR address Discovering Health facilities \u0026 requesting for your records Linking your records setting up an Auto approval policy to fetch health records Fetching linked health records Displaying FHIR records Listing Consent / Subscription requests Granting Consent / Subscription requests Revoking Consent / Subscription requests Sharing Health Records Uploading \u0026 Linking User records Presenting notifications to the user for new records Supporting UHI: intent ","description":"","tags":null,"title":"Building a PHR App","uri":"/abdm-docs/4-building-a-phr-app/index.html"},{"content":"User Profile This scenario covers\nGet the User profile Get the User QR Code Edit User Profile Update User E-mail Update User Mobile ","description":"","tags":null,"title":"User Profile","uri":"/abdm-docs/6-m1-apis/user-profile/index.html"},{"content":"Using FHIR to format your data This section provides an overview of the FHIR formats for health records in India and examples for the same\nIntroduction to FHIR \u0026 ABDM FHIR Implementation Guide Recommended libraries to build / verify FHIR data Diagnostic Report Prescription Discharge Summary OP Consultation Notes Wellness Record Moving to structured data ","description":"","tags":null,"title":"Using FHIR for data","uri":"/abdm-docs/2-sharing-health-records/using-fhir-for-data/index.html"},{"content":"Milestone 1 - Test Cases Milestone 1: ABHA creation and capture \u0026 verification for seamless patient registration\nS.No. Purpose Serial API Description 1 Registration 1.0.1 v1/auth/cert Authentication token public certificate. This certificate is also used to encrypt the data. 1.1 Registration Via Aadhaar 1.1.1 v1/registration/aadhaar/generateOtp Generate Aadhaar OTP on Registered mobile number 1.1.2 v1/registration/aadhaar/verifyOTP Verify Aadhaar OTP received on Registered mobile number 1.1.3 v1/registration/aadhaar/generateMobileOTP Generate Mobile OTP for verification. 1.1.4 v1/registration/aadhaar/verifyMobileOTP Verify Mobile OTP in an existing transaction. 1.1.5 v1/registration/aadhaar/createHealthIdByAadhar Create Health ID using pre-verified Aadhaar \u0026 Mobile. 1.1.6 v1/search/existsByHealthId Check the ABHA in our system.This API checks ifABHA is reserved/used which includes permanently deleted ABHAs. 1.2 Registration via Mobile 1.2.1 v2/registration/mobile/generateOtp Generate Mobile OTP to start registration transaction 1.2.2 v2/registration/mobile/verifyOtp Verify Mobile OTP sent as part of registration transaction. 1.2.3 v2/registration/mobile/createHidViaMobile Create ABHA with verified mobile token 1.2.4 v2/registration/mobile/resendOtp Resend Mobile OTP in an existing transaction in case previous OTP is not received. 1.3 Registration via Driving Licence 1.3.1 v2/document/generate/mobile/otp Generate Mobile OTP 1.3.2 v2/document/verify/mobile/otp Verify Mobile OTP 1.3.3 v2/document/validate Match the provided demographic details against document and check for the already created ABHA or Enrollment number against the document 1.3.4 v2/document Create ABHA using ID documents like Driving Licence 2 Login 2.0.1 v1/auth/cert Authentication token public certificate. This certificate is also used to encrypt the data. 2.0.2 v1/search/searchByHealthId Check the ABHA in our system.This API checks if ABHA is reserved/used which includes permanently deleted ABHAs. 2.0.3 v1/auth/init Initiate authentication process for given ABHA 2.1 Login via Aadhaar OTP 2.1.1 v1/auth/confirmWithAadhaarOtp Authentication with Aadhaar OTP based auth transaction 2.2 Login via Mobilr OTP 2.2.1 v1/auth/confirmWithMobileOTP Authentication with Mobile OTP based auth transaction. 2.3 Login via Password 2.3.1 v1/auth/authPassword Authenticate using ABHA and password 3 Forgot ABHA 3.0.1 v1/auth/cert Authentication token public certificate. This certificate is also used to encrypt the data. 3.0.2 v1/search/searchByHealthId Check the ABHA in our system.This API checks if ABHA is reserved/used which includes permanently deleted ABHAs. 3.1 Retrieve ABHA via Aadhaar 3.1.1 v2/auth/reactivate/init Initiate authentication for reactivation of ABHA 3.1.2 v2/auth/reactivate Confirm reactivation transaction with aadhar or mobile otp 3.2 Retrieve Health ID via Mobile 3.2.1 v2/auth/reactivate/init Initiate authentication for reactivation of ABHA 3.2.2 v2/auth/reactivate Confirm reactivation txn with aadhar or mobile otp 3.3 Retrieve Health ID via Password 3.3.1 v2/auth/reactivate/init Initiate authentication for reactivation of ABHA 4 Profile 4.1 Get Profile 4.1.1 v1/account/profile Get account information 5 Get QR code 5.1.1 v1/account/qrCode Get Quick Response code in PNG format for this account. 6 Edit Profile 6.1 Update Password 6.1.1 Update Password Via Aadhaar Otp 6.1.1.1 v1/account/change/passwd/generateAadhaarOTP Generate Aadhaar OTP on Registered mobile number. 6.1.1.2 v1/account/change/passwd/byAadhaar Change password via Aadhar for ABHA 6.1.1.3 v1/account/logout Logout 6.1.2 Update Password Via Password 6.1.2.1 v1/account/change/password Change password via password for ABHA 6.1.2.2 v1/account/logout Logout 6.1.3 Update Password Via Mobile Otp 6.1.3.1 v1/account/change/passwd/generateMobileOTP Generate Mobile OTP to start password change process. 6.1.3.2 v1/account/change/passwd/byMobile Change password via mobile for ABHA 6.1.3.3 v1/account/logout Logout 6.2 Update Mobile 6.2.1 Update Mobile via Password 6.2.1.1 v2/account/change/mobile/new/generateOTP Generate OTP on new mobile need to update existing account mobile number 6.2.1.2 v2/account/change/mobile/new/verifyOTP Verify Mobile OTP to complete new mobile update verification. 6.2.1.3 v2/account/change/mobile/update/authentication Change mobile number via password/aadhaar/existing mobile for ABHA 6.2.2 Update Mobile via Aadhaar Otp 6.2.2.1 v2/account/change/mobile/new/generateOTP Generate OTP on new mobile need to update existing account mobile number 6.2.2.2 v2/account/change/mobile/new/verifyOTP Verify Mobile OTP to complete new mobile update verification. 6.2.2.3 v2/account/change/mobile/aadhaar/generateOTP Generate Aadhaar OTP on Registered mobile number to start mobile update 6.2.2.4 v2/account/change/mobile/update/authentication Change mobile number via password/aadhaar/existing mobile for ABHA 6.2.3 Update Mobile via Mobile Otp 6.2.3.1 v2/account/change/mobile/new/generateOTP Generate OTP on new mobile need to update existing account mobile number 6.2.3.2 v2/account/change/mobile/new/verifyOTP Verify Mobile OTP to complete new mobile update verification. 6.2.3.3 v2/account/change/mobile/old/generateOTP Generate Mobile OTP to start mobile update. 6.2.3.4 v2/account/change/mobile/update/authentication Change mobile number via password/aadhaar/existing mobile for ABHA 6.3 Update Email 6.3.1 Update Email Via Aadhaar Otp 6.3.1.1 v2/account/email/verification/auth/initiate/send Send the Email Verification Activation Link to verify the E-mail Address 6.3.1.2 v2/account/email/verification/auth/verify Verfiy the user initiate the Activation Link 6.3.2 Update Email Via Mobile Otp 6.3.2.1 v2/account/email/verification/auth/initiate/send Send the Email Verification Activation Link to verify the E-mail Address 6.3.2.2 v2/account/email/verification/auth/verify Verfiy the user initiate the Activation Link 6.3.3 Update Email Via Password 6.3.3.1 v2/account/email/verification/auth/initiate/send Send the Email Verification Activation Link to verify the E-mail Address 6.3.3.2 v2/account/email/verification/auth/verify Verfiy the user initiate the Activation Link OPT OUT FEATURE 7 Delete ABHA 7.1 Delete ABHA using Aadhaar 7.1.1 v2/account/aadhaar/generateOTP Generate Aadhaar OTP on Registered for link account with aadhar number 7.1.2 v2/account/profile/delete Delete account 7.2 Delete ABHA using Mobile 7.2.1 v2/account/mobile/generateOTP Generate Mobile OTP to start mobile txn. 7.2.2 v2/account/profile/delete Delete account 7.3 Delete ABHA using password 7.3.1 v2/account/profile/delete Delete account 8 Deactivate ABHA 8.1 Deactivate ABHA using Aadhaar 8.1.1 v2/account/aadhaar/generateOTP Generate Aadhaar OTP on Registered for link account with aadhar number 8.1.2 v2/account/profile/deactivate Deactivate the account using mobile or aadhaar otp. 8.2 Deactivate ABHA using Mobile 8.2.1 v2/account/mobile/generateOTP Generate Mobile OTP to start mobile txn. 8.2.2 v2/account/profile/deactivate Deactivate the account using mobile or aadhaar otp. 8.3 Deactivate ABHA using password 8.3 v2/account/profile/deactivate Deactivate the account using mobile or aadhaar otp. ","description":"","tags":null,"title":" Milestone 1 - Test Cases","uri":"/abdm-docs/7-exiting-sandbox/milestone-1-test-cases/index.html"},{"content":"Status Notification Overview of the functionality API Sequence API Information Request Response 1. Generate the Gateway session Bearer token is received as part of respose and should be passed a Authorization token for subsequent API calls.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/sessions\nRequest: POST\nBody:\n{ \"clientId\": \"your-clientID\", \"clientSecret\": \"your-clientSecret\", \"grantType\": \"client_credentials\" } Response: 200 OK\n{ \"accessToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJBbFJiNVdDbThUbTlFSl9JZk85ejA2ajlvQ3Y1MXBLS0ZrbkdiX1RCdkswIn0.eyJleHAiOjE2NTMzNjkyNTYsImlhdCI6MTY1MzM2ODY1NnR\", \"expiresIn\": 600, \"refreshExpiresIn\": 1800, \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyMWU5NzA4OS00ZTcxLTQyNGEtOTAzYS1jOTAyMWM1NmFlNWYifQ.eyJleHAiOjE2NTMzNzA0NTYsImlhdCI6MTY1MzM2ODY1NiwianRpIjoi\", \"tokenType\": \"bearer\" } 2. Notification sent by Consent Manager Status (ACTIVE/DEACTIVATED/DELETED) will be sent to HIP. Note in addition to the “Authorization” header, one of the following headers must be specified\nX-HIU-ID if the requester is HIU X-HIP-ID if the requester is HIP URL: {HIU CALLBACK URL}/v0.5/patients/status/notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-HIP-ID string (header) : your-HIP-ID Identifier of the health information provider to which the request was intended\nX-HIU-ID string (header) : your-HIU-ID Identifier of the health information user to which the request was intended\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-23T06:20:24.437Z\", \"notification\": { \"status\": \"DEACTIVATED\", \"patient\": { \"id\": \"hina@ncg\" } } } Response:\n202 Accepted\n3. Acknowledgment by HIP/HIU This API is to be called by HIU/HIP bridge after receiving patient status (Activation/Reactivation/Deletion). In case of successfully receiving the notification “status” should sent as “OK” with no error.\nURL: https://dev.ndhm.gov.in/gateway/v0.5/patients/status/on-notify\nRequest: POST\nParameters:\nAuthorization string (header) : Bearer your-access-token-from-gateway-session Access token which was issued after successful login with gateway auth server\nX-CM-ID string (header) : sbx (or) abdm Suffix-of-the-consent-manager\nBody:\n{ \"requestId\": \"5f7a535d-a3fd-416b-b069-c97d021fbacd\", \"timestamp\": \"2022-06-23T06:24:44.930Z\", \"acknowledgment\": { \"status\": \"OK\" }, \"error\": null, \"resp\": { \"requestId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\" } } Response:\n202 Accepted\nPostman + Curl Collection Download the Postman Collection here\nDownload the Curls here\n","description":"","tags":null,"title":"Status Notification","uri":"/abdm-docs/3-get-health-records/consent-flow/status-notification/index.html"},{"content":"Confirm Booking Upon successful collection of payment or acceptance of agreeing to pay as per the terms sent by the HSPA the EUA calls the /confirm API on the HSPA. The HSPA responds with an on_confirm API to confirm the booking of the service and sends confirmation of the appointment with the doctor along with all the details of the appointment such as the doctor details, slot, payment, billing etc. UI Reference API Sequence Example JSONs The /init API is fired to the HSPA with the selected date and time as well as the customer and billing details.\nURL: {to be added} Method: POST Headers: Authorisation\n{ \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } Response to /init call\nStatus Code: {to be added} (ACK)\nPostman Collection: {to be added}\nA sample response via /on_confirm from the HSPA is as follows: { \"context\": { \"domain\": \"uhi:consultation\", \"country\": \"IND\", \"city\": \"std:080\", \"action\": \"on_confirm\", \"core_version\": \"0.7.1\", \"bap_id\": \"exampleapp.io\", \"bap_uri\": \"https://api.exampleapp.io/uhi/v0/\", \"bpp_id\": \"examplehspa.io\", \"bpp_uri\": \"https://api.examplehspa.io/uhi/v0/\", \"message_id\": \"5ac3dd78-829e-4c7d-9139-a15adbb582cc\", \"transaction_id\": \"8fa243cd-9f26-4a43-a422-714ba8f41bf2\", \"timestamp\": \"2021-03-23T10:00:40.065Z\" }, \"message\": { \"order\":{ \"id\":\"18393748\", \"state\":\"CONFIRMED\", \"provider\": { \"id\": \"289edce4-d002-4962-b311-4c025e22b4f6\", \"descriptor\": { \"name\": \"MAX Hospitals\" } }, \"item\": { \"id\": \"1\", \"descriptor\": { \"name\": \"Consultation\" }, \"fulfillment_id\": \"1\", \"price\": { \"currency\": \"INR\", \"value\": \"1000\" }, \"quantity\": { \"available\": \"1\" } }, \"fulfillment\": { \"id\": \"1\", \"type\": \"DIGITAL-CONSULT\", \"agent\": { \"id\": \"uhi://hpr?id=6486\", \"name\": \"Dr. Sana Bhatt\", \"gender\": \"Female\", \"image\": \"https://image/of/person.png\" }, \"start\": { \"time\": { \"timestamp\": \"2022-04-20T12:00:00Z+5:30\" } }, \"end\": { \"time\": { \"timestamp\": \"2022-04-20T12:30:00Z+5:30\" } }, \"customer\" : { \"id\" : \"john.doe@abdm\", \"person\" : { \"name\" : \"john Doe\", \"gender\" : \"male\" }, \"contact\" : { \"phone\" : \"+919764718472\", \"email\": \"customer@example.com\" } } }, \"billing\": { \"name\": \"John Doe\", \"address\": { \"door\": \"21A\", \"name\": \"ABC Apartments\", \"locality\": \"Dwarka\", \"city\": \"New Delhi\", \"state\": \"New Delhi\", \"country\": \"India\", \"area_code\": \"110011\" }, \"email\": \"user@example.com\", \"phone\": \"+919876543210\" }, \"quote\":{ \"price\":{ \"currency\": \"INR\", \"value\": \"1500\" }, \"breakup\":[ { \"title\": \"Consultation\", \"price\": { \"value\": \"1000\", \"currency\": \"INR\" } }, { \"title\": \"CGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"SGST @ 5%\", \"price\": { \"value\": \"50\", \"currency\": \"INR\" } }, { \"title\": \"Registration\", \"price\": { \"value\": \"400\", \"currency\": \"INR\" } } ] }, \"payment\": { \"uri\": \"https://api.bpp.com/pay?amt=1500\u0026txn_id=ksh87yriuro34iyr3p4\u0026mode=upi\u0026vpa=sana.bhatt@upi\", \"tl_method\": \"http/get\", \"params\": { \"transaction_id\": \"abc128-riocn83920\", \"amount\": \"1500\", \"mode\": \"upi\", \"vpa\": \"sana.bhatt@upi\" }, \"type\": \"ON-ORDER\", \"status\": \"PAID\" } } } } ","description":"","tags":null,"title":"Confirm Booking","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/confirm-booking/index.html"},{"content":"Register the health facility that uses your software and link it to your software endpoint Following article focuses on HMIS/LMIS/HRPs software providers can register the facilities which uses their softwares\nAll integrators are expected to first ensure their systems work correctly on sandbox before migrating to production.\nOn-boarding a Facility into a HFR: ABDM will support 2 methods to onboard health facilities\nMethod 1: Facility Manager registers via HFR Portal Health facility should sign up on the Health Facility Registry and then link the ABDM compatible HRP software it plans to use.\nFor Registration, please follow instructions in this PDF.\nOnce HFR Id is received, show process fof linking a facility with HRP s/w using HFR UI. (Check with Anshul)\nMethod 2: HIMS/LIMS Provider declares facility that uses their Softwares This is a new process where the HRP can declare the presence of the health facility in the Health Facility registry (HFR) via an API or by Bulk Upload.\nEvery HIMS/LIMS provider (HRP) must first register a Nodal contact as a Facility Manager and obtain a HPID.\nTo obtain HPID for a Nodat Contact, please click here.\nEnsure that HPID is created by using Password. Ensure that Client ID is enabled with the HPID role. (How to check role is assign link) To get the role added to ypur Client ID send an email request to abdm.support@nha.gov.in\nStep 1: Get a Session Token with your Client ID/Secret (Link to /abdm-docs/1-basics/sandbox_request_status_page/)\nStep 2: Authenticate your HPID using the passowrd\nhttps://hpridsbx.abdm.gov.in/api/swagger-ui.html#/. Expand the “Authentication” tab and select “/v1/auth/authPassword” API (Add API response here and proper API)\nStep 3: Declare the facility using CREATE API\nAdd Create facility API\nThe create API performs a search to see if the facility being registered is a possible duplicate. The search gets a list of facilities for the same State, District, PINCODE, facility ownership and then checks the levenshtein distance between the facility name and all registered facilities. The API call will fail if the levenshtein distance is less than 4 for any existing facility. If you are unable to register a facility and believe it is not a duplicate entry please write to integration.support@nha.gov.in\nStep 4: Link a declared Facility with your hosted endpoints\n","description":"","tags":null,"title":"Link Health Facilities with HRP","uri":"/abdm-docs/2-sharing-health-records/register_and_link_health_facility/index.html"},{"content":"The healthcare ecosystem has various types of applications. These include\nHMIS / LMIS systems – Anyone providing a healthcare software to hospitals, labs, clinics, etc Consumer Healthcare applications – Personal Health record applications, Teleconsultation applications, etc. Anyone building healthcare applications for consumers / patients Government Health apps – Software providers for goverment programs like RCH, NCD, NIKSHAY, COWIN, etc Each of the above apps can play multiple roles in the ABDM ecosystem depending on their requirement.\nFirst decide on the roles that your application will play in the ABDM ecosystem\nRole Applicable to Example Applications HRP / HIP Any application that holds health records and shares it on demand HIMS, LIMS, Teleconsultation Apps, user uploaded data in PHR apps, Government programs, etc HIU Any application that requires access to user health records HIMS, Teleconsultation Apps, PHR apps, Insurance apps PHR App Consumer applications that want to help users manage their health records \u0026 consents PHR Apps Integrated Programs Healthcare applications from the goverment CoWIN, Nikshay, eHospital, PMJAY, ABDM compliance testing will have to be passed for each role you wish to support in your application\nFor an explaination of the various roles read the PHR Architecture Overview\nFeatures to be supported by a HRP / HIP Register health facilities (HIPs) and link it to your software (HRP) endpoint Collect \u0026 Verify ABHA address during patient registration (Milestone 1) Help users discover their health records available in your system (Milestone 2) Notify or link a new health record with a ABHA address when it is created in your system (Milestone 2) Share the health record on request after verifying user consent (Milestone 2) Structure the health record in an inter-operable format using FHIR (Milestone 2) Support Consent revokes, deletion of ABHA address and uptime related heartbeats (Milestone 2) Features to be supported by a HIU Request access to health records linked with a ABHA address (Milestone 3) Fetch linked records from HRPs (Milestone 3) Organize and display fetched health records (Milestone 3) Features to be supported by a PHR app Issue a ABHA address to the user Link the ABHA address to a ABHA No if requested by the user Login (authenticate) the user Share user profile during registration at a healthcare provider Discover user records at a healthcare provider Link health records discovered by the user to their ABHA address Notify users when any new health records are linked to their ABHA address Raise consent requests and fetch newly linked records (Milestone 3) Organize and display fetched health records Help the user manage their consents \u0026 subscriptions Scan / Upload records held by the user and link it to their PHR address Act as a HRP for users health records and share it on demand Help users edit their profile, delete ABHA address Features to be supported by Integrated programs Goverment Health programs need to mandatorily support the following additional features apart from any of the above roles\nIssue an unique ABHA No to the user Create a linked ABHA address Link health records to ABHA No Fetch health records from ABHA No ","description":"","tags":null,"title":"Making your App ABDM Compliant","uri":"/abdm-docs/1-basics/making_your_app_abdm_compliant/index.html"},{"content":"After the teleconsultation has been completed with a patient, the doctor can share the prescription with the patient. The prescription format in the reference app compiles with the telemedicine guidelines. Sharing the record in context of ABDM UHI implies linking it with the patient’s ABHA address.\nUI References API Documentation to be added\n","description":"","tags":null,"title":"Share OPD Notes or Prescription","uri":"/abdm-docs/uhi/building-uhi-hspa/share-opd-notes-or-prescription/index.html"},{"content":"This documentation is designed for developers who want to integrate with the UHI Building Block\nIn this section we will cover\nWhat is UHI and how it uses the DHP protocol? What services can you build with UHI The UHI Sandbox Gateway Instance The UHI Sandbox EUA Application The UHI Sandbox HSPA Application Registering you EUA / HSPA to the UHI Sandbox registry ","description":"","tags":null,"title":"Building UHI Apps","uri":"/abdm-docs/uhi/index.html"},{"content":"This details out the steps to build your own EUA app including\nSign up / Sign in with PHR Address Select a UHI service Teleconsultations Search HSPAs for Doctor Display search results Book selected Doctor/Facility Collect Payment if required Confirm Booking Exchange Messages with Doctor Share health records Setup WebRTC (teleconsults) Initiate Call (teleconsults) Get final prescription Appointment booking Search HSPAs for Facility/Doctor Display search results Book selected Facility/Doctor Collect Payment if required Confirm Booking Ambulance booking Search HSPAs for Facility/Doctor Display search results Book selected Facility/Doctor Collect Payment if required Confirm Booking ","description":"","tags":null,"title":"Building UHI EUA App","uri":"/abdm-docs/uhi/building-uhi-eua/index.html"},{"content":"This details out the steps to build your own HSPA app including\nSign up / Sign in with HPR ID Setup for Teleconsults Setup for Physical Appointments See list of Appointments Initiate Teleconsultation Share OPD Notes / Prescription View Settlements ","description":"","tags":null,"title":"Building UHI HSPA App","uri":"/abdm-docs/uhi/building-uhi-hspa/index.html"},{"content":"Delete ABHA This scenario covers\nThrough Aadhaar OTP Through Mobile OTP ","description":"","tags":null,"title":"Delete ABHA","uri":"/abdm-docs/6-m1-apis/delete-abha/index.html"},{"content":"Milestone 2 - Test Cases Milestone 1 - Test cases Milestone 2 - Test cases ","description":"","tags":null,"title":" Milestone 2 - Test Cases","uri":"/abdm-docs/7-exiting-sandbox/milestone-2-test-cases/index.html"},{"content":"Exchange Messages with Doctor The exchange message functionality will be enabled as soon as the appointment with the doctor is confirmed by the HSPA. This will allow asynchronous messaging between the patient and the doctor.\nUI Reference ","description":"","tags":null,"title":"Exchange Messages with Doctor","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/exchange-messages-with-doctor/index.html"},{"content":"View Settlements The doctors can see the payment/settlement made against a service provided by navigating from the home screen and seeing their account statement in the app.\nUI Reference ","description":"","tags":null,"title":"Setup for Physical Consultation ","uri":"/abdm-docs/uhi/building-uhi-hspa/view-settlements/index.html"},{"content":"ABHA Number This section covers\nRegistration for ABHA (Health ID) Login with ABHA (Health ID) Login to your ABHA using Mobile Retrieve your account User Profile Delete ABHA (Health ID) Deactivate ABHA (Health ID) Reactivate ABHA (Health ID) ","description":"","tags":null,"title":"ABHA Number","uri":"/abdm-docs/6-m1-apis/index.html"},{"content":"Deactivate ABHA This scenario covers\nThrough Aadhaar OTP Through Mobile OTP ","description":"","tags":null,"title":"Deactivate ABHA","uri":"/abdm-docs/6-m1-apis/deactivate-abha/index.html"},{"content":"Share Health Records The shared health records functionality allows the patient to share health records linked to their ABHA address with the doctor. The reference EUA at present, provides a non-native experience to the patient, where, upon confirmation of appointment, health record sharing request is auto-triggered by the HSPA. The patient can choose any PHR application to share their health records with the doctor.\nThe functionality will be updated to provide a native experience to the user and the documentation will be updated accordingly.\nUI Reference: ","description":"","tags":null,"title":"Share Health Record","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/share-health-records/index.html"},{"content":"Reactivate ABHA This scenario covers\nThrough Aadhaar OTP Through Mobile OTP ","description":"","tags":null,"title":"Reactivate ABHA","uri":"/abdm-docs/6-m1-apis/reactivate-abha/index.html"},{"content":"Sandbox Exit Process Milestone 1 - Test cases Milestone 2 - Test cases ","description":"","tags":null,"title":"Sandbox Exit Process","uri":"/abdm-docs/7-exiting-sandbox/index.html"},{"content":"Utilities ","description":"","tags":null,"title":"Utilities","uri":"/abdm-docs/8-utilities/index.html"},{"content":"Setup WebRTC The EUA and HSPA provide real time communication between the patient and doctor using the WebRTC protocol.\nTo be added\n","description":"","tags":null,"title":"Setup Video Call","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/setup-webrtc/index.html"},{"content":"More ","description":"","tags":null,"title":"More","uri":"/abdm-docs/9-more/index.html"},{"content":"Initiate Call (Teleconsultation) The functionality to initiate a call with the doctor is enabled 30 mins prior to the scheduled appointment. The user starts the consultation only when the doctor allows them to join until then the user waits in the digital waiting room.\nReference UI ","description":"","tags":null,"title":"Initiate Call","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/initiate-call-tele-consults/index.html"},{"content":"Get final prescription The prescription sent by the doctor to the patient gets linked to their ABHA address. The user needs to be notified to check the PHR app to approve addition of the prescription to their health records.\nNote: Current reference EUA provides a non-native (patient moves out of the EUA) experience to the patient for addition of health records. This documentation will be updated as the functionality moves to a native experience for the user.\nUI Reference To be added\n","description":"","tags":null,"title":"Get Final Prescription","uri":"/abdm-docs/uhi/building-uhi-eua/teleconsults/get-final-prescription/index.html"},{"content":"Welcome to the ABDM Sandbox This documentation is designed for developers who want to integrate with the various ABDM Building Blocks.\nABDM Building Blocks ABDM Sandbox provides you access to APIs for the following Building Blocks\nAyushman Bharat Health Account (ABHA) - Formerly called Health ID. Health Information Exchange \u0026 Consent Manager (the @abdm HIE-CM) The Health Professionals Registry (HPR) The Health Facility Registry (HFR) Sandbox Tools The sandbox also hosts several developer tools that are useful during integration\nPHRWEB - Use this site to create a sandbox ABHA address (@sbx) to play with on the sandbox EMRSBX - A mock HIMS software where you can create and link health records with your sandbox ABHA address ABHA PHR App - Use the ABHA PHR application linked to the sandbox to discover health records, view and share them Coming Soon The following building blocks and their API documentation are work in progress and will be available soon\nUHI – The Unified Health Interface (UHI) gateway will enable interoperable digital health services HCX – The Health Claims Exchange will enable interoperable exchange of health claims between payers \u0026 providers starting with PMJAY ","description":"","tags":null,"title":"ABDM Sandbox Home","uri":"/abdm-docs/index.html"},{"content":"","description":"","tags":null,"title":"Categories","uri":"/abdm-docs/categories/index.html"},{"content":"","description":"","tags":null,"title":"Contents","uri":"/abdm-docs/content/index.html"},{"content":"","description":"","tags":null,"title":"Tags","uri":"/abdm-docs/tags/index.html"}]